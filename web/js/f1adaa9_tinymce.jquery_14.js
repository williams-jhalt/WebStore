(function(e,t){'use strict';var i={};function a(e,t){var r,a=[];for(var n=0;n<e.length;++n){r=i[e[n]]||o(e[n]);if(!r){throw'module definition dependecy not found: '+e[n]};a.push(r)};t.apply(null,a)};function n(e,n,r){if(typeof e!=='string'){throw'invalid module definition, module id must be defined and be a string'};if(n===t){throw'invalid module definition, dependencies must be specified'};if(r===t){throw'invalid module definition, definition function must be specified'};a(n,function(){i[e]=r.apply(null,arguments)})};function s(e){return!!i[e]};function o(t){var n=e,r=t.split(/[.\/]/);for(var i=0;i<r.length;++i){if(!n[r[i]]){return};n=n[r[i]]};return n};function r(n){var r,s,a,o,c;for(r=0;r<n.length;r++){s=e;a=n[r];o=a.split(/[.\/]/);for(var l=0;l<o.length-1;++l){if(s[o[l]]===t){s[o[l]]={}};s=s[o[l]]};s[o[o.length-1]]=i[a]};if(e.AMDLC_TESTS){c=e.privateModules||{};for(a in i){c[a]=i[a]};for(r=0;r<n.length;r++){delete c[n[r]]};e.privateModules=c}};n('tinymce/dom/EventUtils',[],function(){'use strict';var s='mce-data-',r=/^(?:mouse|contextmenu)|click/,a={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1};function n(e,t,n,i){if(e.addEventListener){e.addEventListener(t,n,i||!1)}
else if(e.attachEvent){e.attachEvent('on'+t,n)}};function i(e,t,n,i){if(e.removeEventListener){e.removeEventListener(t,n,i||!1)}
else if(e.detachEvent){e.detachEvent('on'+t,n)}};function e(e,t){var s,n=t||{},f;function c(){return!1};function l(){return!0};for(s in e){if(!a[s]){n[s]=e[s]}};if(!n.target){n.target=n.srcElement||document};if(e&&r.test(e.type)&&e.pageX===f&&e.clientX!==f){var u=n.target.ownerDocument||document,o=u.documentElement,i=u.body;n.pageX=e.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0);n.pageY=e.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)};n.preventDefault=function(){n.isDefaultPrevented=l;if(e){if(e.preventDefault){e.preventDefault()}
else{e.returnValue=!1}}};n.stopPropagation=function(){n.isPropagationStopped=l;if(e){if(e.stopPropagation){e.stopPropagation()}
else{e.cancelBubble=!0}}};n.stopImmediatePropagation=function(){n.isImmediatePropagationStopped=l;n.stopPropagation()};if(!n.isDefaultPrevented){n.isDefaultPrevented=c;n.isPropagationStopped=c;n.isImmediatePropagationStopped=c};if(typeof n.metaKey=='undefined'){n.metaKey=!1};return n};function o(e,t,r){var o=e.document,c={type:'ready'};if(r.domLoaded){t(c);return};function a(){if(!r.domLoaded){r.domLoaded=!0;t(c)}};function l(){if(o.readyState==='complete'||(o.readyState==='interactive'&&o.body)){i(o,'readystatechange',l);a()}};function s(){try{o.documentElement.doScroll('left')}catch(e){setTimeout(s,0);return};a()};if(o.addEventListener){if(o.readyState==='complete'){a()}
else{n(e,'DOMContentLoaded',a)}}
else{n(o,'readystatechange',l);if(o.documentElement.doScroll&&e.self===e.top){s()}};n(e,'load',a)};function t(){var t=this,a={},f,r,u,d,c;r=s+(+new Date()).toString(32);d='onmouseenter' in document.documentElement;u='onfocusin' in document.documentElement;c={mouseenter:'mouseover',mouseleave:'mouseout'};f=1;t.domLoaded=!1;t.events=a;function l(e,t){var r,i,s,n,o=a[t];r=o&&o[e.type];if(r){for(i=0,s=r.length;i<s;i++){n=r[i];if(n&&n.func.call(n.scope,e)===!1){e.preventDefault()};if(e.isImmediatePropagationStopped()){return}}}};t.bind=function(i,s,m,h){var g,v,x,p,b,y,w,C=window;function E(t){l(e(t||C.event),g)};if(!i||i.nodeType===3||i.nodeType===8){return};if(!i[r]){g=f++;i[r]=g;a[g]={}}
else{g=i[r]};h=h||i;s=s.split(' ');x=s.length;while(x--){p=s[x];y=E;b=w=!1;if(p==='DOMContentLoaded'){p='ready'};if(t.domLoaded&&p==='ready'&&i.readyState=='complete'){m.call(h,e({type:p}));continue};if(!d){b=c[p];if(b){y=function(t){var i,n;i=t.currentTarget;n=t.relatedTarget;if(n&&i.contains){n=i.contains(n)}
else{while(n&&n!==i){n=n.parentNode}};if(!n){t=e(t||C.event);t.type=t.type==='mouseout'?'mouseleave':'mouseenter';t.target=i;l(t,g)}}}};if(!u&&(p==='focusin'||p==='focusout')){w=!0;b=p==='focusin'?'focus':'blur';y=function(t){t=e(t||C.event);t.type=t.type==='focus'?'focusin':'focusout';l(t,g)}};v=a[g][p];if(!v){a[g][p]=v=[{func:m,scope:h}];v.fakeName=b;v.capture=w;v.nativeHandler=y;if(p==='ready'){o(i,y,t)}
else{n(i,b||p,y,w)}}
else{if(p==='ready'&&t.domLoaded){m({type:p})}
else{v.push({func:m,scope:h})}}};i=v=0;return m};t.unbind=function(e,n,o){var d,l,m,f,c,u;if(!e||e.nodeType===3||e.nodeType===8){return t};d=e[r];if(d){u=a[d];if(n){n=n.split(' ');m=n.length;while(m--){c=n[m];l=u[c];if(l){if(o){f=l.length;while(f--){if(l[f].func===o){var h=l.nativeHandler,g=l.fakeName,p=l.capture;l=l.slice(0,f).concat(l.slice(f+1));l.nativeHandler=h;l.fakeName=g;l.capture=p;u[c]=l}}};if(!o||l.length===0){delete u[c];i(e,l.fakeName||c,l.nativeHandler,l.capture)}}}}
else{for(c in u){l=u[c];i(e,l.fakeName||c,l.nativeHandler,l.capture)};u={}};for(c in u){return t};delete a[d];try{delete e[r]}catch(s){e[r]=null}};return t};t.fire=function(n,i,o){var a;if(!n||n.nodeType===3||n.nodeType===8){return t};o=e(null,o);o.type=i;o.target=n;do{a=n[r];if(a){l(o,a)};n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}
while(n&&!o.isPropagationStopped());return t};t.clean=function(e){var i,o,n=t.unbind;if(!e||e.nodeType===3||e.nodeType===8){return t};if(e[r]){n(e)};if(!e.getElementsByTagName){e=e.document};if(e&&e.getElementsByTagName){n(e);o=e.getElementsByTagName('*');i=o.length;while(i--){e=o[i];if(e[r]){n(e)}}};return t};t.destroy=function(){a={}};t.cancel=function(e){if(e){e.preventDefault();e.stopImmediatePropagation()};return!1}};t.Event=new t();t.Event.bind(window,'ready',function(){});return t});n('tinymce/dom/Sizzle',[],function(){if(!window.jQuery){throw new Error('Load jQuery first')};return jQuery.find});n('tinymce/Env',[],function(){var s=navigator,e=s.userAgent,o,n,t,r,i,u,f,a,c,l;o=window.opera&&window.opera.buildNumber;c=/Android/.test(e);n=/WebKit/.test(e);t=!n&&!o&&(/MSIE/gi).test(e)&&(/Explorer/gi).test(s.appName);t=t&&/MSIE (\w+)\./.exec(e)[1];r=e.indexOf('Trident/')!=-1&&(e.indexOf('rv:')!=-1||s.appName.indexOf('Netscape')!=-1)?11:!1;i=(e.indexOf('Edge/')!=-1&&!t&&!r)?12:!1;t=t||r||i;u=!n&&!r&&/Gecko/.test(e);f=e.indexOf('Mac')!=-1;a=/(iPad|iPhone)/.test(e);l='FormData' in window&&'FileReader' in window&&'URL' in window&&!!URL.createObjectURL;if(i){n=!1};var d=!a||l||e.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:o,webkit:n,ie:t,gecko:u,mac:f,iOS:a,android:c,contentEditable:d,transparentSrc:'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7',caretAfter:t!=8,range:window.getSelection&&'Range' in window,documentMode:t&&!i?(document.documentMode||7):10,fileApi:l}});n('tinymce/util/Arr',[],function(){var n=Array.isArray||function(e){return Object.prototype.toString.call(e)==='[object Array]'};function a(e){var i=e,t,r;if(!n(e)){i=[];for(t=0,r=e.length;t<r;t++){i[t]=e[t]}};return i};function e(e,n,i){var r,o;if(!e){return 0};i=i||e;if(e.length!==t){for(r=0,o=e.length;r<o;r++){if(n.call(i,e[r],r,e)===!1){return 0}}}
else{for(r in e){if(e.hasOwnProperty(r)){if(n.call(i,e[r],r,e)===!1){return 0}}}};return 1};function o(t,n){var i=[];e(t,function(e,r){i.push(n(e,r,t))});return i};function s(t,n){var i=[];e(t,function(e){if(!n||n(e)){i.push(e)}});return i};function r(e,t){var n,i;if(e){for(n=0,i=e.length;n<i;n++){if(e[n]===t){return n}}};return-1};function i(e,t,n,i){var r=0;if(arguments.length<3){n=e[0];r=1};for(;r<e.length;r++){n=t.call(i,n,e[r],r)};return n};return{isArray:n,toArray:a,each:e,map:o,filter:s,indexOf:r,reduce:i}});n('tinymce/util/Tools',['tinymce/Env','tinymce/util/Arr'],function(e,n){var f=/^\s*|\s*$/g;function o(e){return(e===null||e===t)?'':(''+e).replace(f,'')};function r(e,i){if(!i){return e!==t};if(i=='array'&&n.isArray(e)){return!0};return typeof e==i};function d(e,t,n){var i;e=e||[];t=t||',';if(typeof e=='string'){e=e.split(t)};n=n||{};i=e.length;while(i--){n[e[i]]={}};return n};function u(e,t,n){var a=this,o,r,i,s,c,l=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);i=e[3].match(/(^|\.)(\w+)$/i)[2];r=a.createNS(e[3].replace(/\.\w+$/,''),n);if(r[i]){return};if(e[2]=='static'){r[i]=t;if(this.onCreate){this.onCreate(e[2],e[3],r[i])};return};if(!t[i]){t[i]=function(){};l=1};r[i]=t[i];a.extend(r[i].prototype,t);if(e[5]){o=a.resolve(e[5]).prototype;s=e[5].match(/\.(\w+)$/i)[1];c=r[i];if(l){r[i]=function(){return o[s].apply(this,arguments)}}
else{r[i]=function(){this.parent=o[s];return c.apply(this,arguments)}};r[i].prototype[i]=r[i];a.each(o,function(e,t){r[i].prototype[t]=o[t]});a.each(t,function(e,t){if(o[t]){r[i].prototype[t]=function(){this.parent=o[t];return e.apply(this,arguments)}}
else{if(t!=i){r[i].prototype[t]=e}}})};a.each(t['static'],function(e,t){r[i][t]=e})};function m(e,n){var r,a,i,s=arguments,o;for(r=1,a=s.length;r<a;r++){n=s[r];for(i in n){if(n.hasOwnProperty(i)){o=n[i];if(o!==t){e[i]=o}}}};return e};function i(e,t,r,o){o=o||this;if(e){if(r){e=e[r]};n.each(e,function(e,n){if(t.call(o,e,n,r)===!1){return!1};i(e,t,r,o)})}};function l(e,t){var i,n;t=t||window;e=e.split('.');for(i=0;i<e.length;i++){n=e[i];if(!t[n]){t[n]={}};t=t[n]};return t};function s(e,t){var n,i;t=t||window;e=e.split('.');for(n=0,i=e.length;n<i;n++){t=t[e[n]];if(!t){break}};return t};function c(e,t){if(!e||r(e,'array')){return e};return n.map(e.split(t||','),o)};function a(t){var n=e.cacheSuffix;if(n){t+=(t.indexOf('?')===-1?'?':'&')+n};return t};return{trim:o,isArray:n.isArray,is:r,toArray:n.toArray,makeMap:d,each:n.each,map:n.map,grep:n.filter,inArray:n.indexOf,extend:m,create:u,walk:i,createNS:l,resolve:s,explode:c,_addCacheSuffix:a}});n('tinymce/dom/DomQuery',['tinymce/dom/EventUtils','tinymce/dom/Sizzle','tinymce/util/Tools','tinymce/Env'],function(e,n,i,r){var E=document,h=Array.prototype.push,M=Array.prototype.slice,L=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,f=e.Event,s,T=i.makeMap('children,contents,next,prev');function c(e){return typeof e!=='undefined'};function m(e){return typeof e==='string'};function P(e){return e&&e==e.window};function C(e,t){var i,r,n;t=t||E;n=t.createElement('div');i=t.createDocumentFragment();n.innerHTML=e;while((r=n.firstChild)){i.appendChild(r)};return i};function l(e,t,n,i){var r;if(m(t)){t=C(t,v(e[0]))}
else if(t.length&&!t.nodeType){t=o.makeArray(t);if(i){for(r=t.length-1;r>=0;r--){l(e,t[r],n,i)}}
else{for(r=0;r<t.length;r++){l(e,t[r],n,i)}};return e};if(t.nodeType){r=e.length;while(r--){n.call(e[r],t)}};return e};function b(e,t){return e&&t&&(' '+e.className+' ').indexOf(' '+t+' ')!==-1};function w(e,t,n){var r,i;t=o(t)[0];e.each(function(){var e=this;if(!n||r!=e.parentNode){r=e.parentNode;i=t.cloneNode(!1);e.parentNode.insertBefore(i,e);i.appendChild(e)}
else{i.appendChild(e)}});return e};var A=i.makeMap('fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom',' '),R=i.makeMap('checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected',' '),D={'for':'htmlFor','class':'className','readonly':'readOnly'};var y={'float':'cssFloat'};var u={},d={};function o(e,t){return new o.fn.init(e,t)};function O(e,t){var n;if(t.indexOf){return t.indexOf(e)};n=t.length;while(n--){if(t[n]===e){return n}};return-1};var B=/^\s*|\s*$/g;function N(e){return(e===null||e===s)?'':(''+e).replace(B,'')};function a(e,t){var o,r,i,a,n;if(e){o=e.length;if(o===a){for(r in e){if(e.hasOwnProperty(r)){n=e[r];if(t.call(n,r,n)===!1){break}}}}
else{for(i=0;i<o;i++){n=e[i];if(t.call(n,i,n)===!1){break}}}};return e};function S(e,t){var n=[];a(e,function(e,i){if(t(i,e)){n.push(i)}});return n};function v(e){if(!e){return E};if(e.nodeType==9){return e};return e.ownerDocument};o.fn=o.prototype={constructor:o,selector:'',context:null,length:0,init:function(e,t){var n=this,r,i;if(!e){return n};if(e.nodeType){n.context=n[0]=e;n.length=1;return n};if(t&&t.nodeType){n.context=t}
else{if(t){return o(e).attr(t)};n.context=t=document};if(m(e)){n.selector=e;if(e.charAt(0)==='<'&&e.charAt(e.length-1)==='>'&&e.length>=3){r=[null,e,null]}
else{r=L.exec(e)};if(r){if(r[1]){i=C(e,v(t)).firstChild;while(i){h.call(n,i);i=i.nextSibling}}
else{i=v(t).getElementById(r[2]);if(!i){return n};if(i.id!==r[2]){return n.find(e)};n.length=1;n[0]=i}}
else{return o(t).find(e)}}
else{this.add(e,!1)};return n},toArray:function(){return i.toArray(this)},add:function(e,t){var n=this,r,i;if(m(e)){return n.add(o(e))};if(t!==!1){r=o.unique(n.toArray().concat(o.makeArray(e)));n.length=r.length;for(i=0;i<r.length;i++){n[i]=r[i]}}
else{h.apply(n,o.makeArray(e))};return n},attr:function(e,t){var n=this,i;if(typeof e==='object'){a(e,function(e,t){n.attr(e,t)})}
else if(c(t)){this.each(function(){var n;if(this.nodeType===1){n=u[e];if(n&&n.set){n.set(this,t);return};if(t===null){this.removeAttribute(e,2)}
else{this.setAttribute(e,t,2)}}})}
else{if(n[0]&&n[0].nodeType===1){i=u[e];if(i&&i.get){return i.get(n[0],e)};if(R[e]){return n.prop(e)?e:s};t=n[0].getAttribute(e,2);if(t===null){t=s}};return t};return n},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;e=D[e]||e;if(typeof e==='object'){a(e,function(e,t){n.prop(e,t)})}
else if(c(t)){this.each(function(){if(this.nodeType==1){this[e]=t}})}
else{if(n[0]&&n[0].nodeType&&e in n[0]){return n[0][e]};return t};return n},css:function(e,t){var o=this,r,i;function u(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})};function l(e){return e.replace(/[A-Z]/g,function(e){return'-'+e})};if(typeof e==='object'){a(e,function(e,t){o.css(e,t)})}
else{if(c(t)){e=u(e);if(typeof t==='number'&&!A[e]){t+='px'};o.each(function(){var r=this.style;i=d[e];if(i&&i.set){i.set(this,t);return};try{this.style[y[e]||e]=t}catch(n){};if(t===null||t===''){if(r.removeProperty){r.removeProperty(l(e))}
else{r.removeAttribute(e)}}})}
else{r=o[0];i=d[e];if(i&&i.get){return i.get(r)};if(r.ownerDocument.defaultView){try{return r.ownerDocument.defaultView.getComputedStyle(r,null).getPropertyValue(l(e))}catch(n){return s}}
else if(r.currentStyle){return r.currentStyle[u(e)]}}};return o},remove:function(){var n=this,e,t=this.length;while(t--){e=n[t];f.clean(e);if(e.parentNode){e.parentNode.removeChild(e)}};return this},empty:function(){var n=this,e,t=this.length;while(t--){e=n[t];while(e.firstChild){e.removeChild(e.firstChild)}};return this},html:function(e){var n=this,i;if(c(e)){i=n.length;try{while(i--){n[i].innerHTML=e}}catch(t){o(n[i]).empty().append(e)};return n};return n[0]?n[0].innerHTML:''},text:function(e){var t=this,n;if(c(e)){n=t.length;while(n--){if('innerText' in t[n]){t[n].innerText=e}
else{t[0].textContent=e}};return t};return t[0]?(t[0].innerText||t[0].textContent):''},append:function(){return l(this,arguments,function(e){if(this.nodeType===1){this.appendChild(e)}})},prepend:function(){return l(this,arguments,function(e){if(this.nodeType===1){this.insertBefore(e,this.firstChild)}},!0)},before:function(){var e=this;if(e[0]&&e[0].parentNode){return l(e,arguments,function(e){this.parentNode.insertBefore(e,this)})};return e},after:function(){var e=this;if(e[0]&&e[0].parentNode){return l(e,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0)};return e},appendTo:function(e){o(e).append(this);return this},prependTo:function(e){o(e).prepend(this);return this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return w(this,e)},wrapAll:function(e){return w(this,e,!0)},wrapInner:function(e){this.each(function(){o(this).contents().wrapAll(e)});return this},unwrap:function(){return this.parent().each(function(){o(this).replaceWith(this.childNodes)})},clone:function(){var e=[];this.each(function(){e.push(this.cloneNode(!0))});return o(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;if(typeof e!='string'){return n};if(e.indexOf(' ')!==-1){a(e.split(' '),function(){n.toggleClass(this,t)})}
else{n.each(function(n,i){var o,r;r=b(i,e);if(r!==t){o=i.className;if(r){i.className=N((' '+o+' ').replace(' '+e+' ',' '))}
else{i.className+=o?' '+e:e}}})};return n},hasClass:function(e){return b(this[0],e)},each:function(e){return a(this,e)},on:function(e,t){return this.each(function(){f.bind(this,e,t)})},off:function(e,t){return this.each(function(){f.unbind(this,e,t)})},trigger:function(e){return this.each(function(){if(typeof e=='object'){f.fire(this,e.type,e)}
else{f.fire(this,e)}})},show:function(){return this.css('display','')},hide:function(){return this.css('display','none')},slice:function(){return new o(M.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,i,n=[];for(t=0,i=this.length;t<i;t++){o.find(e,this[t],n)};return o(n)},filter:function(e){if(typeof e=='function'){return o(S(this.toArray(),function(t,n){return e(n,t)}))};return o(o.filter(e,this.toArray()))},closest:function(e){var t=[];if(e instanceof o){e=e[0]};this.each(function(n,i){while(i){if(typeof e=='string'&&o(i).is(e)){t.push(i);break}
else if(i==e){t.push(i);break};i=i.parentNode}});return o(t)},offset:function(e){var n,i,t,o=0,a=0,r;if(!e){n=this[0];if(n){i=n.ownerDocument;t=i.documentElement;if(n.getBoundingClientRect){r=n.getBoundingClientRect();o=r.left+(t.scrollLeft||i.body.scrollLeft)-t.clientLeft;a=r.top+(t.scrollTop||i.body.scrollTop)-t.clientTop}};return{left:o,top:a}};return this.css(e)},push:h,sort:[].sort,splice:[].splice};i.extend(o,{extend:i.extend,makeArray:function(e){if(P(e)||e.nodeType){return[e]};return i.toArray(e)},inArray:O,isArray:i.isArray,each:a,trim:N,grep:S,find:n,expr:n.selectors,unique:n.uniqueSort,text:n.getText,contains:n.contains,filter:function(e,t,n){var i=t.length;if(n){e=':not('+e+')'}
while(i--){if(t[i].nodeType!=1){t.splice(i,1)}};if(t.length===1){t=o.find.matchesSelector(t[0],e)?[t[0]]:[]}
else{t=o.find.matches(e,t)};return t}});function k(e,n,i){var a=[],r=e[n];if(typeof i!='string'&&i instanceof o){i=i[0]}
while(r&&r.nodeType!==9){if(i!==t){if(r===i){break};if(typeof i=='string'&&o(r).is(i)){break}};if(r.nodeType===1){a.push(r)};r=r[n]};return a};function g(e,n,i,r){var a=[];if(r instanceof o){r=r[0]};for(;e;e=e[n]){if(i&&e.nodeType!==i){continue};if(r!==t){if(e===r){break};if(typeof r=='string'&&o(e).is(r)){break}};a.push(e)};return a};function x(e,t,n){for(e=e[t];e;e=e[t]){if(e.nodeType==n){return e}};return null};a({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return k(e,'parentNode')},next:function(e){return x(e,'nextSibling',1)},prev:function(e){return x(e,'previousSibling',1)},children:function(e){return g(e.firstChild,'nextSibling',1)},contents:function(e){return i.toArray((e.nodeName==='iframe'?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){o.fn[e]=function(n){var r=this,i=[];r.each(function(){var e=t.call(i,this,n,i);if(e){if(o.isArray(e)){i.push.apply(i,e)}
else{i.push(e)}}});if(this.length>1){if(!T[e]){i=o.unique(i)};if(e.indexOf('parents')===0){i=i.reverse()}};i=o(i);if(n){return i.filter(n)};return i}});a({parentsUntil:function(e,t){return k(e,'parentNode',t)},nextUntil:function(e,t){return g(e,'nextSibling',1,t).slice(1)},prevUntil:function(e,t){return g(e,'previousSibling',1,t).slice(1)}},function(e,t){o.fn[e]=function(n,i){var a=this,r=[];a.each(function(){var e=t.call(r,this,n,r);if(e){if(o.isArray(e)){r.push.apply(r,e)}
else{r.push(e)}}});if(this.length>1){r=o.unique(r);if(e.indexOf('parents')===0||e==='prevUntil'){r=r.reverse()}};r=o(r);if(i){return r.filter(i)};return r}});o.fn.is=function(e){return!!e&&this.filter(e).length>0};o.fn.init.prototype=o.fn;o.overrideDefaults=function(e){var t;function n(i,r){t=t||e();if(arguments.length===0){i=t.element};if(!r){r=t.context};return new n.fn.init(i,r)};o.extend(n,this);return n};function p(e,t,n){a(n,function(n,i){e[n]=e[n]||{};e[n][t]=i})};if(r.ie&&r.ie<8){p(u,'get',{maxlength:function(e){var t=e.maxLength;if(t===0x7fffffff){return s};return t},size:function(e){var t=e.size;if(t===20){return s};return t},'class':function(e){return e.className},style:function(e){var t=e.style.cssText;if(t.length===0){return s};return t}});p(u,'set',{'class':function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})};if(r.ie&&r.ie<9){y['float']='styleFloat';p(d,'set',{opacity:function(e,t){var n=e.style;if(t===null||t===''){n.removeAttribute('filter')}
else{n.zoom=1;n.filter='alpha(opacity='+(t*100)+')'}}})};o.attrHooks=u;o.cssHooks=d;return o});n('tinymce/html/Styles',[],function(){return function(e,t){var u=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,m=/(?:url(?:(?:\(\s*"([^"]+)"\s*\))|(?:\(\s*'([^']+)'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:'([^']+)')|(?:"([^"]+)")/gi,f=/\s*([^:]+):\s*([^;]+);?/g,d=/\s+$/,c,n,i={},o,a,r,s='\uFEFF';e=e||{};if(t){a=t.getValidStyles();r=t.getInvalidStyles()};o=('\\" \\\' \\; \\: ; : '+s).split(' ');for(n=0;n<o.length;n++){i[o[n]]=s+n;i[s+n]=o[n]};function l(e,t,n,i){function r(e){e=parseInt(e,10).toString(16);return e.length>1?e:'0'+e};return'#'+r(t)+r(n)+r(i)};return{toHex:function(e){return e.replace(u,l)},parse:function(t){var r={},c,a,o,g,v=e.url_converter;var w=e.url_converter_scope||this;function s(e,t,i){var c,l,s,a;c=r[e+'-top'+t];if(!c){return};l=r[e+'-right'+t];if(!l){return};s=r[e+'-bottom'+t];if(!s){return};a=r[e+'-left'+t];if(!a){return};var o=[c,l,s,a];n=o.length-1;while(n--){if(o[n]!==o[n+1]){break}};if(n>-1&&i){return};r[e+t]=n==-1?o[0]:o.join(' ');delete r[e+'-top'+t];delete r[e+'-right'+t];delete r[e+'-bottom'+t];delete r[e+'-left'+t]};function h(e){var t=r[e],n;if(!t){return};t=t.split(' ');n=t.length;while(n--){if(t[n]!==t[0]){return!1}};r[e]=t[0];return!0};function C(e,t,n,i){if(!h(t)){return};if(!h(n)){return};if(!h(i)){return};r[e]=r[t]+' '+r[n]+' '+r[i];delete r[t];delete r[n];delete r[i]};function y(e){g=!0;return i[e]};function p(e,t){if(g){e=e.replace(/\uFEFF[0-9]/g,function(e){return i[e]})};if(!t){e=e.replace(/\\(['";:])/g,'$1')};return e};function b(t,n,i,r,o,a){o=o||a;if(o){o=p(o);return'\''+o.replace(/'/g,'\\\'')+'\''};n=p(n||i||r);if(!e.allow_script_urls){var s=n.replace(/[\s\r\n]+/,'');if(/(java|vb)script:/i.test(s)){return''};if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(s)){return''}};if(v){n=v.call(w,n,'style')};return'url(\''+n.replace(/'/g,'\\\'')+'\')'};if(t){t=t.replace(/[\u0000-\u001F]/g,'');t=t.replace(/\\["';:\uFEFF]/g,y).replace(/"[^"]+"|'[^']+'/g,function(e){return e.replace(/[;:]/g,y)});while((c=f.exec(t))){a=c[1].replace(d,'').toLowerCase();o=c[2].replace(d,'');o=o.replace(/\\[0-9a-f]+/g,function(e){return String.fromCharCode(parseInt(e.substr(1),16))});if(a&&o.length>0){if(!e.allow_script_urls&&(a=='behavior'||/expression\s*\(|\/\*|\*\//.test(o))){continue};if(a==='font-weight'&&o==='700'){o='bold'}
else if(a==='color'||a==='background-color'){o=o.toLowerCase()};o=o.replace(u,l);o=o.replace(m,b);r[a]=g?p(o,!0):o};f.lastIndex=c.index+c[0].length};s('border','',!0);s('border','-width');s('border','-color');s('border','-style');s('padding','');s('margin','');C('border','border-width','border-style','border-color');if(r.border==='medium none'){delete r.border};if(r['border-image']==='none'){delete r['border-image']}};return r},serialize:function(e,t){var n='',o,i;function s(t){var o,r,s,i;o=a[t];if(o){for(r=0,s=o.length;r<s;r++){t=o[r];i=e[t];if(i!==c&&i.length>0){n+=(n.length>0?' ':'')+t+': '+i+';'}}}};function l(e,t){var n;n=r['*'];if(n&&n[e]){return!1};n=r[t];if(n&&n[e]){return!1};return!0};if(t&&a){s('*');s(t)}
else{for(o in e){i=e[o];if(i!==c&&i.length>0){if(!r||l(o,t)){n+=(n.length>0?' ':'')+o+': '+i+';'}}}};return n}}}});n('tinymce/dom/TreeWalker',[],function(){return function(e,t){var n=e;function i(e,n,i,r){var a,o;if(e){if(!r&&e[n]){return e[n]};if(e!=t){a=e[i];if(a){return a};for(o=e.parentNode;o&&o!=t;o=o.parentNode){a=o[i];if(a){return a}}}}};this.current=function(){return n};this.next=function(e){n=i(n,'firstChild','nextSibling',e);return n};this.prev=function(e){n=i(n,'lastChild','previousSibling',e);return n}}});n('tinymce/dom/Range',['tinymce/util/Tools'],function(e){function t(n){var i=this,g=n.doc,z=0,f=1,u=2,s=!0,c=!1,o='startOffset',r='startContainer',a='endContainer',l='endOffset',E=e.extend,d=n.nodeIndex;function b(){return g.createDocumentFragment()};function y(e,t){x(s,e,t)};function v(e,t){x(c,e,t)};function S(e){y(e.parentNode,d(e))};function F(e){y(e.parentNode,d(e)+1)};function I(e){v(e.parentNode,d(e))};function T(e){v(e.parentNode,d(e)+1)};function O(e){if(e){i[a]=i[r];i[l]=i[o]}
else{i[r]=i[a];i[o]=i[l]};i.collapsed=s};function L(e){S(e);T(e)};function H(e){y(e,0);v(e,e.nodeType===1?e.childNodes.length:e.nodeValue.length)};function W(e,t){var d=i[r],m=i[o],f=i[a],p=i[l],c=t.startContainer,n=t.startOffset,u=t.endContainer,s=t.endOffset;if(e===0){return h(d,m,c,n)};if(e===1){return h(f,p,c,n)};if(e===2){return h(f,p,u,s)};if(e===3){return h(d,m,u,s)}};function U(){w(u)};function K(){return w(z)};function k(){return w(f)};function q(e){var t=this[r],i=this[o],s,a;if((t.nodeType===3||t.nodeType===4)&&t.nodeValue){if(!i){t.parentNode.insertBefore(e,t)}
else if(i>=t.nodeValue.length){n.insertAfter(e,t)}
else{s=t.splitText(i);t.parentNode.insertBefore(e,s)}}
else{if(t.childNodes.length>0){a=t.childNodes[i]};if(a){t.insertBefore(e,a)}
else{if(t.nodeType==3){n.insertAfter(e,t)}
else{t.appendChild(e)}}}};function j(e){var t=i.extractContents();i.insertNode(e);e.appendChild(t);i.selectNode(e)};function V(){return E(new t(n),{startContainer:i[r],startOffset:i[o],endContainer:i[a],endOffset:i[l],collapsed:i.collapsed,commonAncestorContainer:i.commonAncestorContainer})};function C(e,t){var n;if(e.nodeType==3){return e};if(t<0){return e};n=e.firstChild;while(n&&t>0){--t;n=n.nextSibling};if(n){return n};return e};function Y(){return(i[r]==i[a]&&i[o]==i[l])};function h(e,t,i,r){var a,c,o,u,l,s;if(e==i){if(t==r){return 0};if(t<r){return-1};return 1};a=i;while(a&&a.parentNode!=e){a=a.parentNode};if(a){c=0;o=e.firstChild;while(o!=a&&c<t){c++;o=o.nextSibling};if(t<=c){return-1};return 1};a=e;while(a&&a.parentNode!=i){a=a.parentNode};if(a){c=0;o=i.firstChild;while(o!=a&&c<r){c++;o=o.nextSibling};if(c<r){return-1};return 1};u=n.findCommonAncestor(e,i);l=e;while(l&&l.parentNode!=u){l=l.parentNode};if(!l){l=u};s=i;while(s&&s.parentNode!=u){s=s.parentNode};if(!s){s=u};if(l==s){return 0};o=u.firstChild;while(o){if(o==l){return-1};if(o==s){return 1};o=o.nextSibling}};function x(e,t,s){var u,c;if(e){i[r]=t;i[o]=s}
else{i[a]=t;i[l]=s};u=i[a];while(u.parentNode){u=u.parentNode};c=i[r];while(c.parentNode){c=c.parentNode};if(c==u){if(h(i[r],i[o],i[a],i[l])>0){i.collapse(e)}}
else{i.collapse(e)};i.collapsed=Y();i.commonAncestorContainer=n.findCommonAncestor(i[r],i[a])};function w(e){var n,d=0,f=0,t,u,o,s,c,l;if(i[r]==i[a]){return A(e)};for(n=i[a],t=n.parentNode;t;n=t,t=t.parentNode){if(t==i[r]){return P(n,e)};++d};for(n=i[r],t=n.parentNode;t;n=t,t=t.parentNode){if(t==i[a]){return M(n,e)};++f};u=f-d;o=i[r];while(u>0){o=o.parentNode;u--};s=i[a];while(u<0){s=s.parentNode;u++};for(c=o.parentNode,l=s.parentNode;c!=l;c=c.parentNode,l=l.parentNode){o=c;s=l};return B(o,s,e)};function A(e){var n,h,m,t,d,y,v,c,a;if(e!=u){n=b()};if(i[o]==i[l]){return n};if(i[r].nodeType==3){h=i[r].nodeValue;m=h.substring(i[o],i[l]);if(e!=f){t=i[r];c=i[o];a=i[l]-i[o];if(c===0&&a>=t.nodeValue.length-1){t.parentNode.removeChild(t)}
else{t.deleteData(c,a)};i.collapse(s)};if(e==u){return};if(m.length>0){n.appendChild(g.createTextNode(m))};return n};t=C(i[r],i[o]);d=i[l]-i[o];while(t&&d>0){y=t.nextSibling;v=p(t,e);if(n){n.appendChild(v)};--d;t=y};if(e!=f){i.collapse(s)};return n};function P(e,t){var n,r,m,a,l,s;if(t!=u){n=b()};r=N(e,t);if(n){n.appendChild(r)};m=d(e);a=m-i[o];if(a<=0){if(t!=f){i.setEndBefore(e);i.collapse(c)};return n};r=e.previousSibling;while(a>0){l=r.previousSibling;s=p(r,t);if(n){n.insertBefore(s,n.firstChild)};--a;r=l};if(t!=f){i.setEndBefore(e);i.collapse(c)};return n};function M(e,t){var r,a,n,o,m,c;if(t!=u){r=b()};n=R(e,t);if(r){r.appendChild(n)};a=d(e);++a;o=i[l]-a;n=e.nextSibling;while(n&&o>0){m=n.nextSibling;c=p(n,t);if(r){r.appendChild(c)};--o;n=m};if(t!=f){i.setStartAfter(e);i.collapse(s)};return r};function B(e,t,n){var o,r,c,h,l,a,m;if(n!=u){r=b()};o=R(e,n);if(r){r.appendChild(o)};c=d(e);h=d(t);++c;l=h-c;a=e.nextSibling;while(l>0){m=a.nextSibling;o=p(a,n);if(r){r.appendChild(o)};a=m;--l};o=N(t,n);if(r){r.appendChild(o)};if(n!=f){i.setStartAfter(e);i.collapse(s)};return r};function N(e,t){var n=C(i[a],i[l]-1),r,o,p,h,d,f=n!=i[a];if(n==e){return m(n,f,c,t)};r=n.parentNode;o=m(r,c,c,t);while(r){while(n){p=n.previousSibling;h=m(n,f,c,t);if(t!=u){o.insertBefore(h,o.firstChild)};f=s;n=p};if(r==e){return o};n=r.previousSibling;r=r.parentNode;d=m(r,c,c,t);if(t!=u){d.appendChild(o)};o=d}};function R(e,t){var n=C(i[r],i[o]),f=n!=i[r],a,l,h,p,d;if(n==e){return m(n,f,s,t)};a=n.parentNode;l=m(a,c,s,t);while(a){while(n){h=n.nextSibling;p=m(n,f,s,t);if(t!=u){l.appendChild(p)};f=s;n=h};if(a==e){return l};n=a.nextSibling;a=a.parentNode;d=m(a,c,s,t);if(t!=u){d.appendChild(l)};l=d}};function m(e,t,r,a){var d,h,g,s,m;if(t){return p(e,a)};if(e.nodeType==3){d=e.nodeValue;if(r){s=i[o];h=d.substring(s);g=d.substring(0,s)}
else{s=i[l];h=d.substring(0,s);g=d.substring(s)};if(a!=f){e.nodeValue=g};if(a==u){return};m=n.clone(e,c);m.nodeValue=h;return m};if(a==u){return};return n.clone(e,c)};function p(e,t){if(t!=u){return t==f?n.clone(e,s):e};e.parentNode.removeChild(e)};function D(){return n.create('body',null,k()).outerText};E(i,{startContainer:g,startOffset:0,endContainer:g,endOffset:0,collapsed:s,commonAncestorContainer:g,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:y,setEnd:v,setStartBefore:S,setStartAfter:F,setEndBefore:I,setEndAfter:T,collapse:O,selectNode:L,selectNodeContents:H,compareBoundaryPoints:W,deleteContents:U,extractContents:K,cloneContents:k,insertNode:q,surroundContents:j,cloneRange:V,toStringIE:D});return i};t.prototype.toString=function(){return this.toStringIE()};return t});n('tinymce/html/Entities',['tinymce/util/Tools'],function(e){var f=e.makeMap,o,t,a,r=/[&<>"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,i=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/[<>&"']/g,d=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,c={128:'\u20AC',130:'\u201A',131:'\u0192',132:'\u201E',133:'\u2026',134:'\u2020',135:'\u2021',136:'\u02C6',137:'\u2030',138:'\u0160',139:'\u2039',140:'\u0152',142:'\u017D',145:'\u2018',146:'\u2019',147:'\u201C',148:'\u201D',149:'\u2022',150:'\u2013',151:'\u2014',152:'\u02DC',153:'\u2122',154:'\u0161',155:'\u203A',156:'\u0153',158:'\u017E',159:'\u0178'};t={'"':'&quot;','\'':'&#39;','<':'&lt;','>':'&gt;','&':'&amp;','\u0060':'&#96;'};a={'&lt;':'<','&gt;':'>','&amp;':'&','&quot;':'"','&apos;':'\''};function l(e){var t;t=document.createElement('div');t.innerHTML=e;return t.textContent||t.innerText||e};function s(e,n){var i,r,a,o={};if(e){e=e.split(',');n=n||10;for(i=0;i<e.length;i+=2){r=String.fromCharCode(parseInt(e[i],n));if(!t[r]){a='&'+e[i+1]+';';o[r]=a;o[a]=r}};return o}};o=s('50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro',32);var n={encodeRaw:function(e,n){return e.replace(n?r:i,function(e){return t[e]||e})},encodeAllRaw:function(e){return(''+e).replace(u,function(e){return t[e]||e})},encodeNumeric:function(e,n){return e.replace(n?r:i,function(e){if(e.length>1){return'&#'+(((e.charCodeAt(0)-0xD800)*0x400)+(e.charCodeAt(1)-0xDC00)+0x10000)+';'};return t[e]||'&#'+e.charCodeAt(0)+';'})},encodeNamed:function(e,n,a){a=a||o;return e.replace(n?r:i,function(e){return t[e]||a[e]||e})},getEncodeFunc:function(e,a){a=s(a)||o;function c(e,n){return e.replace(n?r:i,function(e){return t[e]||a[e]||'&#'+e.charCodeAt(0)+';'||e})};function l(e,t){return n.encodeNamed(e,t,a)};e=f(e.replace(/\+/g,','));if(e.named&&e.numeric){return c};if(e.named){if(a){return l};return n.encodeNamed};if(e.numeric){return n.encodeNumeric};return n.encodeRaw},decode:function(e){return e.replace(d,function(e,t){if(t){if(t.charAt(0).toLowerCase()==='x'){t=parseInt(t.substr(1),16)}
else{t=parseInt(t,10)};if(t>0xFFFF){t-=0x10000;return String.fromCharCode(0xD800+(t>>10),0xDC00+(t&0x3FF))};return c[t]||String.fromCharCode(t)};return a[e]||o[e]||l(e)})}};return n});n('tinymce/dom/StyleSheetLoader',['tinymce/util/Tools'],function(e){'use strict';return function(t,n){var s=0,i={},o;n=n||{};o=n.maxLoadTime||5000;function r(e){t.getElementsByTagName('head')[0].appendChild(e)};function a(n,a,l){var u,f,g,c;function h(){var t=c.passed,e=t.length;while(e--){t[e]()};c.status=2;c.passed=[];c.failed=[]};function m(){var t=c.failed,e=t.length;while(e--){t[e]()};c.status=3;c.passed=[];c.failed=[]};function y(){var e=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(e&&e[1]<536)};function v(e,t){if(!e()){if((new Date().getTime())-g<o){window.setTimeout(t,0)}
else{m()}}};function d(){v(function(){var r=t.styleSheets,e,i=r.length,n;while(i--){e=r[i];n=e.ownerNode?e.ownerNode:e.owningElement;if(n&&n.id===u.id){h();return!0}}},d)};function p(){v(function(){try{var t=f.sheet.cssRules;h();return!!t}catch(e){}},p)};n=e._addCacheSuffix(n);if(!i[n]){c={passed:[],failed:[]};i[n]=c}
else{c=i[n]};if(a){c.passed.push(a)};if(l){c.failed.push(l)};if(c.status==1){return};if(c.status==2){h();return};if(c.status==3){m();return};c.status=1;u=t.createElement('link');u.rel='stylesheet';u.type='text/css';u.id='u'+(s++);u.async=!1;u.defer=!1;g=new Date().getTime();if('onload' in u&&!y()){u.onload=d;u.onerror=m}
else{if(navigator.userAgent.indexOf('Firefox')>0){f=t.createElement('style');f.textContent='@import "'+n+'"';p();r(f);return};d()};r(u);u.href=n};this.load=a}});n('tinymce/dom/DOMUtils',['tinymce/dom/Sizzle','tinymce/dom/DomQuery','tinymce/html/Styles','tinymce/dom/EventUtils','tinymce/dom/TreeWalker','tinymce/dom/Range','tinymce/html/Entities','tinymce/Env','tinymce/util/Tools','tinymce/dom/StyleSheetLoader'],function(e,n,i,r,o,a,c,u,s,m){var d=s.each,h=s.is,C=s.grep,b=s.trim,f=u.ie,w=/^([a-z0-9],?)+$/i,y=/^[ \t\r\n]*$/;function v(e,t){var n={},r=t.keep_values,i;i={set:function(n,i,r){if(t.url_converter){i=t.url_converter.call(t.url_converter_scope||e,i,r,n[0])};n.attr('data-mce-'+r,i).attr(r,i)},get:function(e,t){return e.attr('data-mce-'+t)||e.attr(t)}};n={style:{set:function(e,t){if(t!==null&&typeof t==='object'){e.css(t);return};if(r){e.attr('data-mce-style',t)};e.attr('style',t)},get:function(t){var n=t.attr('data-mce-style')||t.attr('style');n=e.serializeStyle(e.parseStyle(n),t[0].nodeName);return n}}};if(r){n.href=n.src=i};return n};function p(e,t){var n=t.attr('style');n=e.serializeStyle(e.parseStyle(n),t[0].nodeName);if(!n){n=null};t.attr('data-mce-style',n)};function g(e,t){var r=0,i,n;if(e){for(i=e.nodeType,e=e.previousSibling;e;e=e.previousSibling){n=e.nodeType;if(t&&n==3){if(n==i||!e.nodeValue.length){continue}};r++;i=n}};return r};function l(e,t){var o=this,a;o.doc=e;o.win=window;o.files={};o.counter=0;o.stdMode=!f||e.documentMode>=8;o.boxModel=!f||e.compatMode=='CSS1Compat'||o.stdMode;o.styleSheetLoader=new m(e);o.boundEvents=[];o.settings=t=t||{};o.schema=t.schema;o.styles=new i({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema);o.fixDoc(e);o.events=t.ownEvents?new r(t.proxy):r.Event;o.attrHooks=v(o,t);a=t.schema?t.schema.getBlockElements():{};o.$=n.overrideDefaults(function(){return{context:e,element:o.getRoot()}});o.isBlock=function(e){if(!e){return!1};var t=e.nodeType;if(t){return!!(t===1&&a[e.nodeName])};return!!a[e]}};l.prototype={$$:function(e){if(typeof e=='string'){e=this.get(e)};return this.$(e)},root:null,fixDoc:function(e){var n=this.settings,t;if(f&&n.schema){('abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video').replace(/\w+/g,function(t){e.createElement(t)});for(t in n.schema.getCustomElements()){e.createElement(t)}}},clone:function(e,t){var i=this,n,r;if(!f||e.nodeType!==1||t){return e.cloneNode(t)};r=i.doc;if(!t){n=r.createElement(e.nodeName);d(i.getAttribs(e),function(t){i.setAttrib(n,t.nodeName,i.getAttrib(e,t.nodeName))});return n};return n.firstChild},getRoot:function(){var e=this;return e.settings.root_element||e.doc.body},getViewPort:function(e){var n,t;e=!e?this.win:e;n=e.document;t=this.boxModel?n.documentElement:n.body;return{x:e.pageXOffset||t.scrollLeft,y:e.pageYOffset||t.scrollTop,w:e.innerWidth||t.clientWidth,h:e.innerHeight||t.clientHeight}},getRect:function(e){var n=this,i,t;e=n.get(e);i=n.getPos(e);t=n.getSize(e);return{x:i.x,y:i.y,w:t.w,h:t.h}},getSize:function(e){var i=this,t,n;e=i.get(e);t=i.getStyle(e,'width');n=i.getStyle(e,'height');if(t.indexOf('px')===-1){t=0};if(n.indexOf('px')===-1){n=0};return{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,n,i,r){var o=this,s,a=[];e=o.get(e);r=r===t;i=i||(o.getRoot().nodeName!='BODY'?o.getRoot().parentNode:null);if(h(n,'string')){s=n;if(n==='*'){n=function(e){return e.nodeType==1}}
else{n=function(e){return o.is(e,s)}}}
while(e){if(e==i||!e.nodeType||e.nodeType===9){break};if(!n||n(e)){if(r){a.push(e)}
else{return e}};e=e.parentNode};return r?a:null},get:function(e){var t;if(e&&this.doc&&typeof e=='string'){t=e;e=this.doc.getElementById(e);if(e&&e.id!==t){return this.doc.getElementsByName(t)[1]}};return e},getNext:function(e,t){return this._findSib(e,t,'nextSibling')},getPrev:function(e,t){return this._findSib(e,t,'previousSibling')},select:function(t,n){var i=this;return e(t,i.get(n)||i.settings.root_element||i.doc,[])},is:function(n,i){var r;if(n.length===t){if(i==='*'){return n.nodeType==1};if(w.test(i)){i=i.toLowerCase().split(/,/);n=n.nodeName.toLowerCase();for(r=i.length-1;r>=0;r--){if(i[r]==n){return!0}};return!1}};if(n.nodeType&&n.nodeType!=1){return!1};var o=n.nodeType?[n]:n;return e(i,o[0].ownerDocument||o[0],null,o).length>0},add:function(e,t,n,i,r){var o=this;return this.run(e,function(e){var a;a=h(t,'string')?o.doc.createElement(t):t;o.setAttribs(a,n);if(i){if(i.nodeType){a.appendChild(i)}
else{o.setHTML(a,i)}};return!r?e.appendChild(a):a})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var r='',i;r+='<'+e;for(i in t){if(t.hasOwnProperty(i)&&t[i]!==null&&typeof t[i]!='undefined'){r+=' '+i+'="'+this.encode(t[i])+'"'}};if(typeof n!='undefined'){return r+'>'+n+'</'+e+'>'};return r+' />'},createFragment:function(e){var t,i,r=this.doc,n;n=r.createElement('div');t=r.createDocumentFragment();if(e){n.innerHTML=e}
while((i=n.firstChild)){t.appendChild(i)};return t},remove:function(e,t){e=this.$$(e);if(t){e.each(function(){var e;while((e=this.firstChild)){if(e.nodeType==3&&e.data.length===0){this.removeChild(e)}
else{this.parentNode.insertBefore(e,this)}}}).remove()}
else{e.remove()};return e.length>1?e.toArray():e[0]},setStyle:function(e,t,n){e=this.$$(e).css(t,n);if(this.settings.update_styles){p(this,e)}},getStyle:function(e,n,i){e=this.$$(e);if(i){return e.css(n)};n=n.replace(/-(\D)/g,function(e,t){return t.toUpperCase()});if(n=='float'){n=u.ie&&u.ie<12?'styleFloat':'cssFloat'};return e[0]&&e[0].style?e[0].style[n]:t},setStyles:function(e,t){e=this.$$(e).css(t);if(this.settings.update_styles){p(this,e)}},removeAllAttribs:function(e){return this.run(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--){e.removeAttributeNode(n.item(t))}})},setAttrib:function(e,t,n){var r=this,a,i,o=r.settings;if(n===''){n=null};e=r.$$(e);a=e.attr(t);if(!e.length){return};i=r.attrHooks[t];if(i&&i.set){i.set(e,n,t)}
else{e.attr(t,n)};if(a!=n&&o.onSetAttrib){o.onSetAttrib({attrElm:e,attrName:t,attrValue:n})}},setAttribs:function(e,t){var n=this;n.$$(e).each(function(e,i){d(t,function(e,t){n.setAttrib(i,t,e)})})},getAttrib:function(e,t,n){var o=this,r,i;e=o.$$(e);if(e.length){r=o.attrHooks[t];if(r&&r.get){i=r.get(e,t)}
else{i=e.attr(t)}};if(typeof i=='undefined'){i=n||''};return i},getPos:function(e,t){var c=this,a=0,o=0,i,s=c.doc,r=s.body,l;e=c.get(e);t=t||r;if(e){if(t===r&&e.getBoundingClientRect&&n(r).css('position')==='static'){l=e.getBoundingClientRect();t=c.boxModel?s.documentElement:r;a=l.left+(s.documentElement.scrollLeft||r.scrollLeft)-t.clientLeft;o=l.top+(s.documentElement.scrollTop||r.scrollTop)-t.clientTop;return{x:a,y:o}};i=e;while(i&&i!=t&&i.nodeType){a+=i.offsetLeft||0;o+=i.offsetTop||0;i=i.offsetParent};i=e.parentNode;while(i&&i!=t&&i.nodeType){a-=i.scrollLeft||0;o-=i.scrollTop||0;i=i.parentNode}};return{x:a,y:o}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var o=this,i=o.doc,n,t;if(o!==l.DOM&&i===document){var r=l.DOM.addedStyles;r=r||[];if(r[e]){return};r[e]=!0;l.DOM.addedStyles=r};t=i.getElementById('mceDefaultStyles');if(!t){t=i.createElement('style');t.id='mceDefaultStyles';t.type='text/css';n=i.getElementsByTagName('head')[0];if(n.firstChild){n.insertBefore(t,n.firstChild)}
else{n.appendChild(t)}};if(t.styleSheet){t.styleSheet.cssText+=e}
else{t.appendChild(i.createTextNode(e))}},loadCSS:function(e){var n=this,t=n.doc,i;if(n!==l.DOM&&t===document){l.DOM.loadCSS(e);return};if(!e){e=''};i=t.getElementsByTagName('head')[0];d(e.split(','),function(e){var r;e=s._addCacheSuffix(e);if(n.files[e]){return};n.files[e]=!0;r=n.create('link',{rel:'stylesheet',href:e});if(f&&t.documentMode&&t.recalc){r.onload=function(){if(t.recalc){t.recalc()};r.onload=null}};i.appendChild(r)})},addClass:function(e,t){this.$$(e).addClass(t)},removeClass:function(e,t){this.toggleClass(e,t,!1)},hasClass:function(e,t){return this.$$(e).hasClass(t)},toggleClass:function(e,t,i){this.$$(e).toggleClass(t,i).each(function(){if(this.className===''){n(this).attr('class',null)}})},show:function(e){this.$$(e).show()},hide:function(e){this.$$(e).hide()},isHidden:function(e){return this.$$(e).css('display')=='none'},uniqueId:function(e){return(!e?'mce_':e)+(this.counter++)},setHTML:function(e,t){e=this.$$(e);if(f){e.each(function(e,i){if(i.canHaveHTML===!1){return}
while(i.firstChild){i.removeChild(i.firstChild)};try{i.innerHTML='<br>'+t;i.removeChild(i.firstChild)}catch(r){n('<div>').html('<br>'+t).contents().slice(1).appendTo(i)};return t})}
else{e.html(t)}},getOuterHTML:function(e){e=this.get(e);return e.nodeType==1&&'outerHTML' in e?e.outerHTML:n('<div>').append(n(e).clone()).html()},setOuterHTML:function(e,t){var i=this;i.$$(e).each(function(){try{if('outerHTML' in this){this.outerHTML=t;return}}catch(e){};i.remove(n(this).html(t),!0)})},decode:c.decode,encode:c.encodeAllRaw,insertAfter:function(e,t){t=this.get(t);return this.run(e,function(e){var i,n;i=t.parentNode;n=t.nextSibling;if(n){i.insertBefore(e,n)}
else{i.appendChild(e)};return e})},replace:function(e,t,n){var i=this;return i.run(t,function(t){if(h(t,'array')){e=e.cloneNode(!0)};if(n){d(C(t.childNodes),function(t){e.appendChild(t)})};return t.parentNode.replaceChild(e,t)})},rename:function(e,t){var n=this,i;if(e.nodeName!=t.toUpperCase()){i=n.create(t);d(n.getAttribs(e),function(t){n.setAttrib(i,t.nodeName,n.getAttrib(e,t.nodeName))});n.replace(i,e,1)};return i||e},findCommonAncestor:function(e,t){var n=e,i;while(n){i=t;while(i&&n!=i){i=i.parentNode};if(n==i){break};n=n.parentNode};if(!n&&e.ownerDocument){return e.ownerDocument.documentElement};return n},toHex:function(e){return this.styles.toHex(s.trim(e))},run:function(e,t,n){var r=this,i;if(typeof e==='string'){e=r.get(e)};if(!e){return!1};n=n||this;if(!e.nodeType&&(e.length||e.length===0)){i=[];d(e,function(e,o){if(e){if(typeof e=='string'){e=r.get(e)};i.push(t.call(n,e,o))}});return i};return t.call(n,e)},getAttribs:function(e){var t;e=this.get(e);if(!e){return[]};if(f){t=[];if(e.nodeName=='OBJECT'){return e.attributes};if(e.nodeName==='OPTION'&&this.getAttrib(e,'selected')){t.push({specified:1,nodeName:'selected'})};var n=/<\/?[\w:\-]+ ?|=["][^"]+"|='[^']+'|=[\w\-]+|>/gi;e.cloneNode(!1).outerHTML.replace(n,'').replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})});return t};return e.attributes},isEmpty:function(e,t){var a=this,s,r,i,c,n,l=0;e=e.firstChild;if(e){c=new o(e,e.parentNode);t=t||(a.schema?a.schema.getNonEmptyElements():null);do{i=e.nodeType;if(i===1){if(e.getAttribute('data-mce-bogus')){continue};n=e.nodeName.toLowerCase();if(t&&t[n]){if(n==='br'){l++;continue};return!1};r=a.getAttribs(e);s=r.length;while(s--){n=r[s].nodeName;if(n==='name'||n==='data-mce-bookmark'){return!1}}};if(i==8){return!1};if((i===3&&!y.test(e.nodeValue))){return!1}}
while((e=c.next()));};return l<=1},createRng:function(){var e=this.doc;return e.createRange?e.createRange():new a(this)},nodeIndex:g,split:function(e,t,n){var i=this,r=i.createRng(),l,s,o;function a(e){var r,t=e.childNodes,n=e.nodeType;function s(e){var n=e.previousSibling&&e.previousSibling.nodeName=='SPAN',t=e.nextSibling&&e.nextSibling.nodeName=='SPAN';return n&&t};if(n==1&&e.getAttribute('data-mce-type')=='bookmark'){return};for(r=t.length-1;r>=0;r--){a(t[r])};if(n!=9){if(n==3&&e.nodeValue.length>0){var o=b(e.nodeValue).length;if(!i.isBlock(e.parentNode)||o>0||o===0&&s(e)){return}}
else if(n==1){t=e.childNodes;if(t.length==1&&t[0]&&t[0].nodeType==1&&t[0].getAttribute('data-mce-type')=='bookmark'){e.parentNode.insertBefore(t[0],e)};if(t.length||/^(br|hr|input|img)$/i.test(e.nodeName)){return}};i.remove(e)};return e};if(e&&t){r.setStart(e.parentNode,i.nodeIndex(e));r.setEnd(t.parentNode,i.nodeIndex(t));l=r.extractContents();r=i.createRng();r.setStart(t.parentNode,i.nodeIndex(t)+1);r.setEnd(e.parentNode,i.nodeIndex(e)+1);s=r.extractContents();o=e.parentNode;o.insertBefore(a(l),e);if(n){o.replaceChild(n,t)}
else{o.insertBefore(t,e)};o.insertBefore(a(s),e);i.remove(e);return n||t}},bind:function(e,t,n,i){var r=this;if(s.isArray(e)){var o=e.length;while(o--){e[o]=r.bind(e[o],t,n,i)};return e};if(r.settings.collect&&(e===r.doc||e===r.win)){r.boundEvents.push([e,t,n,i])};return r.events.bind(e,t,n,i||r)},unbind:function(e,t,n){var r=this,i;if(s.isArray(e)){i=e.length;while(i--){e[i]=r.unbind(e[i],t,n)};return e};if(r.boundEvents&&(e===r.doc||e===r.win)){i=r.boundEvents.length;while(i--){var o=r.boundEvents[i];if(e==o[0]&&(!t||t==o[1])&&(!n||n==o[2])){this.events.unbind(o[0],o[1],o[2])}}};return this.events.unbind(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;if(!e||e.nodeType!=1){return null};t=e.getAttribute('data-mce-contenteditable');if(t&&t!=='inherit'){return t};return e.contentEditable!=='inherit'?e.contentEditable:null},getContentEditableParent:function(e){var n=this.getRoot(),t=null;for(;e&&e!==n;e=e.parentNode){t=this.getContentEditable(e);if(t!==null){break}};return t},destroy:function(){var t=this;if(t.boundEvents){var i=t.boundEvents.length;while(i--){var n=t.boundEvents[i];this.events.unbind(n[0],n[1],n[2])};t.boundEvents=null};if(e.setDocument){e.setDocument()};t.win=t.doc=t.root=t.events=t.frag=null},isChildOf:function(e,t){while(e){if(t===e){return!0};e=e.parentNode};return!1},dumpRng:function(e){return('startContainer: '+e.startContainer.nodeName+', startOffset: '+e.startOffset+', endContainer: '+e.endContainer.nodeName+', endOffset: '+e.endOffset)},_findSib:function(e,t,n){var r=this,i=t;if(e){if(typeof i=='string'){i=function(e){return r.is(e,t)}};for(e=e[n];e;e=e[n]){if(i(e)){return e}}};return null}};l.DOM=new l(document);l.nodeIndex=g;return l});n('tinymce/dom/ScriptLoader',['tinymce/dom/DOMUtils','tinymce/util/Tools'],function(e,t){var r=e.DOM,n=t.each,o=t.grep;function i(){var m=0,f=1,a=2,e={},u=[],i={},s=[],l=0,c;function d(e,n){var a=r,i,o;function s(){a.remove(o);if(i){i.onreadystatechange=i.onload=i=null};n()};function l(){if(typeof console!=='undefined'&&console.log){console.log('Failed to load: '+e)}};o=a.uniqueId();i=document.createElement('script');i.id=o;i.type='text/javascript';i.src=t._addCacheSuffix(e);if('onreadystatechange' in i){i.onreadystatechange=function(){if(/loaded|complete/.test(i.readyState)){s()}}}
else{i.onload=s};i.onerror=l;(document.getElementsByTagName('head')[0]||document.body).appendChild(i)};this.isDone=function(t){return e[t]==a};this.markDone=function(t){e[t]=a};this.add=this.load=function(t,n,r){var o=e[t];if(o==c){u.push(t);e[t]=m};if(n){if(!i[t]){i[t]=[]};i[t].push({func:n,scope:r||this})}};this.loadQueue=function(e,t){this.loadScripts(u,e,t)};this.loadScripts=function(t,r,u){var m;function h(e){n(i[e],function(e){e.func.call(e.scope)});i[e]=c};s.push({func:r,scope:u||this});m=function(){var i=o(t);t.length=0;n(i,function(t){if(e[t]==a){h(t);return};if(e[t]!=f){e[t]=f;l++;d(t,function(){e[t]=a;l--;h(t);m()})}});if(!l){n(s,function(e){e.func.call(e.scope)});s.length=0}};m()}};i.ScriptLoader=new i();return i});n('tinymce/AddOnManager',['tinymce/dom/ScriptLoader','tinymce/util/Tools'],function(e,n){var r=n.each;function i(){var e=this;e.items=[];e.urls={};e.lookup={}};i.prototype={get:function(e){if(this.lookup[e]){return this.lookup[e].instance};return t},dependencies:function(e){var t;if(this.lookup[e]){t=this.lookup[e].dependencies};return t||[]},requireLangPack:function(t,n){var r=i.language;if(r&&i.languageLoad!==!1){if(n){n=','+n+',';if(n.indexOf(','+r.substr(0,2)+',')!=-1){r=r.substr(0,2)}
else if(n.indexOf(','+r+',')==-1){return}};e.ScriptLoader.add(this.urls[t]+'/langs/'+r+'.js')}},add:function(e,t,n){this.items.push(t);this.lookup[e]={instance:t,dependencies:n};return t},createUrl:function(e,t){if(typeof t==='object'){return t};return{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(t,n){var i=this.urls[t];r(n,function(t){e.ScriptLoader.add(i+'/'+t)})},load:function(n,o,a,s){var c=this,l=o;function u(){var i=c.dependencies(n);r(i,function(e){var n=c.createUrl(o,e);c.load(n.resource,n,t,t)});if(a){if(s){a.call(s)}
else{a.call(e)}}};if(c.urls[n]){return};if(typeof o==='object'){l=o.prefix+o.resource+o.suffix};if(l.indexOf('/')!==0&&l.indexOf('://')==-1){l=i.baseURL+'/'+l};c.urls[n]=l.substring(0,l.lastIndexOf('/'));if(c.lookup[n]){u()}
else{e.ScriptLoader.add(l,u,s)}}};i.PluginManager=new i();i.ThemeManager=new i();return i});n('tinymce/dom/RangeUtils',['tinymce/util/Tools','tinymce/dom/TreeWalker'],function(e,t){var i=e.each;function r(e,t){var n=e.childNodes;t--;if(t>n.length-1){t=n.length-1}
else if(t<0){t=0};return n[t]||e};function n(e){this.walk=function(t,n){var a=t.startContainer,b=t.startOffset,s=t.endContainer,g=t.endOffset,l,f,u,o,p,c,h;h=e.select('td.mce-item-selected,th.mce-item-selected');if(h.length>0){i(h,function(e){n([e])});return};function m(e){var t;t=e[0];if(t.nodeType===3&&t===a&&b>=t.nodeValue.length){e.splice(0,1)};t=e[e.length-1];if(g===0&&e.length>0&&t===s&&t.nodeType===3){e.splice(e.length-1,1)};return e};function y(e,t,n){var i=[];for(;e&&e!=n;e=e[t]){i.push(e)};return i};function v(e,t){do{if(e.parentNode==t){return e};e=e.parentNode}
while(e);};function d(e,t,i){var r=i?'nextSibling':'previousSibling';for(o=e,p=o.parentNode;o&&o!=t;o=p){p=o.parentNode;c=y(o==e?o:o[r],r);if(c.length){if(!i){c.reverse()};n(m(c))}}};if(a.nodeType==1&&a.hasChildNodes()){a=a.childNodes[b]};if(s.nodeType==1&&s.hasChildNodes()){s=r(s,g)};if(a==s){return n(m([a]))};l=e.findCommonAncestor(a,s);for(o=a;o;o=o.parentNode){if(o===s){return d(a,l,!0)};if(o===l){break}};for(o=s;o;o=o.parentNode){if(o===a){return d(s,l)};if(o===l){break}};f=v(a,l)||a;u=v(s,l)||s;d(a,f,!0);c=y(f==a?f:f.nextSibling,'nextSibling',u==s?u.nextSibling:u);if(c.length){n(m(c))};d(s,u)};this.split=function(e){var r=e.startContainer,i=e.startOffset,t=e.endContainer,n=e.endOffset;function o(e,t){return e.splitText(t)};if(r==t&&r.nodeType==3){if(i>0&&i<r.nodeValue.length){t=o(r,i);r=t.previousSibling;if(n>i){n=n-i;r=t=o(t,n).previousSibling;n=t.nodeValue.length;i=0}
else{n=0}}}
else{if(r.nodeType==3&&i>0&&i<r.nodeValue.length){r=o(r,i);i=0};if(t.nodeType==3&&n>0&&n<t.nodeValue.length){t=o(t,n).previousSibling;n=t.nodeValue.length}};return{startContainer:r,startOffset:i,endContainer:t,endOffset:n}};this.normalize=function(n){var i,r;function o(o){var s,l,m,f=e.getRoot(),a,u,c,p;function g(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)};function h(n,i){var r=new t(n,e.getParent(n.parentNode,e.isBlock)||f);while((n=r[i?'prev':'next']())){if(n.nodeName==='BR'){return!0}}};function v(e,t){return e.previousSibling&&e.previousSibling.nodeName==t};function d(n,o){var m,c,d;o=o||s;d=e.getParent(o.parentNode,e.isBlock)||f;if(n&&o.nodeName=='BR'&&p&&e.isEmpty(d)){s=o.parentNode;l=e.nodeIndex(o);i=!0;return};m=new t(o,d);while((a=m[n?'prev':'next']())){if(e.getContentEditableParent(a)==='false'){return};if(a.nodeType===3&&a.nodeValue.length>0){s=a;l=n?a.nodeValue.length:0;i=!0;return};if(e.isBlock(a)||u[a.nodeName.toLowerCase()]){return};c=a};if(r&&c){s=c;i=!0;l=0}};s=n[(o?'start':'end')+'Container'];l=n[(o?'start':'end')+'Offset'];p=s.nodeType==1&&l===s.childNodes.length;u=e.schema.getNonEmptyElements();c=o;if(s.nodeType==1&&l>s.childNodes.length-1){c=!1};if(s.nodeType===9){s=e.getRoot();l=0};if(s===f){if(c){a=s.childNodes[l>0?l-1:0];if(a){if(u[a.nodeName]||a.nodeName=='TABLE'){return}}};if(s.hasChildNodes()){l=Math.min(!c&&l>0?l-1:l,s.childNodes.length-1);s=s.childNodes[l];l=0;if(s.hasChildNodes()&&!/TABLE/.test(s.nodeName)){a=s;m=new t(s,f);do{if(a.nodeType===3&&a.nodeValue.length>0){l=c?0:a.nodeValue.length;s=a;i=!0;break};if(u[a.nodeName.toLowerCase()]&&!g(a)){l=e.nodeIndex(a);s=a.parentNode;if(a.nodeName=='IMG'&&!c){l++};i=!0;break}}
while((a=(c?m.next():m.prev())));}}};if(r){if(s.nodeType===3&&l===0){d(!0)};if(s.nodeType===1){a=s.childNodes[l];if(!a){a=s.childNodes[l-1]};if(a&&a.nodeName==='BR'&&!v(a,'A')&&!h(a)&&!h(a,!0)){d(!0,a)}}};if(c&&!r&&s.nodeType===3&&l===s.nodeValue.length){d(!1)};if(i){n['set'+(o?'Start':'End')](s,l)}};r=n.collapsed;o(!0);if(!r){o()};if(i&&r){n.collapse(!0)};return i}};n.compareRanges=function(e,t){if(e&&t){if(e.item||e.duplicate){if(e.item&&t.item&&e.item(0)===t.item(0)){return!0};if(e.isEqual&&t.isEqual&&t.isEqual(e)){return!0}}
else{return e.startContainer==t.startContainer&&e.startOffset==t.startOffset}};return!1};n.getCaretRangeFromPoint=function(e,t,n){var r,o;if(n.caretPositionFromPoint){o=n.caretPositionFromPoint(e,t);r=n.createRange();r.setStart(o.offsetNode,o.offset);r.collapse(!0)}
else if(n.caretRangeFromPoint){r=n.caretRangeFromPoint(e,t)}
else if(n.body.createTextRange){r=n.body.createTextRange();try{r.moveToPoint(e,t);r.collapse(!0)}catch(i){r.collapse(t<n.body.clientHeight)}};return r};n.getNode=function(e,t){if(e.nodeType==1&&e.hasChildNodes()){if(t>=e.childNodes.length){t=e.childNodes.length-1};e=e.childNodes[t]};return e};return n});n('tinymce/NodeChange',['tinymce/dom/RangeUtils','tinymce/Env'],function(e,t){return function(n){var r,i=[];function o(e){var r,t;t=n.$(e).parentsUntil(n.getBody()).add(e);if(t.length===i.length){for(r=t.length;r>=0;r--){if(t[r]!==i[r]){break}};if(r===-1){i=t;return!0}};i=t;return!1};if(!('onselectionchange' in n.getDoc())){n.on('NodeChange Click MouseUp KeyUp Focus',function(t){var i,o;i=n.selection.getRng();o={startContainer:i.startContainer,startOffset:i.startOffset,endContainer:i.endContainer,endOffset:i.endOffset};if(t.type=='nodechange'||!e.compareRanges(o,r)){n.fire('SelectionChange')};r=o})};n.on('contextmenu',function(){n.fire('SelectionChange')});n.on('SelectionChange',function(){var e=n.selection.getStart(!0);if(!t.range&&n.selection.isCollapsed()){return};if(!o(e)&&n.dom.isChildOf(e,n.getBody())){n.nodeChanged({selectionChange:!0})}});n.on('MouseUp',function(e){if(!e.isDefaultPrevented()){if(n.selection.getNode().nodeName=='IMG'){setTimeout(function(){n.nodeChanged()},0)}
else{n.nodeChanged()}}});this.nodeChanged=function(e){var o=n.selection,t,r,i;if(n.initialized&&o&&!n.settings.disable_nodechange&&!n.settings.readonly){i=n.getBody();t=o.getStart()||i;t=t.ownerDocument!=n.getDoc()?n.getBody():t;if(t.nodeName=='IMG'&&o.isCollapsed()){t=t.parentNode};r=[];n.dom.getParent(t,function(e){if(e===i){return!0};r.push(e)});e=e||{};e.element=t;e.parents=r;n.fire('NodeChange',e)}}}});n('tinymce/html/Node',[],function(){var i=/^[ \t\r\n]*$/,n={'#text':3,'#comment':8,'#cdata':4,'#pi':7,'#doctype':10,'#document-fragment':11};function t(e,t,n){var r,i,a=n?'lastChild':'firstChild',o=n?'prev':'next';if(e[a]){return e[a]};if(e!==t){r=e[o];if(r){return r};for(i=e.parent;i&&i!==t;i=i.parent){r=i[o];if(r){return r}}}};function e(e,t){this.name=e;this.type=t;if(t===1){this.attributes=[];this.attributes.map={}}};e.prototype={replace:function(e){var t=this;if(e.parent){e.remove()};t.insert(e,t);t.remove();return t},attr:function(e,t){var r=this,n,i,o;if(typeof e!=='string'){for(i in e){r.attr(i,e[i])};return r};if((n=r.attributes)){if(t!==o){if(t===null){if(e in n.map){delete n.map[e];i=n.length;while(i--){if(n[i].name===e){n=n.splice(i,1);return r}}};return r};if(e in n.map){i=n.length;while(i--){if(n[i].name===e){n[i].value=t;break}}}
else{n.push({name:e,value:t})};n.map[e]=t;return r};return n.map[e]}},clone:function(){var i=this,o=new e(i.name,i.type),r,s,a,n,t;if((a=i.attributes)){t=[];t.map={};for(r=0,s=a.length;r<s;r++){n=a[r];if(n.name!=='id'){t[t.length]={name:n.name,value:n.value};t.map[n.name]=n.value}};o.attributes=t};o.value=i.value;o.shortEnded=i.shortEnded;return o},wrap:function(e){var t=this;t.parent.insert(e,t);e.append(t);return t},unwrap:function(){var t=this,e,n;for(e=t.firstChild;e;){n=e.next;t.insert(e,t,!0);e=n};t.remove()},remove:function(){var e=this,n=e.parent,i=e.next,t=e.prev;if(n){if(n.firstChild===e){n.firstChild=i;if(i){i.prev=null}}
else{t.next=i};if(n.lastChild===e){n.lastChild=t;if(t){t.next=null}}
else{i.prev=t};e.parent=e.next=e.prev=null};return e},append:function(e){var t=this,n;if(e.parent){e.remove()};n=t.lastChild;if(n){n.next=e;e.prev=n;t.lastChild=e}
else{t.lastChild=t.firstChild=e};e.parent=t;return e},insert:function(e,t,n){var i;if(e.parent){e.remove()};i=t.parent||this;if(n){if(t===i.firstChild){i.firstChild=e}
else{t.prev.next=e};e.prev=t.prev;e.next=t;t.prev=e}
else{if(t===i.lastChild){i.lastChild=e}
else{t.next.prev=e};e.next=t.next;e.prev=t;t.next=e};e.parent=i;return e},getAll:function(e){var r=this,n,i=[];for(n=r.firstChild;n;n=t(n,r)){if(n.name===e){i.push(n)}};return i},empty:function(){var n=this,i,r,e;if(n.firstChild){i=[];for(e=n.firstChild;e;e=t(e,n)){i.push(e)};r=i.length;while(r--){e=i[r];e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}};n.firstChild=n.lastChild=null;return n},isEmpty:function(e){var a=this,n=a.firstChild,o,r;if(n){do{if(n.type===1){if(n.attributes.map['data-mce-bogus']){continue};if(e[n.name]){return!1};o=n.attributes.length;while(o--){r=n.attributes[o].name;if(r==='name'||r.indexOf('data-mce-bookmark')===0){return!1}}};if(n.type===8){return!1};if((n.type===3&&!i.test(n.value))){return!1}}
while((n=t(n,a)));};return!0},walk:function(e){return t(this,null,e)}};e.create=function(t,i){var o,r;o=new e(t,n[t]||1);if(i){for(r in i){o.attr(r,i[r])}};return o};return e});n('tinymce/html/Schema',['tinymce/util/Tools'],function(e){var i={},u={};var r=e.makeMap,n=e.each,o=e.extend,s=e.explode,c=e.inArray;function t(e,t){return e?e.split(t||' '):[]};function l(e){var l={},f,c;var s,a,m,d;function r(e,n,i){var a,r,s,o=arguments;function c(e,t){var r={},n,i;for(n=0,i=e.length;n<i;n++){r[e[n]]=t||{}};return r};i=i||[];n=n||'';if(typeof i==='string'){i=t(i)};for(r=3;r<o.length;r++){if(typeof o[r]==='string'){o[r]=t(o[r])};i.push.apply(i,o[r])};e=t(e);a=e.length;while(a--){s=[].concat(f,t(n));l[e[a]]={attributes:c(s),attributesOrder:s,children:c(i,u)}}};function o(e,n){var r,o,i,a;e=t(e);r=e.length;n=t(n);while(r--){o=l[e[r]];for(i=0,a=n.length;i<a;i++){o.attributes[n[i]]={};o.attributesOrder.push(n[i])}}};if(i[e]){return i[e]};f=t('id accesskey class dir lang style tabindex title');c=t('address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul');s=t('a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment');if(e!='html4'){f.push.apply(f,t('contenteditable contextmenu draggable dropzone hidden spellcheck translate'));c.push.apply(c,t('article aside details dialog figure header footer hgroup section nav'));s.push.apply(s,t('audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen'))};if(e!='html5-strict'){f.push('xml:lang');d=t('acronym applet basefont big font strike tt');s.push.apply(s,d);n(d,function(e){r(e,'',s)});m=t('center dir isindex noframes');c.push.apply(c,m);a=[].concat(c,s);n(m,function(e){r(e,'',a)})};a=a||[].concat(c,s);r('html','manifest','head body');r('head','','base command link meta noscript script style title');r('title hr noscript br');r('base','href target');r('link','href rel media hreflang type sizes hreflang');r('meta','name http-equiv content charset');r('style','media type scoped');r('script','src async defer type charset');r('body','onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload',a);r('address dt dd div caption','',a);r('h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn','',s);r('blockquote','cite',a);r('ol','reversed start type','li');r('ul','','li');r('li','value',a);r('dl','','dt dd');r('a','href target rel media hreflang type',s);r('q','cite',s);r('ins del','cite datetime',a);r('img','src sizes srcset alt usemap ismap width height');r('iframe','src name width height',a);r('embed','src type width height');r('object','data type typemustmatch name usemap form width height',a,'param');r('param','name value');r('map','name',a,'area');r('area','alt coords shape href target rel media hreflang type');r('table','border','caption colgroup thead tfoot tbody tr'+(e=='html4'?' col':''));r('colgroup','span','col');r('col','span');r('tbody thead tfoot','','tr');r('tr','','td th');r('td','colspan rowspan headers',a);r('th','colspan rowspan headers scope abbr',a);r('form','accept-charset action autocomplete enctype method name novalidate target',a);r('fieldset','disabled form name',a,'legend');r('label','form for',s);r('input','accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width');r('button','disabled form formaction formenctype formmethod formnovalidate formtarget name type value',e=='html4'?a:s);r('select','disabled form multiple name required size','option optgroup');r('optgroup','disabled label','option');r('option','disabled label selected value');r('textarea','cols dirname disabled form maxlength name readonly required rows wrap');r('menu','type label',a,'li');r('noscript','',a);if(e!='html4'){r('wbr');r('ruby','',s,'rt rp');r('figcaption','',a);r('mark rt rp summary bdi','',s);r('canvas','width height',a);r('video','src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered',a,'track source');r('audio','src crossorigin preload autoplay mediagroup loop muted controls buffered volume',a,'track source');r('picture','','img source');r('source','src srcset type media sizes');r('track','kind src srclang label default');r('datalist','',s,'option');r('article section nav aside header footer','',a);r('hgroup','','h1 h2 h3 h4 h5 h6');r('figure','',a,'figcaption');r('time','datetime',s);r('dialog','open',a);r('command','type label icon disabled checked radiogroup command');r('output','for form name',s);r('progress','value max',s);r('meter','value min max low high optimum',s);r('details','open',a,'summary');r('keygen','autofocus challenge disabled form keytype name')};if(e!='html5-strict'){o('script','language xml:space');o('style','xml:space');o('object','declare classid code codebase codetype archive standby align border hspace vspace');o('embed','align name hspace vspace');o('param','valuetype type');o('a','charset name rev shape coords');o('br','clear');o('applet','codebase archive code object alt name width height align hspace vspace');o('img','name longdesc align border hspace vspace');o('iframe','longdesc frameborder marginwidth marginheight scrolling align');o('font basefont','size color face');o('input','usemap align');o('select','onchange');o('textarea');o('h1 h2 h3 h4 h5 h6 div p legend caption','align');o('ul','type compact');o('li','type');o('ol dl menu dir','compact');o('pre','width xml:space');o('hr','align noshade size width');o('isindex','prompt');o('table','summary width frame rules cellspacing cellpadding align bgcolor');o('col','width align char charoff valign');o('colgroup','width align char charoff valign');o('thead','align char charoff valign');o('tr','align char charoff valign bgcolor');o('th','axis align char charoff valign nowrap bgcolor width height');o('form','accept');o('td','abbr axis scope align char charoff valign nowrap bgcolor width height');o('tfoot','align char charoff valign');o('tbody','align char charoff valign');o('area','nohref');o('body','background bgcolor text link vlink alink')};if(e!='html4'){o('input button select textarea','autofocus');o('input textarea','placeholder');o('a','download');o('link script img','crossorigin');o('iframe','sandbox seamless allowfullscreen')};n(t('a form meter progress dfn'),function(e){if(l[e]){delete l[e].children[e]}});delete l.caption.children.table;delete l.script;i[e]=l;return l};function a(e,t){var i;if(e){i={};if(typeof e=='string'){e={'*':e}};n(e,function(e,n){i[n]=i[n.toUpperCase()]=t=='map'?r(e,/[, ]/):s(e,/[, ]/)})};return i};return function(e){var u=this,f={},d={},h=[],O,S,y;var P,T,x,B,A,g,C,R,v,D,M={},L={};function m(t,n,a){var s=e[t];if(!s){s=i[t];if(!s){s=r(n,' ',r(n.toUpperCase(),' '));s=o(s,a);i[t]=s}}
else{s=r(s,/[, ]/,r(s.toUpperCase(),/[, ]/))};return s};e=e||{};y=l(e.schema);if(e.verify_html===!1){e.valid_elements='*[*]'};O=a(e.valid_styles);S=a(e.invalid_styles,'map');A=a(e.valid_classes,'map');P=m('whitespace_elements','pre script noscript style textarea video audio iframe object');T=m('self_closing_elements','colgroup dd dt li option p td tfoot th thead tr');x=m('short_ended_elements','area base basefont br col frame hr img input isindex link meta param embed source wbr track');B=m('boolean_attributes','checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls');C=m('non_empty_elements','td th iframe video audio object script',x);R=m('move_caret_before_on_enter_elements','table',C);v=m('text_block_elements','h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure');g=m('block_elements','hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup',v);D=m('text_inline_elements','span strong b em i font strike u var cite dfn code mark q sup sub samp');n((e.special||'script noscript style textarea').split(' '),function(e){L[e]=new RegExp('<\/'+e+'[^>]*>','gi')});function N(e){return new RegExp('^'+e.replace(/([?+*])/g,'.$1')+'$')};function p(e){var v,k,y,S,i,n,l,p,m,o,C,u,a,s,x,d,b,w,g,R=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,T=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,E=/[*?+]/;if(e){e=t(e,',');if(f['@']){d=f['@'].attributes;b=f['@'].attributesOrder};for(v=0,k=e.length;v<k;v++){i=R.exec(e[v]);if(i){s=i[1];m=i[2];x=i[3];p=i[5];u={};a=[];n={attributes:u,attributesOrder:a};if(s==='#'){n.paddEmpty=!0};if(s==='-'){n.removeEmpty=!0};if(i[4]==='!'){n.removeEmptyAttrs=!0};if(d){for(w in d){u[w]=d[w]};a.push.apply(a,b)};if(p){p=t(p,'|');for(y=0,S=p.length;y<S;y++){i=T.exec(p[y]);if(i){l={};C=i[1];o=i[2].replace(/::/g,':');s=i[3];g=i[4];if(C==='!'){n.attributesRequired=n.attributesRequired||[];n.attributesRequired.push(o);l.required=!0};if(C==='-'){delete u[o];a.splice(c(a,o),1);continue};if(s){if(s==='='){n.attributesDefault=n.attributesDefault||[];n.attributesDefault.push({name:o,value:g});l.defaultValue=g};if(s===':'){n.attributesForced=n.attributesForced||[];n.attributesForced.push({name:o,value:g});l.forcedValue=g};if(s==='<'){l.validValues=r(g,'?')}};if(E.test(o)){n.attributePatterns=n.attributePatterns||[];l.pattern=N(o);n.attributePatterns.push(l)}
else{if(!u[o]){a.push(o)};u[o]=l}}}};if(!d&&m=='@'){d=u;b=a};if(x){n.outputName=m;f[x]=n};if(E.test(m)){n.pattern=N(m);h.push(n)}
else{f[m]=n}}}}};function E(e){f={};h=[];p(e);n(y,function(e,t){d[t]=e.children})};function k(e){var r=/^(~)?(.+)$/;if(e){i.text_block_elements=i.block_elements=null;n(t(e,','),function(e){var s=r.exec(e),l=s[1]==='~',a=l?'span':'div',t=s[2];d[t]=d[a];M[t]=a;if(!l){g[t.toUpperCase()]={};g[t]={}};if(!f[t]){var i=f[a];i=o({},i);delete i.removeEmptyAttrs;delete i.removeEmpty;f[t]=i};n(d,function(e,n){if(e[a]){d[n]=e=o({},d[n]);e[t]=e[a]}})})}};function w(r){var o=/^([+\-]?)(\w+)\[([^\]]+)\]$/;i[e.schema]=null;if(r){n(t(r,','),function(e){var i=o.exec(e),r,a;if(i){a=i[1];if(a){r=d[i[2]]}
else{r=d[i[2]]={'#comment':{}}};r=d[i[2]];n(t(i[3],'|'),function(e){if(a==='-'){delete r[e]}
else{r[e]={}}})}})}};function b(e){var t=f[e],n;if(t){return t};n=h.length;while(n--){t=h[n];if(t.pattern.test(e)){return t}}};if(!e.valid_elements){n(y,function(e,t){f[t]={attributes:e.attributes,attributesOrder:e.attributesOrder};d[t]=e.children});if(e.schema!='html5'){n(t('strong/b em/i'),function(e){e=t(e,'/');f[e[1]].outputName=e[0]})};f.img.attributesDefault=[{name:'alt',value:''}];n(t('ol ul sub sup blockquote span font a table tbody tr strong em b i'),function(e){if(f[e]){f[e].removeEmpty=!0}});n(t('p h1 h2 h3 h4 h5 h6 th td pre div address caption'),function(e){f[e].paddEmpty=!0});n(t('span'),function(e){f[e].removeEmptyAttrs=!0})}
else{E(e.valid_elements)};k(e.custom_elements);w(e.valid_children);p(e.extended_valid_elements);w('+ol[ul|ol],+ul[ul|ol]');if(e.invalid_elements){n(s(e.invalid_elements),function(e){if(f[e]){delete f[e]}})};if(!b('span')){p('span[!data-mce-type|*]')};u.children=d;u.getValidStyles=function(){return O};u.getInvalidStyles=function(){return S};u.getValidClasses=function(){return A};u.getBoolAttrs=function(){return B};u.getBlockElements=function(){return g};u.getTextBlockElements=function(){return v};u.getTextInlineElements=function(){return D};u.getShortEndedElements=function(){return x};u.getSelfClosingElements=function(){return T};u.getNonEmptyElements=function(){return C};u.getMoveCaretBeforeOnEnterElements=function(){return R};u.getWhiteSpaceElements=function(){return P};u.getSpecialElements=function(){return L};u.isValidChild=function(e,t){var n=d[e];return!!(n&&n[t])};u.isValid=function(e,t){var n,r,i=b(e);if(i){if(t){if(i.attributes[t]){return!0};n=i.attributePatterns;if(n){r=n.length;while(r--){if(n[r].pattern.test(e)){return!0}}}}
else{return!0}};return!1};u.getElementRule=b;u.getCustomElements=function(){return M};u.addValidElements=p;u.setValidElements=E;u.addCustomElements=k;u.addValidChildren=w;u.elements=f}});n('tinymce/html/SaxParser',['tinymce/html/Schema','tinymce/html/Entities','tinymce/util/Tools'],function(e,t,n){var o=n.each;function r(e,t,n){var o=1,a,r,i,s;s=e.getShortEndedElements();i=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"'>]+(?:(?:"[^"]*")|(?:'[^']*')|[^>]*))*|\/|\s+)>/g;i.lastIndex=a=n;while((r=i.exec(t))){a=i.lastIndex;if(r[1]==='/'){o--}
else if(!r[1]){if(r[2]in s){continue};o++};if(o===0){break}};return a};function i(i,a){var s=this;function l(){};i=i||{};s.schema=a=a||new e();if(i.fix_self_closing!==!1){i.fix_self_closing=!0};o('comment cdata text start end pi doctype'.split(' '),function(e){if(e){s[e]=i[e]||l}});s.parse=function(e){var f=this,s,c=0,o,T,m=[],l,u,N,g,E,z,F,H,R,w,v,d,p,y,M,C,x,k,S,I,W,b,O,L,h,B=0,A=t.decode,P,j=n.makeMap('src,href,data,background,formaction,poster'),V=/((java|vb)script|mhtml):/i,q=/^data:/i;function D(e){var t,n;t=m.length;while(t--){if(m[t].name===e){break}};if(t>=0){for(n=m.length-1;n>=t;n--){e=m[n];if(e.valid){f.end(e.name)}};m.length=t}};function U(e,t,n,r,a){var s,u,f=/[\s\u0000-\u001F]+/g;t=t.toLowerCase();n=t in H?t:A(n||r||a||'');if(w&&!E&&t.indexOf('data-')!==0){s=M[t];if(!s&&C){u=C.length;while(u--){s=C[u];if(s.pattern.test(t)){break}};if(u===-1){s=null}};if(!s){return};if(s.validValues&&!(n in s.validValues)){return}};if(j[t]&&!i.allow_script_urls){var c=n.replace(f,'');try{c=decodeURIComponent(c)}catch(o){c=unescape(c)};if(V.test(c)){return};if(!i.allow_html_data_urls&&q.test(c)&&!/^data:image\//i.test(c)){return}};l.map[t]=n;l.push({name:t,value:n})};b=new RegExp('<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\\/|\\s+)>))','g');O=/([\w:\-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g;F=a.getShortEndedElements();W=i.self_closing_elements||a.getSelfClosingElements();H=a.getBoolAttrs();w=i.validate;z=i.remove_internals;P=i.fix_self_closing;L=a.getSpecialElements();while((s=b.exec(e))){if(c<s.index){f.text(A(e.substr(c,s.index-c)))};if((o=s[6])){o=o.toLowerCase();if(o.charAt(0)===':'){o=o.substr(1)};D(o)}
else if((o=s[7])){o=o.toLowerCase();if(o.charAt(0)===':'){o=o.substr(1)};R=o in F;if(P&&W[o]&&m.length>0&&m[m.length-1].name===o){D(o)};if(!w||(v=a.getElementRule(o))){d=!0;if(w){M=v.attributes;C=v.attributePatterns};if((y=s[8])){E=y.indexOf('data-mce-type')!==-1;if(E&&z){d=!1};l=[];l.map={};y.replace(O,U)}
else{l=[];l.map={}};if(w&&!E){x=v.attributesRequired;k=v.attributesDefault;S=v.attributesForced;I=v.removeEmptyAttrs;if(I&&!l.length){d=!1};if(S){u=S.length;while(u--){p=S[u];g=p.name;h=p.value;if(h==='{$uid}'){h='mce_'+B++};l.map[g]=h;l.push({name:g,value:h})}};if(k){u=k.length;while(u--){p=k[u];g=p.name;if(!(g in l.map)){h=p.value;if(h==='{$uid}'){h='mce_'+B++};l.map[g]=h;l.push({name:g,value:h})}}};if(x){u=x.length;while(u--){if(x[u]in l.map){break}};if(u===-1){d=!1}};if((p=l.map['data-mce-bogus'])){if(p==='all'){c=r(a,e,b.lastIndex);b.lastIndex=c;continue};d=!1}};if(d){f.start(o,l,R)}}
else{d=!1};if((T=L[o])){T.lastIndex=c=s.index+s[0].length;if((s=T.exec(e))){if(d){N=e.substr(c,s.index-c)};c=s.index+s[0].length}
else{N=e.substr(c);c=e.length};if(d){if(N.length>0){f.text(N,!0)};f.end(o)};b.lastIndex=c;continue};if(!R){if(!y||y.indexOf('/')!=y.length-1){m.push({name:o,valid:d})}
else if(d){f.end(o)}}}
else if((o=s[1])){if(o.charAt(0)==='>'){o=' '+o};if(!i.allow_conditional_comments&&o.substr(0,3)==='[if'){o=' '+o};f.comment(o)}
else if((o=s[2])){f.cdata(o)}
else if((o=s[3])){f.doctype(o)}
else if((o=s[4])){f.pi(o,s[5])};c=s.index+s[0].length};if(c<e.length){f.text(A(e.substr(c)))};for(u=m.length-1;u>=0;u--){o=m[u];if(o.valid){f.end(o.name)}}}};i.findEndTag=r;return i});n('tinymce/html/DomParser',['tinymce/html/Node','tinymce/html/Schema','tinymce/html/SaxParser','tinymce/util/Tools'],function(e,t,n,i){var s=i.makeMap,a=i.each,o=i.explode,r=i.extend;return function(i,l){var c=this,m={},u=[],f={},d={};i=i||{};i.validate='validate' in i?i.validate:!0;i.root_name=i.root_name||'body';c.schema=l=l||new t();function h(t){var m,n,r,o,h,d,f,u,a,g,y,p,b,i,v;y=s('tr,td,th,tbody,thead,tfoot,table');g=l.getNonEmptyElements();p=l.getTextBlockElements();b=l.getSpecialElements();for(m=0;m<t.length;m++){n=t[m];if(!n.parent||n.fixed){continue};if(p[n.name]&&n.parent.name=='li'){i=n.next;while(i){if(p[i.name]){i.name='li';i.fixed=!0;n.parent.insert(i,n.parent)}
else{break};i=i.next};n.unwrap(n);continue};o=[n];for(r=n.parent;r&&!l.isValidChild(r.name,n.name)&&!y[r.name];r=r.parent){o.push(r)};if(r&&o.length>1){o.reverse();h=d=c.filterNode(o[0].clone());for(a=0;a<o.length-1;a++){if(l.isValidChild(d.name,o[a].name)){f=c.filterNode(o[a].clone());d.append(f)}
else{f=d};for(u=o[a].firstChild;u&&u!=o[a+1];){v=u.next;f.append(u);u=v};d=f};if(!h.isEmpty(g)){r.insert(h,o[0],!0);r.insert(n,h)}
else{r.insert(n,o[0],!0)};r=o[0];if(r.isEmpty(g)||r.firstChild===r.lastChild&&r.firstChild.name==='br'){r.empty().remove()}}
else if(n.parent){if(n.name==='li'){i=n.prev;if(i&&(i.name==='ul'||i.name==='ul')){i.append(n);continue};i=n.next;if(i&&(i.name==='ul'||i.name==='ul')){i.insert(n,i.firstChild,!0);continue};n.wrap(c.filterNode(new e('ul',1)));continue};if(l.isValidChild(n.parent.name,'div')&&l.isValidChild('div',n.name)){n.wrap(c.filterNode(new e('div',1)))}
else{if(b[n.name]){n.empty().remove()}
else{n.unwrap()}}}}};c.filterNode=function(e){var i,t,n;if(t in m){n=f[t];if(n){n.push(e)}
else{f[t]=[e]}};i=u.length;while(i--){t=u[i].name;if(t in e.attributes.map){n=d[t];if(n){n.push(e)}
else{d[t]=[e]}}};return e};c.addNodeFilter=function(e,t){a(o(e),function(e){var n=m[e];if(!n){m[e]=n=[]};n.push(t)})};c.addAttributeFilter=function(e,t){a(o(e),function(e){var n;for(n=0;n<u.length;n++){if(u[n].name===e){u[n].callbacks.push(t);return}};u.push({name:e,callbacks:[t]})})};c.parse=function(t,o){var P,C,a,g,v,N,p,O,c,k,x,w,T,M=[],b,E,L,D,A,R,H,S;o=o||{};f={};d={};w=r(s('script,style,head,html,body,title,meta,param'),l.getBlockElements());H=l.getNonEmptyElements();R=l.children;x=i.validate;S='forced_root_block' in o?o.forced_root_block:i.forced_root_block;A=l.getWhiteSpaceElements();T=/^[ \t\r\n]+/;E=/[ \t\r\n]+$/;L=/[ \t\r\n]+/g;D=/^[ \t\r\n]+$/;function F(){var e=C.firstChild,r,t;function n(t){if(t){e=t.firstChild;if(e&&e.type==3){e.value=e.value.replace(T,'')};e=t.lastChild;if(e&&e.type==3){e.value=e.value.replace(E,'')}}};if(!l.isValidChild(C.name,S.toLowerCase())){return}
while(e){r=e.next;if(e.type==3||(e.type==1&&e.name!=='p'&&!w[e.name]&&!e.attr('data-mce-type'))){if(!t){t=y(S,1);t.attr(i.forced_root_block_attrs);C.insert(t,e);t.append(e)}
else{t.append(e)}}
else{n(t);t=null};e=r};n(t)};function y(t,n){var r=new e(t,n),i;if(t in m){i=f[t];if(i){i.push(r)}
else{f[t]=[r]}};return r};function B(e){var t,n,i,r,o=l.getBlockElements();for(t=e.prev;t&&t.type===3;){i=t.value.replace(E,'');if(i.length>0){t.value=i;return};n=t.next;if(n){if(n.type==3&&n.value.length){t=t.prev;continue};if(!o[n.name]&&n.name!='script'&&n.name!='style'){t=t.prev;continue}};r=t.prev;t.remove();t=r}};function I(e){var t,n={};for(t in e){if(t!=='li'&&t!='p'){n[t]=e[t]}};return n};P=new n({validate:x,allow_script_urls:i.allow_script_urls,allow_conditional_comments:i.allow_conditional_comments,self_closing_elements:I(l.getSelfClosingElements()),cdata:function(e){a.append(y('#cdata',4)).value=e},text:function(e,t){var n;if(!b){e=e.replace(L,' ');if(a.lastChild&&w[a.lastChild.name]){e=e.replace(T,'')}};if(e.length!==0){n=y('#text',3);n.raw=!!t;a.append(n).value=e}},comment:function(e){a.append(y('#comment',8)).value=e},pi:function(e,t){a.append(y(e,7)).value=t;B(a)},doctype:function(e){var t;t=a.append(y('#doctype',10));t.value=e;B(a)},start:function(e,t,n){var i,f,s,r,o;s=x?l.getElementRule(e):{};if(s){i=y(s.outputName||e,1);i.attributes=t;i.shortEnded=n;a.append(i);o=R[a.name];if(o&&R[i.name]&&!o[i.name]){M.push(i)};f=u.length;while(f--){r=u[f].name;if(r in t.map){c=d[r];if(c){c.push(i)}
else{d[r]=[i]}}};if(w[e]){B(i)};if(!n){a=i};if(!b&&A[e]){b=!0}}},end:function(t){var n,o,i,r,s;o=x?l.getElementRule(t):{};if(o){if(w[t]){if(!b){n=a.firstChild;if(n&&n.type===3){i=n.value.replace(T,'');if(i.length>0){n.value=i;n=n.next}
else{r=n.next;n.remove();n=r;while(n&&n.type===3){i=n.value;r=n.next;if(i.length===0||D.test(i)){n.remove();n=r};n=r}}};n=a.lastChild;if(n&&n.type===3){i=n.value.replace(E,'');if(i.length>0){n.value=i;n=n.prev}
else{r=n.prev;n.remove();n=r;while(n&&n.type===3){i=n.value;r=n.prev;if(i.length===0||D.test(i)){n.remove();n=r};n=r}}}}};if(b&&A[t]){b=!1};if(o.removeEmpty||o.paddEmpty){if(a.isEmpty(H)){if(o.paddEmpty){a.empty().append(new e('#text','3')).value='\u00a0'}
else{if(!a.attributes.map.name&&!a.attributes.map.id){s=a.parent;if(w[a.name]){a.empty().remove()}
else{a.unwrap()};a=s;return}}}};a=a.parent}}},l);C=a=new e(o.context||i.root_name,11);P.parse(t);if(x&&M.length){if(!o.context){h(M)}
else{o.invalid=!0}};if(S&&(C.name=='body'||o.isRootContent)){F()};if(!o.invalid){for(k in f){c=m[k];g=f[k];p=g.length;while(p--){if(!g[p].parent){g.splice(p,1)}};for(v=0,N=c.length;v<N;v++){c[v](g,k,o)}};for(v=0,N=u.length;v<N;v++){c=u[v];if(c.name in d){g=d[c.name];p=g.length;while(p--){if(!g[p].parent){g.splice(p,1)}};for(p=0,O=c.callbacks.length;p<O;p++){c.callbacks[p](g,c.name,o)}}}};return C};if(i.remove_trailing_brs){c.addNodeFilter('br',function(t){var s,m=t.length,i,d=r({},l.getBlockElements());var h=l.getNonEmptyElements(),n,a,o,c,u,f;d.body=1;for(s=0;s<m;s++){i=t[s];n=i.parent;if(d[i.parent.name]&&i===n.lastChild){o=i.prev;while(o){c=o.name;if(c!=='span'||o.attr('data-mce-type')!=='bookmark'){if(c!=='br'){break};if(c==='br'){i=null;break}};o=o.prev};if(i){i.remove();if(n.isEmpty(h)){u=l.getElementRule(n.name);if(u){if(u.removeEmpty){n.remove()}
else if(u.paddEmpty){n.empty().append(new e('#text',3)).value='\u00a0'}}}}}
else{a=i;while(n&&n.firstChild===a&&n.lastChild===a){a=n;if(d[n.name]){break};n=n.parent};if(a===n){f=new e('#text',3);f.value='\u00a0';i.replace(f)}}}})};if(!i.allow_html_in_named_anchor){c.addAttributeFilter('id,name',function(e){var i=e.length,n,o,r,t;while(i--){t=e[i];if(t.name==='a'&&t.firstChild&&!t.attr('href')){r=t.parent;n=t.lastChild;do{o=n.prev;r.insert(n,t);n=o}
while(n);}}})};if(i.validate&&l.getValidClasses()){c.addAttributeFilter('class',function(e){var c=e.length,a,s,o,r,t,u=l.getValidClasses(),n,i;while(c--){a=e[c];s=a.attr('class').split(' ');t='';for(o=0;o<s.length;o++){r=s[o];i=!1;n=u['*'];if(n&&n[r]){i=!0};n=u[a.name];if(!i&&n&&n[r]){i=!0};if(i){if(t){t+=' '};t+=r}};if(!t.length){t=null};a.attr('class',t)}})}}});n('tinymce/html/Writer',['tinymce/html/Entities','tinymce/util/Tools'],function(e,t){var n=t.makeMap;return function(t){var i=[],r,l,a,o,s;t=t||{};r=t.indent;l=n(t.indent_before||'');a=n(t.indent_after||'');o=e.getEncodeFunc(t.entity_encoding||'raw',t.entities);s=t.element_format=='html';return{start:function(e,t,n){var u,d,f,c;if(r&&l[e]&&i.length>0){c=i[i.length-1];if(c.length>0&&c!=='\n'){i.push('\n')}};i.push('<',e);if(t){for(u=0,d=t.length;u<d;u++){f=t[u];i.push(' ',f.name,'="',o(f.value,!0),'"')}};if(!n||s){i[i.length]='>'}
else{i[i.length]=' />'};if(n&&r&&a[e]&&i.length>0){c=i[i.length-1];if(c.length>0&&c!=='\n'){i.push('\n')}}},end:function(e){var t;i.push('</',e,'>');if(r&&a[e]&&i.length>0){t=i[i.length-1];if(t.length>0&&t!=='\n'){i.push('\n')}}},text:function(e,t){if(e.length>0){i[i.length]=t?e:o(e)}},cdata:function(e){i.push('<![CDATA[',e,']]>')},comment:function(e){i.push('<!--',e,'-->')},pi:function(e,t){if(t){i.push('<?',e,' ',o(t),'?>')}
else{i.push('<?',e,'?>')};if(r){i.push('\n')}},doctype:function(e){i.push('<!DOCTYPE',e,'>',r?'\n':'')},reset:function(){i.length=0},getContent:function(){return i.join('').replace(/\n$/,'')}}}});n('tinymce/html/Serializer',['tinymce/html/Writer','tinymce/html/Schema'],function(e,t){return function(n,i){var o=this,r=new e(n);n=n||{};n.validate='validate' in n?n.validate:!0;o.schema=i=i||new t();o.writer=r;o.serialize=function(e){var o,a;a=n.validate;o={3:function(e){r.text(e.value,e.raw)},8:function(e){r.comment(e.value)},7:function(e){r.pi(e.name,e.value)},10:function(e){r.doctype(e.value)},4:function(e){r.cdata(e.value)},11:function(e){if((e=e.firstChild)){do{t(e)}
while((e=e.next));}}};r.reset();function t(e){var p=o[e.type],h,m,n,s,u,c,l,f,d;if(!p){h=e.name;m=e.shortEnded;n=e.attributes;if(a&&n&&n.length>1){c=[];c.map={};d=i.getElementRule(e.name);if(d){for(l=0,f=d.attributesOrder.length;l<f;l++){s=d.attributesOrder[l];if(s in n.map){u=n.map[s];c.map[s]=u;c.push({name:s,value:u})}};for(l=0,f=n.length;l<f;l++){s=n[l].name;if(!(s in c.map)){u=n.map[s];c.map[s]=u;c.push({name:s,value:u})}};n=c}};r.start(e.name,n,m);if(!m){if((e=e.firstChild)){do{t(e)}
while((e=e.next));};r.end(h)}}
else{p(e)}};if(e.type==1&&!n.inner){t(e)}
else{o[11](e)};return r.getContent()}}});n('tinymce/dom/Serializer',['tinymce/dom/DOMUtils','tinymce/html/DomParser','tinymce/html/Entities','tinymce/html/Serializer','tinymce/html/Node','tinymce/html/Schema','tinymce/Env','tinymce/util/Tools'],function(e,t,n,i,r,o,a,s){var u=s.each,f=s.trim,c=e.DOM;function l(e){var t,n;function i(e){return e&&e.name==='br'};t=e.lastChild;if(i(t)){n=t.prev;if(i(n)){t.remove();n.remove()}}};return function(e,r){var d,m,s;if(r){d=r.dom;m=r.schema};d=d||c;m=m||new o(e);e.entity_encoding=e.entity_encoding||'named';e.remove_trailing_brs='remove_trailing_brs' in e?e.remove_trailing_brs:!0;s=new t(e,m);s.addAttributeFilter('data-mce-tabindex',function(e,t){var i=e.length,n;while(i--){n=e[i];n.attr('tabindex',n.attributes.map['data-mce-tabindex']);n.attr(t,null)}});s.addAttributeFilter('src,href,style',function(t,n){var s=t.length,r,i,a='data-mce-'+n,o=e.url_converter,c=e.url_converter_scope,l;while(s--){r=t[s];i=r.attributes.map[a];if(i!==l){r.attr(n,i.length>0?i:null);r.attr(a,null)}
else{i=r.attributes.map[n];if(n==='style'){i=d.serializeStyle(d.parseStyle(i),r.name)}
else if(o){i=o.call(c,i,n,r.name)};r.attr(n,i.length>0?i:null)}}});s.addAttributeFilter('class',function(e){var i=e.length,n,t;while(i--){n=e[i];t=n.attr('class');if(t){t=n.attr('class').replace(/(?:^|\s)mce-item-\w+(?!\S)/g,'');n.attr('class',t.length>0?t:null)}}});s.addAttributeFilter('data-mce-type',function(e,t,n){var r=e.length,i;while(r--){i=e[r];if(i.attributes.map['data-mce-type']==='bookmark'&&!n.cleanup){i.remove()}}});s.addNodeFilter('noscript',function(e){var i=e.length,t;while(i--){t=e[i].firstChild;if(t){t.value=n.decode(t.value)}}});s.addNodeFilter('script,style',function(e,t){var a=e.length,n,i,r;function o(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,'\n').replace(/^[\r\n]*|[\r\n]*$/g,'').replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,'').replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,'')}
while(a--){n=e[a];i=n.firstChild?n.firstChild.value:'';if(t==='script'){r=n.attr('type');if(r){n.attr('type',r=='mce-no/type'?null:r.replace(/^mce\-/,''))};if(i.length>0){n.firstChild.value='// <![CDATA[\n'+o(i)+'\n// ]]>'}}
else{if(i.length>0){n.firstChild.value='<!--\n'+o(i)+'\n-->'}}}});s.addNodeFilter('#comment',function(e){var n=e.length,t;while(n--){t=e[n];if(t.value.indexOf('[CDATA[')===0){t.name='#cdata';t.type=4;t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,'')}
else if(t.value.indexOf('mce:protected ')===0){t.name='#text';t.type=3;t.raw=!0;t.value=unescape(t.value).substr(14)}}});s.addNodeFilter('xml:namespace,input',function(e,t){var i=e.length,n;while(i--){n=e[i];if(n.type===7){n.remove()}
else if(n.type===1){if(t==='input'&&!('type' in n.attributes.map)){n.attr('type','text')}}}});if(e.fix_list_elements){s.addNodeFilter('ul,ol',function(e){var i=e.length,t,n;while(i--){t=e[i];n=t.parent;if(n.name==='ul'||n.name==='ol'){if(t.prev&&t.prev.name==='li'){t.prev.append(t)}}}})};s.addAttributeFilter('data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize',function(e,t){var n=e.length;while(n--){e[n].attr(t,null)}});return{schema:m,addNodeFilter:s.addNodeFilter,addAttributeFilter:s.addAttributeFilter,serialize:function(t,n){var p=this,c,r,h,v,g,o;if(a.ie&&d.select('script,style,select,map').length>0){g=t.innerHTML;t=t.cloneNode(!1);d.setHTML(t,g)}
else{t=t.cloneNode(!0)};c=t.ownerDocument.implementation;if(c.createHTMLDocument){r=c.createHTMLDocument('');u(t.nodeName=='BODY'?t.childNodes:[t],function(e){r.body.appendChild(r.importNode(e,!0))});if(t.nodeName!='BODY'){t=r.body.firstChild}
else{t=r.body};h=d.doc;d.doc=r};n=n||{};n.format=n.format||'html';if(n.selection){n.forced_root_block=''};if(!n.no_events){n.node=t;p.onPreProcess(n)};o=s.parse(f(n.getInner?t.innerHTML:d.getOuterHTML(t)),n);l(o);v=new i(e,m);n.content=v.serialize(o);if(!n.cleanup){n.content=n.content.replace(/\uFEFF/g,'')};if(!n.no_events){p.onPostProcess(n)};if(h){d.doc=h};n.node=null;return n.content},addRules:function(e){m.addValidElements(e)},setRules:function(e){m.setValidElements(e)},onPreProcess:function(e){if(r){r.fire('PreProcess',e)}},onPostProcess:function(e){if(r){r.fire('PostProcess',e)}}}}});n('tinymce/dom/TridentSelection',[],function(){function e(e){var i=this,t=e.dom,o=!1;function n(t,n){var i,f=0,c,d,u,o,a,l,s=-1,r;i=t.duplicate();i.collapse(n);r=i.parentElement();if(r.ownerDocument!==e.dom.doc){return}
while(r.contentEditable==='false'){r=r.parentNode};if(!r.hasChildNodes()){return{node:r,inside:1}};u=r.children;c=u.length-1;while(f<=c){l=Math.floor((f+c)/2);o=u[l];i.moveToElementText(o);s=i.compareEndPoints(n?'StartToStart':'EndToEnd',t);if(s>0){c=l-1}
else if(s<0){f=l+1}
else{return{node:o}}};if(s<0){if(!o){i.moveToElementText(r);i.collapse(!0);o=r;d=!0}
else{i.collapse(!1)};a=0;while(i.compareEndPoints(n?'StartToStart':'StartToEnd',t)!==0){if(i.move('character',1)===0||r!=i.parentElement()){break};a++}}
else{i.collapse(!0);a=0;while(i.compareEndPoints(n?'StartToStart':'StartToEnd',t)!==0){if(i.move('character',-1)===0||r!=i.parentElement()){break};a++}};return{node:o,position:s,offset:a,inside:d}};function r(){var a=e.getRng(),o=t.createRng(),s,c,l,f,d;s=a.item?a.item(0):a.parentElement();if(s.ownerDocument!=t.doc){return o};c=e.isCollapsed();if(a.item){o.setStart(s.parentNode,t.nodeIndex(s));o.setEnd(o.startContainer,o.startOffset+1);return o};function u(e){var l=n(a,e),i,s,r=0,t,u,c;i=l.node;s=l.offset;if(l.inside&&!i.hasChildNodes()){o[e?'setStart':'setEnd'](i,0);return};if(s===u){o[e?'setStartBefore':'setEndAfter'](i);return};if(l.position<0){t=l.inside?i.firstChild:i.nextSibling;if(!t){o[e?'setStartAfter':'setEndAfter'](i);return};if(!s){if(t.nodeType==3){o[e?'setStart':'setEnd'](t,0)}
else{o[e?'setStartBefore':'setEndBefore'](t)};return}
while(t){if(t.nodeType==3){c=t.nodeValue;r+=c.length;if(r>=s){i=t;r-=s;r=c.length-r;break}};t=t.nextSibling}}
else{t=i.previousSibling;if(!t){return o[e?'setStartBefore':'setEndBefore'](i)};if(!s){if(i.nodeType==3){o[e?'setStart':'setEnd'](t,i.nodeValue.length)}
else{o[e?'setStartAfter':'setEndAfter'](t)};return}
while(t){if(t.nodeType==3){r+=t.nodeValue.length;if(r>=s){i=t;r-=s;break}};t=t.previousSibling}};o[e?'setStart':'setEnd'](i,r)};try{u(!0);if(!c){u()}}catch(r){if(r.number==-2147024809){d=i.getBookmark(2);l=a.duplicate();l.collapse(!0);s=l.parentElement();if(!c){l=a.duplicate();l.collapse(!1);f=l.parentElement();f.innerHTML=f.innerHTML};s.innerHTML=s.innerHTML;i.moveToBookmark(d);a=e.getRng();u(!0);if(!c){u()}}
else{throw r}};return o};this.getBookmark=function(i){var o=e.getRng(),r={};function s(e){var n,a,r,i,o=[];n=e.parentNode;a=t.getRoot().parentNode;while(n!=a&&n.nodeType!==9){r=n.children;i=r.length;while(i--){if(e===r[i]){o.push(i);break}};e=n;n=n.parentNode};return o};function a(e){var t;t=n(o,e);if(t){return{position:t.position,offset:t.offset,indexes:s(t.node),inside:t.inside}}};if(i===2){if(!o.item){r.start=a(!0);if(!e.isCollapsed()){r.end=a()}}
else{r.start={ctrl:!0,indexes:s(o.item(0))}}};return r};this.moveToBookmark=function(e){var n,i=t.doc.body;function o(e){var i,n,o,r;i=t.getRoot();for(n=e.length-1;n>=0;n--){r=i.children;o=e[n];if(o<=r.length-1){i=r[o]}};return i};function r(t){var a=e[t?'start':'end'],l,r,c,s;if(a){l=a.position>0;r=i.createTextRange();r.moveToElementText(o(a.indexes));s=a.offset;if(s!==c){r.collapse(a.inside||l);r.moveStart('character',l?-s:s)}
else{r.collapse(t)};n.setEndPoint(t?'StartToStart':'EndToStart',r);if(t){n.collapse(!0)}}};if(e.start){if(e.start.ctrl){n=i.createControlRange();n.addElement(o(e.start.indexes));n.select()}
else{n=i.createTextRange();r(!0);r();n.select()}}};this.addRange=function(n){var s,f,r,l,d,c,a,p=e.dom.doc,h=p.body,m,u;function g(e){var n,f,i,a,u;i=t.create('a');n=e?r:d;f=e?l:c;a=s.duplicate();if(n==p||n==p.documentElement){n=h;f=0};if(n.nodeType==3){n.parentNode.insertBefore(i,n);a.moveToElementText(i);a.moveStart('character',f);t.remove(i);s.setEndPoint(e?'StartToStart':'EndToEnd',a)}
else{u=n.childNodes;if(u.length){if(f>=u.length){t.insertAfter(i,u[u.length-1])}
else{n.insertBefore(i,u[f])};a.moveToElementText(i)}
else if(n.canHaveHTML){n.innerHTML='<span>&#xFEFF;</span>';i=n.firstChild;a.moveToElementText(i);a.collapse(o)};s.setEndPoint(e?'StartToStart':'EndToEnd',a);t.remove(i)}};r=n.startContainer;l=n.startOffset;d=n.endContainer;c=n.endOffset;s=h.createTextRange();if(r==d&&r.nodeType==1){if(l==c&&!r.hasChildNodes()){if(r.canHaveHTML){a=r.previousSibling;if(a&&!a.hasChildNodes()&&t.isBlock(a)){a.innerHTML='&#xFEFF;'}
else{a=null};r.innerHTML='<span>&#xFEFF;</span><span>&#xFEFF;</span>';s.moveToElementText(r.lastChild);s.select();t.doc.selection.clear();r.innerHTML='';if(a){a.innerHTML=''};return};l=t.nodeIndex(r);r=r.parentNode};if(l==c-1){try{u=r.childNodes[l];f=h.createControlRange();f.addElement(u);f.select();m=e.getRng();if(m.item&&u===m.item(0)){return}}catch(i){}}};g(!0);g();s.select()};this.getRangeAt=r};return e});n('tinymce/util/VK',['tinymce/Env'],function(e){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(t){return(e.mac?t.metaKey:t.ctrlKey&&!t.altKey)}}});n('tinymce/dom/ControlSelection',['tinymce/util/VK','tinymce/util/Tools','tinymce/Env'],function(e,t,n){return function(i,r){var o=r.dom,K=t.each,a,l,w,m,f,T,q,j,E,k,p,h,x,b,c,s,d=r.getDoc(),g=document,y=n.ie&&n.ie<11,D=Math.abs,B=Math.round,u=r.getBody(),V,U;m={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var C='.mce-content-body';r.contentStyles.push(C+' div.mce-resizehandle {position: absolute;border: 1px solid black;background: #FFF;width: 7px;height: 7px;z-index: 10000}'+C+' .mce-resizehandle:hover {background: #000}'+C+' img[data-mce-selected], hr[data-mce-selected] {outline: 1px solid black;resize: none}'+C+' .mce-clonedresizable {position: absolute;'+(n.gecko?'':'outline: 1px dashed black;')+'opacity: .5;filter: alpha(opacity=50);z-index: 10000}'+C+' .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}');function W(e){var t=r.settings.object_resizing;if(t===!1||n.iOS){return!1};if(typeof t!='string'){t='table,img,div'};if(e.getAttribute('data-mce-resize')==='false'){return!1};if(e==r.getBody()){return!1};return r.dom.is(e,t)};function S(t){var i,n,g,d,m;i=t.screenX-q;n=t.screenY-j;c=i*f[2]+p;s=n*f[3]+h;c=c<5?5:c;s=s<5?5:s;if(a.nodeName=='IMG'&&r.settings.resize_img_proportional!==!1){g=!e.modifierPressed(t)}
else{g=e.modifierPressed(t)||(a.nodeName=='IMG'&&f[2]*f[3]!==0)};if(g){if(D(i)>D(n)){s=B(c*x);c=B(s/x)}
else{c=B(s/x);s=B(c*x)}};o.setStyles(l,{width:c,height:s});d=f.startPos.x+i;m=f.startPos.y+n;d=d>0?d:0;m=m>0?m:0;o.setStyles(w,{left:d,top:m,display:'block'});w.innerHTML=c+' &times; '+s;if(f[2]<0&&l.clientWidth<=c){o.setStyle(l,'left',E+(p-c))};if(f[3]<0&&l.clientHeight<=s){o.setStyle(l,'top',k+(h-s))};i=u.scrollWidth-V;n=u.scrollHeight-U;if(i+n!==0){o.setStyles(w,{left:d-i,top:m-n})};if(!b){r.fire('ObjectResizeStart',{target:a,width:p,height:h});b=!0}};function A(){b=!1;function e(e,t){if(t){if(a.style[e]||!r.schema.isValid(a.nodeName.toLowerCase(),e)){o.setStyle(a,e,t)}
else{o.setAttrib(a,e,t)}}};e('width',c);e('height',s);o.unbind(d,'mousemove',S);o.unbind(d,'mouseup',A);if(g!=d){o.unbind(g,'mousemove',S);o.unbind(g,'mouseup',A)};o.remove(l);o.remove(w);if(!y||a.nodeName=='TABLE'){N(a)};r.fire('ObjectResized',{target:a,width:c,height:s});o.setAttrib(a,'style',o.getAttrib(a,'style'));r.nodeChanged()};function N(e,t,i){var C,N,b,T,y;P();C=o.getPos(e,u);E=C.x;k=C.y;y=e.getBoundingClientRect();N=y.width||(y.right-y.left);b=y.height||(y.bottom-y.top);if(a!=e){M();a=e;c=s=0};T=r.fire('ObjectSelected',{target:e});if(W(e)&&!T.isDefaultPrevented()){K(m,function(e,r){var s;function c(t){q=t.screenX;j=t.screenY;p=a.clientWidth;h=a.clientHeight;x=h/p;f=e;e.startPos={x:N*e[0]+E,y:b*e[1]+k};V=u.scrollWidth;U=u.scrollHeight;l=a.cloneNode(!0);o.addClass(l,'mce-clonedresizable');o.setAttrib(l,'data-mce-bogus','all');l.contentEditable=!1;l.unSelectabe=!0;o.setStyles(l,{left:E,top:k,margin:0});l.removeAttribute('data-mce-selected');u.appendChild(l);o.bind(d,'mousemove',S);o.bind(d,'mouseup',A);if(g!=d){o.bind(g,'mousemove',S);o.bind(g,'mouseup',A)};w=o.add(u,'div',{'class':'mce-resize-helper','data-mce-bogus':'all'},p+' &times; '+h)};if(t){if(r==t){c(i)};return};s=o.get('mceResizeHandle'+r);if(s){o.remove(s)};s=o.add(u,'div',{id:'mceResizeHandle'+r,'data-mce-bogus':'all','class':'mce-resizehandle',unselectable:!0,style:'cursor:'+r+'-resize; margin:0; padding:0'});if(n.ie){s.contentEditable=!1};o.bind(s,'mousedown',function(e){e.stopImmediatePropagation();e.preventDefault();c(e)});e.elm=s;o.setStyles(s,{left:(N*e[0]+E)-(s.offsetWidth/2),top:(b*e[1]+k)-(s.offsetHeight/2)})})}
else{v()};a.setAttribute('data-mce-selected','1')};function v(){var t,e;P();if(a){a.removeAttribute('data-mce-selected')};for(t in m){e=o.get('mceResizeHandle'+t);if(e){o.unbind(e);o.remove(e)}}};function R(e){var n,t;function a(e,t){if(e){do{if(e===t){return!0}}
while((e=e.parentNode));}};if(b||r.removed){return};K(o.select('img[data-mce-selected],hr[data-mce-selected]'),function(e){e.removeAttribute('data-mce-selected')});t=e.type=='mousedown'?e.target:i.getNode();t=o.$(t).closest(y?'table':'table,img,hr')[0];if(a(t,u)){I();n=i.getStart(!0);if(a(n,t)&&a(i.getEnd(!0),t)){if(!y||(t!=n&&n.nodeName!=='IMG')){N(t);return}}};v()};function z(e,t,n){if(e&&e.attachEvent){e.attachEvent('on'+t,n)}};function F(e,t,n){if(e&&e.detachEvent){e.detachEvent('on'+t,n)}};function L(e){var n=e.srcElement,i,o,t,c,u,l,s;i=n.getBoundingClientRect();l=T.clientX-i.left;s=T.clientY-i.top;for(o in m){t=m[o];c=n.offsetWidth*t[0];u=n.offsetHeight*t[1];if(D(c-l)<8&&D(u-s)<8){f=t;break}};b=!0;r.fire('ObjectResizeStart',{target:a,width:a.clientWidth,height:a.clientHeight});r.getDoc().selection.empty();N(n,o,T)};function O(e){var t=e.srcElement;if(t!=a){r.fire('ObjectSelected',{target:t});M();if(t.id.indexOf('mceResizeHandle')===0){e.returnValue=!1;return};if(t.nodeName=='IMG'||t.nodeName=='TABLE'){v();a=t;z(t,'resizestart',L)}}};function M(){F(a,'resizestart',L)};function P(){for(var t in m){var e=m[t];if(e.elm){o.unbind(e.elm);delete e.elm}}};function I(){try{r.getDoc().execCommand('enableObjectResizing',!1,!1)}catch(e){}};function H(e){var n;if(!y){return};n=d.body.createControlRange();try{n.addElement(e);n.select();return!0}catch(t){}};r.on('init',function(){if(y){r.on('ObjectResized',function(e){if(e.target.nodeName!='TABLE'){v();H(e.target)}});z(u,'controlselect',O);r.on('mousedown',function(e){T=e})}
else{I();if(n.ie>=11){r.on('mousedown click',function(e){var t=e.target.nodeName;if(!b&&/^(TABLE|IMG|HR)$/.test(t)){r.selection.select(e.target,t=='TABLE');if(e.type=='mousedown'){r.nodeChanged()}}});r.dom.bind(u,'mscontrolselect',function(e){if(/^(TABLE|IMG|HR)$/.test(e.target.nodeName)){e.preventDefault();if(e.target.tagName=='IMG'){window.setTimeout(function(){r.selection.select(e.target)},0)}}})}};r.on('nodechange ResizeEditor ResizeWindow drop',function(e){if(window.requestAnimationFrame){window.requestAnimationFrame(function(){R(e)})}
else{R(e)}});r.on('keydown keyup',function(e){if(a&&a.nodeName=='TABLE'){R(e)}});r.on('hide blur',v)});r.on('remove',P);function Y(){a=l=null;if(y){M();F(u,'controlselect',O)}};return{isResizable:W,showResizeRect:N,hideResizeRect:v,updateResizeRect:R,controlSelect:H,destroy:Y}}});n('tinymce/dom/BookmarkManager',['tinymce/Env','tinymce/util/Tools'],function(e,t){function n(n){var i=n.dom;this.getBookmark=function(e,r){var a,c,u,m,s,l,d='&#xFEFF;',f;function h(e,n){var r=0;t.each(i.select(e),function(e,t){if(e==n){r=t}});return r};function p(e){function t(t){var n,i,r,o=t?'start':'end';n=e[o+'Container'];i=e[o+'Offset'];if(n.nodeType==1&&n.nodeName=='TR'){r=n.childNodes;n=r[Math.min(t?i:i-1,r.length-1)];if(n){i=t?0:n.childNodes.length;e['set'+(t?'Start':'End')](n,i)}}};t(!0);t();return e};function g(){var t=n.getRng(!0),a=i.getRoot(),e={};function o(e,t){var n=e[t?'startContainer':'endContainer'],l=e[t?'startOffset':'endOffset'],c=[],o,s,u=0;if(n.nodeType==3){if(r){for(o=n.previousSibling;o&&o.nodeType==3;o=o.previousSibling){l+=o.nodeValue.length}};c.push(l)}
else{s=n.childNodes;if(l>=s.length&&s.length){u=1;l=Math.max(0,s.length-1)};c.push(i.nodeIndex(s[l],r)+u)};for(;n&&n!=a;n=n.parentNode){c.push(i.nodeIndex(n,r))};return c};e.start=o(t,!0);if(!n.isCollapsed()){e.end=o(t)};return e};if(e==2){l=n.getNode();s=l?l.nodeName:null;if(s=='IMG'){return{name:s,index:h(s,l)}};if(n.tridentSel){return n.tridentSel.getBookmark(e)};return g()};if(e){return{rng:n.getRng()}};a=n.getRng();u=i.uniqueId();m=n.isCollapsed();f='overflow:hidden;line-height:0px';if(a.duplicate||a.item){if(!a.item){c=a.duplicate();try{a.collapse();a.pasteHTML('<span data-mce-type="bookmark" id="'+u+'_start" style="'+f+'">'+d+'</span>');if(!m){c.collapse(!1);a.moveToElementText(c.parentElement());if(a.compareEndPoints('StartToEnd',c)===0){c.move('character',-1)};c.pasteHTML('<span data-mce-type="bookmark" id="'+u+'_end" style="'+f+'">'+d+'</span>')}}catch(o){return null}}
else{l=a.item(0);s=l.nodeName;return{name:s,index:h(s,l)}}}
else{l=n.getNode();s=l.nodeName;if(s=='IMG'){return{name:s,index:h(s,l)}};c=p(a.cloneRange());if(!m){c.collapse(!1);c.insertNode(i.create('span',{'data-mce-type':'bookmark',id:u+'_end',style:f},d))};a=p(a);a.collapse(!0);a.insertNode(i.create('span',{'data-mce-type':'bookmark',id:u+'_start',style:f},d))};n.moveToBookmark({id:u,keep:1});return{id:u}};this.moveToBookmark=function(r){var o,d,l,s,c,a;function m(e){var n=r[e?'start':'end'],a,t,i,s;if(n){i=n[0];for(t=d,a=n.length-1;a>=1;a--){s=t.childNodes;if(n[a]>s.length-1){return};t=s[n[a]]};if(t.nodeType===3){i=Math.min(n[0],t.nodeValue.length)};if(t.nodeType===1){i=Math.min(n[0],t.childNodes.length)};if(e){o.setStart(t,i)}
else{o.setEnd(t,i)}};return!0};function f(n){var o=i.get(r.id+'_'+n),m,u,d,f,h=r.keep;if(o){m=o.parentNode;if(n=='start'){if(!h){u=i.nodeIndex(o)}
else{m=o.firstChild;u=1};l=s=m;c=a=u}
else{if(!h){u=i.nodeIndex(o)}
else{m=o.firstChild;u=1};s=m;a=u};if(!h){f=o.previousSibling;d=o.nextSibling;t.each(t.grep(o.childNodes),function(e){if(e.nodeType==3){e.nodeValue=e.nodeValue.replace(/\uFEFF/g,'')}});while((o=i.get(r.id+'_'+n))){i.remove(o,1)};if(f&&d&&f.nodeType==d.nodeType&&f.nodeType==3&&!e.opera){u=f.nodeValue.length;f.appendData(d.nodeValue);i.remove(d);if(n=='start'){l=s=f;c=a=u}
else{s=f;a=u}}}}};function u(t){if(i.isBlock(t)&&!t.innerHTML&&!e.ie){t.innerHTML='<br data-mce-bogus="1" />'};return t};if(r){if(r.start){o=i.createRng();d=i.getRoot();if(n.tridentSel){return n.tridentSel.moveToBookmark(r)};if(m(!0)&&m()){n.setRng(o)}}
else if(r.id){f('start');f('end');if(l){o=i.createRng();o.setStart(u(l),c);o.setEnd(u(s),a);n.setRng(o)}}
else if(r.name){n.select(i.select(r.name)[r.index])}
else if(r.rng){n.setRng(r.rng)}}}};n.isBookmarkNode=function(e){return e&&e.tagName==='SPAN'&&e.getAttribute('data-mce-type')==='bookmark'};return n});n('tinymce/dom/Selection',['tinymce/dom/TreeWalker','tinymce/dom/TridentSelection','tinymce/dom/ControlSelection','tinymce/dom/RangeUtils','tinymce/dom/BookmarkManager','tinymce/Env','tinymce/util/Tools'],function(e,n,i,r,a,o,s){var l=s.each,f=s.trim,u=o.ie;function c(e,t,r,o){var s=this;s.dom=e;s.win=t;s.serializer=r;s.editor=o;s.bookmarkManager=new a(s);s.controlSelection=new i(s,o);if(!s.win.getSelection){s.tridentSel=new n(s)}};c.prototype={setCursorLocation:function(e,t){var n=this,i=n.dom.createRng();if(!e){n._moveEndPoint(i,n.editor.getBody(),!0);n.setRng(i)}
else{i.setStart(e,t);i.setEnd(e,t);n.setRng(i);n.collapse(!1)}},getContent:function(e){var r=this,n=r.getRng(),i=r.dom.create('body'),l=r.getSel(),s,a,o;e=e||{};s=a='';e.get=!0;e.format=e.format||'html';e.selection=!0;r.editor.fire('BeforeGetContent',e);if(e.format=='text'){return r.isCollapsed()?'':(n.text||(l.toString?l.toString():''))};if(n.cloneContents){o=n.cloneContents();if(o){i.appendChild(o)}}
else if(n.item!==t||n.htmlText!==t){i.innerHTML='<br>'+(n.item?n.item(0).outerHTML:n.htmlText);i.removeChild(i.firstChild)}
else{i.innerHTML=n.toString()};if(/^\s/.test(i.innerHTML)){s=' '};if(/\s+$/.test(i.innerHTML)){a=' '};e.getInner=!0;e.content=r.isCollapsed()?'':s+r.serializer.serialize(i,e)+a;r.editor.fire('GetContent',e);return e.content},setContent:function(e,t){var r=this,i=r.getRng(),s,o=r.win.document,l,a;t=t||{format:'html'};t.set=!0;t.selection=!0;t.content=e;if(!t.no_events){r.editor.fire('BeforeSetContent',t)};e=t.content;if(i.insertNode){e+='<span id="__caret">_</span>';if(i.startContainer==o&&i.endContainer==o){o.body.innerHTML=e}
else{i.deleteContents();if(o.body.childNodes.length===0){o.body.innerHTML=e}
else{if(i.createContextualFragment){i.insertNode(i.createContextualFragment(e))}
else{l=o.createDocumentFragment();a=o.createElement('div');l.appendChild(a);a.outerHTML=e;i.insertNode(l)}}};s=r.dom.get('__caret');i=o.createRange();i.setStartBefore(s);i.setEndBefore(s);r.setRng(i);r.dom.remove('__caret');try{r.setRng(i)}catch(n){}}
else{if(i.item){o.execCommand('Delete',!1,null);i=r.getRng()};if(/^\s+/.test(e)){i.pasteHTML('<span id="__mce_tmp">_</span>'+e);r.dom.remove('__mce_tmp')}
else{i.pasteHTML(e)}};if(!t.no_events){r.editor.fire('SetContent',t)}},getStart:function(e){var o=this,n=o.getRng(),t,a,r,i;if(n.duplicate||n.item){if(n.item){return n.item(0)};r=n.duplicate();r.collapse(1);t=r.parentElement();if(t.ownerDocument!==o.dom.doc){t=o.dom.getRoot()};a=i=n.parentElement();while((i=i.parentNode)){if(i==t){t=a;break}};return t};t=n.startContainer;if(t.nodeType==1&&t.hasChildNodes()){if(!e||!n.collapsed){t=t.childNodes[Math.min(t.childNodes.length-1,n.startOffset)]}};if(t&&t.nodeType==3){return t.parentNode};return t},getEnd:function(e){var r=this,n=r.getRng(),t,i;if(n.duplicate||n.item){if(n.item){return n.item(0)};n=n.duplicate();n.collapse(0);t=n.parentElement();if(t.ownerDocument!==r.dom.doc){t=r.dom.getRoot()};if(t&&t.nodeName=='BODY'){return t.lastChild||t};return t};t=n.endContainer;i=n.endOffset;if(t.nodeType==1&&t.hasChildNodes()){if(!e||!n.collapsed){t=t.childNodes[i>0?i-1:i]}};if(t&&t.nodeType==3){return t.parentNode};return t},getBookmark:function(e,t){return this.bookmarkManager.getBookmark(e,t)},moveToBookmark:function(e){return this.bookmarkManager.moveToBookmark(e)},select:function(e,t){var n=this,o=n.dom,i=o.createRng(),r;n.lastFocusBookmark=null;if(e){if(!t&&n.controlSelection.controlSelect(e)){return};r=o.nodeIndex(e);i.setStart(e.parentNode,r);i.setEnd(e.parentNode,r+1);if(t){n._moveEndPoint(i,e,!0);n._moveEndPoint(i,e)};n.setRng(i)};return e},isCollapsed:function(){var t=this,e=t.getRng(),n=t.getSel();if(!e||e.item){return!1};if(e.compareEndPoints){return e.compareEndPoints('StartToEnd',e)===0};return!n||e.collapsed},collapse:function(e){var n=this,t=n.getRng(),i;if(t.item){i=t.item(0);t=n.win.document.body.createTextRange();t.moveToElementText(i)};t.collapse(!!e);n.setRng(t)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(e){var i=this,s,n,a,r=i.win.document,l;function c(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(i){return-1}};if(!e&&i.lastFocusBookmark){var o=i.lastFocusBookmark;if(o.startContainer){n=r.createRange();n.setStart(o.startContainer,o.startOffset);n.setEnd(o.endContainer,o.endOffset)}
else{n=o};return n};if(e&&i.tridentSel){return i.tridentSel.getRangeAt(0)};try{if((s=i.getSel())){if(s.rangeCount>0){n=s.getRangeAt(0)}
else{n=s.createRange?s.createRange():r.createRange()}}}catch(t){};if(u&&n&&n.setStart&&r.selection){try{l=r.selection.createRange()}catch(t){};if(l&&l.item){a=l.item(0);n=r.createRange();n.setStartBefore(a);n.setEndAfter(a)}};if(!n){n=r.createRange?r.createRange():r.body.createTextRange()};if(n.setStart&&n.startContainer.nodeType===9&&n.collapsed){a=i.dom.getRoot();n.setStart(a,0);n.setEnd(a,0)};if(i.selectedRange&&i.explicitRange){if(c(n.START_TO_START,n,i.selectedRange)===0&&c(n.END_TO_END,n,i.selectedRange)===0){n=i.explicitRange}
else{i.selectedRange=null;i.explicitRange=null}};return n},setRng:function(e,t){var r=this,i,a;if(!e){return};if(e.select){try{e.select()}catch(n){};return};if(!r.tridentSel){i=r.getSel();if(i){r.explicitRange=e;try{i.removeAllRanges();i.addRange(e)}catch(n){};if(t===!1&&i.extend){i.collapse(e.endContainer,e.endOffset);i.extend(e.startContainer,e.startOffset)};r.selectedRange=i.rangeCount>0?i.getRangeAt(0):null};if(!e.collapsed&&e.startContainer==e.endContainer&&i.setBaseAndExtent&&!o.ie){if(e.endOffset-e.startOffset<2){if(e.startContainer.hasChildNodes()){a=e.startContainer.childNodes[e.startOffset];if(a&&a.tagName=='IMG'){r.getSel().setBaseAndExtent(a,0,a,1)}}}}}
else{if(e.cloneRange){try{r.tridentSel.addRange(e)}catch(n){}}}},setNode:function(e){var t=this;t.setContent(t.dom.getOuterHTML(e));return e},getNode:function(){var r=this,t=r.getRng(),n,e=t.startContainer,i=t.endContainer,o=t.startOffset,s=t.endOffset,l=r.dom.getRoot();function a(e,t){var n=e;while(e&&e.nodeType===3&&e.length===0){e=t?e.nextSibling:e.previousSibling};return e||n};if(!t){return l};if(t.setStart){n=t.commonAncestorContainer;if(!t.collapsed){if(e==i){if(s-o<2){if(e.hasChildNodes()){n=e.childNodes[o]}}};if(e.nodeType===3&&i.nodeType===3){if(e.length===o){e=a(e.nextSibling,!0)}
else{e=e.parentNode};if(s===0){i=a(i.previousSibling,!1)}
else{i=i.parentNode};if(e&&e===i){return e}}};if(n&&n.nodeType==3){return n.parentNode};return n};n=t.item?t.item(0):t.parentElement();if(n.ownerDocument!==r.win.document){n=l};return n},getSelectedBlocks:function(t,n){var s=this,i=s.dom,r,a,o=[];a=i.getRoot();t=i.getParent(t||s.getStart(),i.isBlock);n=i.getParent(n||s.getEnd(),i.isBlock);if(t&&t!=a){o.push(t)};if(t&&n&&t!=n){r=t;var l=new e(t,a);while((r=l.next())&&r!=n){if(i.isBlock(r)){o.push(r)}}};if(n&&t!=n&&n!=a){o.push(n)};return o},isForward:function(){var i=this.dom,e=this.getSel(),t,n;if(!e||!e.anchorNode||!e.focusNode){return!0};t=i.createRng();t.setStart(e.anchorNode,e.anchorOffset);t.collapse(!0);n=i.createRng();n.setStart(e.focusNode,e.focusOffset);n.collapse(!0);return t.compareBoundaryPoints(t.START_TO_START,n)<=0},normalize:function(){var e=this,t=e.getRng();if(o.range&&new r(e.dom).normalize(t)){e.setRng(t,e.isForward())};return t},selectorChanged:function(e,t){var n=this,i;if(!n.selectorChangedData){n.selectorChangedData={};i={};n.editor.on('NodeChange',function(e){var a=e.element,r=n.dom,t=r.getParents(a,null,r.getRoot()),o={};l(n.selectorChangedData,function(e,n){l(t,function(a){if(r.is(a,n)){if(!i[n]){l(e,function(e){e(!0,{node:a,selector:n,parents:t})});i[n]=e};o[n]=e;return!1}})});l(i,function(e,n){if(!o[n]){delete i[n];l(e,function(e){e(!1,{node:a,selector:n,parents:t})})}})})};if(!n.selectorChangedData[e]){n.selectorChangedData[e]=[]};n.selectorChangedData[e].push(t);return n},getScrollContainer:function(){var t,e=this.dom.getRoot();while(e&&e.nodeName!='BODY'){if(e.scrollHeight>e.clientHeight){t=e;break};e=e.parentNode};return t},scrollIntoView:function(e){var t,a,o=this,s=o.dom,c=s.getRoot(),n,i;function l(e){var n=0,i=0,t=e;while(t&&t.nodeType){n+=t.offsetLeft||0;i+=t.offsetTop||0;t=t.offsetParent};return{x:n,y:i}};if(c.nodeName!='BODY'){var r=o.getScrollContainer();if(r){t=l(e).y-l(r).y;i=r.clientHeight;n=r.scrollTop;if(t<n||t+25>n+i){r.scrollTop=t<n?t:t-i+25};return}};a=s.getViewPort(o.editor.getWin());t=s.getPos(e).y;n=a.y;i=a.h;if(t<a.y||t+25>n+i){o.editor.getWin().scrollTo(0,t<n?t:t-i+25)}},placeCaretAt:function(e,t){var r=this.editor.getDoc(),i,o;if(r.caretPositionFromPoint){o=r.caretPositionFromPoint(e,t);i=r.createRange();i.setStart(o.offsetNode,o.offset);i.collapse(!0)}
else if(r.caretRangeFromPoint){i=r.caretRangeFromPoint(e,t)}
else if(r.body.createTextRange){i=r.body.createTextRange();try{i.moveToPoint(e,t);i.collapse(!0)}catch(n){i.collapse(t<r.body.clientHeight)}};this.setRng(i)},_moveEndPoint:function(t,n,i){var r=n,a=new e(n,r),s=this.dom.schema.getNonEmptyElements();do{if(n.nodeType==3&&f(n.nodeValue).length!==0){if(i){t.setStart(n,0)}
else{t.setEnd(n,n.nodeValue.length)};return};if(s[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName)){if(i){t.setStartBefore(n)}
else{if(n.nodeName=='BR'){t.setEndBefore(n)}
else{t.setEndAfter(n)}};return};if(o.ie&&o.ie<11&&this.dom.isBlock(n)&&this.dom.isEmpty(n)){if(i){t.setStart(n,0)}
else{t.setEnd(n,0)};return}}
while((n=(i?a.next():a.prev())));if(r.nodeName=='BODY'){if(i){t.setStart(r,0)}
else{t.setEnd(r,r.childNodes.length)}}},destroy:function(){this.win=null;this.controlSelection.destroy()}};return c});n('tinymce/dom/ElementUtils',['tinymce/dom/BookmarkManager','tinymce/util/Tools'],function(e,t){var i=t.each;function n(t){this.compare=function(n,r){if(n.nodeName!=r.nodeName){return!1};function a(e){var n={};i(t.getAttribs(e),function(i){var r=i.nodeName.toLowerCase();if(r.indexOf('_')!==0&&r!=='style'&&r!=='data-mce-style'){n[r]=t.getAttrib(e,r)}});return n};function o(e,t){var i,n;for(n in e){if(e.hasOwnProperty(n)){i=t[n];if(typeof i=='undefined'){return!1};if(e[n]!=i){return!1};delete t[n]}};for(n in t){if(t.hasOwnProperty(n)){return!1}};return!0};if(!o(a(n),a(r))){return!1};if(!o(t.parseStyle(t.getAttrib(n,'style')),t.parseStyle(t.getAttrib(r,'style')))){return!1};return!e.isBookmarkNode(n)&&!e.isBookmarkNode(r)}};return n});n('tinymce/fmt/Preview',['tinymce/util/Tools'],function(e){var t=e.each;function n(e,n){var c,r,i=e.dom,l='',o,a;a=e.settings.preview_styles;if(a===!1){return''};if(!a){a='font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow'};function s(e){return e.replace(/%(\w+)/g,'')};if(typeof n=='string'){n=e.formatter.get(n);if(!n){return};n=n[0]};c=n.block||n.inline||'span';r=i.create(c);t(n.styles,function(e,t){e=s(e);if(e){i.setStyle(r,t,e)}});t(n.attributes,function(e,t){e=s(e);if(e){i.setAttrib(r,t,e)}});t(n.classes,function(e){e=s(e);if(!i.hasClass(r,e)){i.addClass(r,e)}});e.fire('PreviewFormats');i.setStyles(r,{position:'absolute',left:-0xFFFF});e.getBody().appendChild(r);o=i.getStyle(e.getBody(),'fontSize',!0);o=/px$/.test(o)?parseInt(o,10):0;t(a.split(' '),function(t){var n=i.getStyle(r,t,!0);if(t=='background-color'&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)){n=i.getStyle(e.getBody(),t,!0);if(i.toHex(n).toLowerCase()=='#ffffff'){return}};if(t=='color'){if(i.toHex(n).toLowerCase()=='#000000'){return}};if(t=='font-size'){if(/em|%$/.test(n)){if(o===0){return};n=parseFloat(n,10)/(/%$/.test(n)?100:1);n=(n*o)+'px'}};if(t=='border'&&n){l+='padding:0 2px;'};l+=t+':'+n+';'});e.fire('AfterPreviewFormats');i.remove(r);return l};return{getCssText:n}});n('tinymce/Formatter',['tinymce/dom/TreeWalker','tinymce/dom/RangeUtils','tinymce/dom/BookmarkManager','tinymce/dom/ElementUtils','tinymce/util/Tools','tinymce/fmt/Preview'],function(e,t,n,i,r,o){return function(a){var w={},s=a.dom,l=a.selection,D=new t(s),B=a.schema.isValidChild,d=s.isBlock,L=a.settings.forced_root_block,R=s.nodeIndex,v='\uFEFF',ae=/^(src|href|style)$/,m=!1,u=!0,b,A,x=s.getContentEditable,V,U,f=n.isBookmarkNode;var c=r.each,k=r.grep,Y=r.walk,se=r.extend;function j(e){if(e.nodeType){e=e.nodeName};return!!a.schema.getTextBlockElements()[e.toLowerCase()]};function W(e){return/^(TH|TD)$/.test(e.nodeName)};function oe(e){return e&&/^(IMG)$/.test(e.nodeName)};function E(e,t){return s.getParents(e,t,s.getRoot())};function q(e){return e.nodeType===1&&e.id==='_mce_caret'};function re(){S({valigntop:[{selector:'td,th',styles:{'verticalAlign':'top'}}],valignmiddle:[{selector:'td,th',styles:{'verticalAlign':'middle'}}],valignbottom:[{selector:'td,th',styles:{'verticalAlign':'bottom'}}],alignleft:[{selector:'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',styles:{textAlign:'left'},defaultBlock:'div'},{selector:'img,table',collapsed:!1,styles:{'float':'left'}}],aligncenter:[{selector:'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',styles:{textAlign:'center'},defaultBlock:'div'},{selector:'img',collapsed:!1,styles:{display:'block',marginLeft:'auto',marginRight:'auto'}},{selector:'table',collapsed:!1,styles:{marginLeft:'auto',marginRight:'auto'}}],alignright:[{selector:'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',styles:{textAlign:'right'},defaultBlock:'div'},{selector:'img,table',collapsed:!1,styles:{'float':'right'}}],alignjustify:[{selector:'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',styles:{textAlign:'justify'},defaultBlock:'div'}],bold:[{inline:'strong',remove:'all'},{inline:'span',styles:{fontWeight:'bold'}},{inline:'b',remove:'all'}],italic:[{inline:'em',remove:'all'},{inline:'span',styles:{fontStyle:'italic'}},{inline:'i',remove:'all'}],underline:[{inline:'span',styles:{textDecoration:'underline'},exact:!0},{inline:'u',remove:'all'}],strikethrough:[{inline:'span',styles:{textDecoration:'line-through'},exact:!0},{inline:'strike',remove:'all'}],forecolor:{inline:'span',styles:{color:'%value'},links:!0,remove_similar:!0},hilitecolor:{inline:'span',styles:{backgroundColor:'%value'},links:!0,remove_similar:!0},fontname:{inline:'span',styles:{fontFamily:'%value'}},fontsize:{inline:'span',styles:{fontSize:'%value'}},fontsize_class:{inline:'span',attributes:{'class':'%value'}},blockquote:{block:'blockquote',wrapper:1,remove:'all'},subscript:{inline:'sub'},superscript:{inline:'sup'},code:{inline:'code'},link:{inline:'a',selector:'a',remove:'all',split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,t,n){c(n,function(t,n){s.setAttrib(e,n,t)})}},removeformat:[{selector:'b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins',remove:'all',split:!0,expand:!1,block_expand:!0,deep:!0},{selector:'span',attributes:['style','class'],remove:'empty',split:!0,expand:!1,deep:!0},{selector:'*',attributes:['style','class'],split:!1,expand:!1,deep:!0}]});c('p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp'.split(/\s/),function(e){S(e,{block:e,remove:'all'})});S(a.settings.formats)};function ie(){a.addShortcut('meta+b','bold_desc','Bold');a.addShortcut('meta+i','italic_desc','Italic');a.addShortcut('meta+u','underline_desc','Underline');for(var e=1;e<=6;e++){a.addShortcut('access+'+e,'',['FormatBlock',!1,'h'+e])};a.addShortcut('access+7','',['FormatBlock',!1,'p']);a.addShortcut('access+8','',['FormatBlock',!1,'div']);a.addShortcut('access+9','',['FormatBlock',!1,'address'])};function g(e){return e?w[e]:w};function S(e,t){if(e){if(typeof e!=='string'){c(e,function(e,t){S(t,e)})}
else{t=t.length?t:[t];c(t,function(e){if(e.deep===A){e.deep=!e.selector};if(e.split===A){e.split=!e.selector||e.inline};if(e.remove===A&&e.selector&&!e.inline){e.remove='none'};if(e.selector&&e.inline){e.mixed=!0;e.block_expand=!0};if(typeof e.classes==='string'){e.classes=e.classes.split(/\s+/)}});w[e]=t}}};function le(e){if(e&&w[e]){delete w[e]};return w};function X(e){var t;a.dom.getParent(e,function(e){t=a.dom.getStyle(e,'text-decoration');return t&&t!=='none'});return t};function Z(e){var t;if(e.nodeType===1&&e.parentNode&&e.parentNode.nodeType===1){t=X(e.parentNode);if(a.dom.getStyle(e,'color')&&t){a.dom.setStyle(e,'text-decoration',t)}
else if(a.dom.getStyle(e,'text-decoration')===t){a.dom.setStyle(e,'text-decoration',null)}}};function C(t,n,i){var o=g(t),r=o[0],E,b,R=!i&&l.isCollapsed();function v(e,t){t=t||r;if(e){if(t.onformat){t.onformat(e,t,n,i)};c(t.styles,function(t,i){s.setStyle(e,i,y(t,n))});if(t.styles){var o=s.getAttrib(e,'style');if(o){e.setAttribute('data-mce-style',o)}};c(t.attributes,function(t,i){s.setAttrib(e,i,y(t,n))});c(t.classes,function(t){t=y(t,n);if(!s.hasClass(e,t)){s.addClass(e,t)}})}};function A(){function s(t,n){var r=new e(n);for(i=r.current();i;i=r.prev()){if(i.childNodes.length>1||i==t||i.tagName=='BR'){return i}}};var t=a.selection.getRng(),o=t.startContainer,r=t.endContainer;if(o!=r&&t.endOffset===0){var n=s(o,r),l=n.nodeType==3?n.length:n.childNodes.length;t.setEnd(n,l)};return t};function w(e,i,a){var y=[],l,b,g=!0;l=r.inline||r.block;b=s.create(l);v(b);D.walk(e,function(e){var i;function u(e){var f,E,S,w,C;C=g;f=e.nodeName.toLowerCase();E=e.parentNode.nodeName.toLowerCase();if(e.nodeType===1&&x(e)){C=g;g=x(e)==='true';w=!0};if(p(f,'br')){i=0;if(r.block){s.remove(e)};return};if(r.wrapper&&h(e,t,n)){i=0;return};if(g&&!w&&r.block&&!r.wrapper&&j(f)&&B(E,l)){e=s.rename(e,l);v(e);y.push(e);i=0;return};if(r.selector){c(o,function(t){if('collapsed' in t&&t.collapsed!==R){return};if(s.is(e,t.selector)&&!q(e)){v(e,t);S=!0}});if(!r.inline||S){i=0;return}};if(g&&!w&&B(l,f)&&B(E,l)&&!(!a&&e.nodeType===3&&e.nodeValue.length===1&&e.nodeValue.charCodeAt(0)===65279)&&!q(e)&&(!r.inline||!d(e))){if(!i){i=s.clone(b,m);e.parentNode.insertBefore(i,e);y.push(i)};i.appendChild(e)}
else{i=0;c(k(e.childNodes),u);if(w){g=C};i=0}};c(e,u)});if(r.links===!0){c(y,function(e){function t(e){if(e.nodeName==='A'){v(e,r)};c(k(e.childNodes),t)};t(e)})};c(y,function(e){var i;function l(e){var t=0;c(e.childNodes,function(e){if(!N(e)&&!f(e)){t++}});return t};function a(e){var t,n;c(e.childNodes,function(e){if(e.nodeType==1&&!f(e)&&!q(e)){t=e;return m}});if(t&&!f(t)&&I(t,r)){n=s.clone(t,m);v(n);s.replace(n,e,u);s.remove(t,1)};return n||e};i=l(e);if((y.length>1||!d(e))&&i===0){s.remove(e,1);return};if(r.inline||r.wrapper){if(!r.exact&&i===1){e=a(e)};c(o,function(t){c(s.select(t.inline,e),function(e){if(f(e)){return};M(t,n,e,t.exact?e:null)})});if(h(e.parentNode,t,n)){s.remove(e,1);e=0;return u};if(r.merge_with_parents){s.getParent(e.parentNode,function(i){if(h(i,t,n)){s.remove(e,1);e=0;return u}})};if(e&&r.merge_siblings!==!1){e=ee(K(e),e);e=ee(e,K(e,u))}}})};if(r){if(i){if(i.nodeType){b=s.createRng();b.setStartBefore(i);b.setEndAfter(i);w(T(b,o),null,!0)}
else{w(i,null,!0)}}
else{if(!R||!r.inline||s.select('td.mce-item-selected,th.mce-item-selected').length){var S=a.selection.getNode();if(!L&&o[0].defaultBlock&&!s.getParent(S,s.isBlock)){C(o[0].defaultBlock)};a.selection.setRng(A());E=l.getBookmark();w(T(l.getRng(u),o),E);if(r.styles&&(r.styles.color||r.styles.textDecoration)){Y(S,Z,'childNodes');Z(S)};l.moveToBookmark(E);J(l.getRng(u));a.nodeChanged()}
else{G('apply',t,n)}}}};function O(e,t,n,i){var r=g(e),o=r[0],C,y,p=!0;function S(e){var i,n,a,l,s;if(e.nodeType===1&&x(e)){l=p;p=x(e)==='true';s=!0};i=k(e.childNodes);if(p&&!s){for(n=0,a=r.length;n<a;n++){if(M(r[n],t,e,e)){break}}};if(o.deep){if(i.length){for(n=0,a=i.length;n<a;n++){S(i[n])};if(s){p=l}}}};function A(n){var r;c(E(n.parentNode).reverse(),function(n){var o;if(!r&&n.id!='_start'&&n.id!='_end'){o=h(n,e,t,i);if(o&&o.split!==!1){r=n}}});return r};function N(e,n,i,a){var c,l,u,h,f,p;if(e){p=e.parentNode;for(c=n.parentNode;c&&c!=p;c=c.parentNode){l=s.clone(c,m);for(f=0;f<r.length;f++){if(M(r[f],t,l,l)){l=0;break}};if(l){if(u){l.appendChild(u)};if(!h){h=l};u=l}};if(a&&(!o.mixed||!d(e))){n=s.split(e,n)};if(u){i.parentNode.insertBefore(u,i);h.appendChild(i)}};return n};function v(e){return N(A(e),e,e,!0)};function b(e){var n=s.get(e?'_start':'_end'),t=n[e?'firstChild':'lastChild'];if(f(t)){t=t[e?'firstChild':'lastChild']};if(t.nodeType==3&&t.data.length===0){t=e?n.previousSibling||n.nextSibling:n.nextSibling||n.previousSibling};s.remove(n,!0);return t};function w(e){var t,n,i=e.commonAncestorContainer;e=T(e,r,u);if(o.split){t=Q(e,u);n=Q(e);if(t!=n){if(/^(TR|TH|TD)$/.test(t.nodeName)&&t.firstChild){if(t.nodeName=='TR'){t=t.firstChild.firstChild||t}
else{t=t.firstChild||t}};if(i&&/^T(HEAD|BODY|FOOT|R)$/.test(i.nodeName)&&W(n)&&n.firstChild){n=n.firstChild||n};if(s.isChildOf(t,n)&&!d(n)&&!W(t)&&!W(n)){t=P(t,'span',{id:'_start','data-mce-type':'bookmark'});v(t);t=b(u);return};t=P(t,'span',{id:'_start','data-mce-type':'bookmark'});n=P(n,'span',{id:'_end','data-mce-type':'bookmark'});v(t);v(n);t=b(u);n=b()}
else{t=n=v(t)};e.startContainer=t.parentNode?t.parentNode:t;e.startOffset=R(t);e.endContainer=n.parentNode?n.parentNode:n;e.endOffset=R(n)+1};D.walk(e,function(e){c(e,function(e){S(e);if(e.nodeType===1&&a.dom.getStyle(e,'text-decoration')==='underline'&&e.parentNode&&X(e.parentNode)==='underline'){M({'deep':!1,'exact':!0,'inline':'span','styles':{'textDecoration':'underline'}},null,e)}})})};if(n){if(n.nodeType){y=s.createRng();y.setStartBefore(n);y.setEndAfter(n);w(y)}
else{w(n)};return};if(!l.isCollapsed()||!o.inline||s.select('td.mce-item-selected,th.mce-item-selected').length){C=l.getBookmark();w(l.getRng(u));l.moveToBookmark(C);if(o.inline&&F(e,t,l.getStart())){J(l.getRng(!0))};a.nodeChanged()}
else{G('remove',e,t,i)}};function ce(e,t,n){var i=g(e);if(F(e,t,n)&&(!('toggle' in i[0])||i[0].toggle)){O(e,t,n)}
else{C(e,t,n)}};function h(e,t,n,i){var l=g(t),o,r,a;function c(e,t,r){var a,c,o=t[r],l;if(t.onmatch){return t.onmatch(e,t,r)};if(o){if(o.length===A){for(a in o){if(o.hasOwnProperty(a)){if(r==='attributes'){c=s.getAttrib(e,a)}
else{c=z(e,a)};if(i&&!c&&!t.exact){return};if((!i||t.exact)&&!p(c,H(y(o[a],n),a))){return}}}}
else{for(l=0;l<o.length;l++){if(r==='attributes'?s.getAttrib(e,o[l]):z(e,o[l])){return t}}}};return t};if(l&&e){for(r=0;r<l.length;r++){o=l[r];if(I(e,o)&&c(e,o,'attributes')&&c(e,o,'styles')){if((a=o.classes)){for(r=0;r<a.length;r++){if(!s.hasClass(e,a[r])){return}}};return o}}}};function F(e,t,n){var r;function i(n){var i=s.getRoot();if(n===i){return!1};n=s.getParent(n,function(n){return n.parentNode===i||!!h(n,e,t,!0)});return h(n,e,t)};if(n){return i(n)};n=l.getNode();if(i(n)){return u};r=l.getStart();if(r!=n){if(i(r)){return u}};return m};function de(e,t){var i,r=[],n={};i=l.getStart();s.getParent(i,function(i){var a,o;for(a=0;a<e.length;a++){o=e[a];if(!n[o]&&h(i,o,t)){n[o]=!0;r.push(o)}}},s.getRoot());return r};function fe(e){var n=g(e),a,o,i,t,r;if(n){a=l.getStart();o=E(a);for(t=n.length-1;t>=0;t--){r=n[t].selector;if(!r||n[t].defaultBlock){return u};for(i=o.length-1;i>=0;i--){if(s.is(o[i],r)){return u}}}};return m};function ue(e,t,n){var i;if(!b){b={};i={};a.on('NodeChange',function(e){var t=E(e.element),n={};t=r.grep(t,function(e){return e.nodeType==1&&!e.getAttribute('data-mce-bogus')});c(b,function(e,r){c(t,function(o){if(h(o,r,{},e.similar)){if(!i[r]){c(e,function(e){e(!0,{node:o,format:r,parents:t})});i[r]=e};n[r]=e;return!1}})});c(i,function(r,o){if(!n[o]){delete i[o];c(r,function(n){n(!1,{node:e.element,format:o,parents:t})})}})})};c(e.split(','),function(e){if(!b[e]){b[e]=[];b[e].similar=n};b[e].push(t)});return this};function me(e){return o.getCssText(a,e)};se(this,{get:g,register:S,unregister:le,apply:C,remove:O,toggle:ce,match:F,matchAll:de,matchNode:h,canApply:fe,formatChanged:ue,getCssText:me});re();ie();a.on('BeforeGetContent',function(e){if(U&&e.format!='raw'){U()}});a.on('mouseup keydown',function(e){if(V){V(e)}});function I(e,t){if(p(e,t.inline)){return u};if(p(e,t.block)){return u};if(t.selector){return e.nodeType==1&&s.is(e,t.selector)}};function p(e,t){e=e||'';t=t||'';e=''+(e.nodeName||e);t=''+(t.nodeName||t);return e.toLowerCase()==t.toLowerCase()};function z(e,t){return H(s.getStyle(e,t),t)};function H(e,t){if(t=='color'||t=='backgroundColor'){e=s.toHex(e)};if(t=='fontWeight'&&e==700){e='bold'};if(t=='fontFamily'){e=e.replace(/['"]/g,'').replace(/,\s+/g,',')};return''+e};function y(e,t){if(typeof e!='string'){e=e(t)}
else if(t){e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})};return e};function N(e){return e&&e.nodeType===3&&/^([\t \r\n]+|)$/.test(e.nodeValue)};function P(e,t,n){var i=s.create(t,n);e.parentNode.insertBefore(i,e);i.appendChild(e);return i};function T(t,n,i){var g,l,h,o=t.startContainer,u=t.startOffset,r=t.endContainer,c=t.endOffset;function v(e){var a,t,i,l,m;a=t=e?o:r;l=e?'previousSibling':'nextSibling';m=s.getRoot();function h(e){return e.nodeName=='BR'&&e.getAttribute('data-mce-bogus')&&!e.nextSibling};if(a.nodeType==3&&!N(a)){if(e?u>0:c<a.nodeValue.length){return a}}
while(!0){if(!n[0].block_expand&&d(t)){return t};for(i=t[l];i;i=i[l]){if(!f(i)&&!N(i)&&!h(i)){return t}};if(t.parentNode==m){a=t;break};t=t.parentNode};return a};function w(e,t){if(t===A){t=e.nodeType===3?e.length:e.childNodes.length}
while(e&&e.hasChildNodes()){e=e.childNodes[t];if(e){t=e.nodeType===3?e.length:e.childNodes.length}};return{node:e,offset:t}};if(o.nodeType==1&&o.hasChildNodes()){g=o.childNodes.length-1;o=o.childNodes[u>g?g:u];if(o.nodeType==3){u=0}};if(r.nodeType==1&&r.hasChildNodes()){g=r.childNodes.length-1;r=r.childNodes[c>g?g:c-1];if(r.nodeType==3){c=r.nodeValue.length}};function C(e){var t=e;while(t){if(t.nodeType===1&&x(t)){return x(t)==='false'?t:e};t=t.parentNode};return e};function k(t,n,r){var f,o,l,c;function u(e,t){var n,o,a=e.nodeValue;if(typeof t=='undefined'){t=r?a.length:0};if(r){n=a.lastIndexOf(' ',t);o=a.lastIndexOf('\u00a0',t);n=n>o?n:o;if(n!==-1&&!i){n++}}
else{n=a.indexOf(' ',t);o=a.indexOf('\u00a0',t);n=n!==-1&&(o===-1||n<o)?n:o};return n};if(t.nodeType===3){l=u(t,n);if(l!==-1){return{container:t,offset:l}};c=t};f=new e(t,s.getParent(t,d)||a.getBody());while((o=f[r?'prev':'next']())){if(o.nodeType===3){c=o;l=u(o);if(l!==-1){return{container:o,offset:l}}}
else if(d(o)){break}};if(c){if(r){n=0}
else{n=c.length};return{container:c,offset:n}}};function b(e,i){var a,r,l,o;if(e.nodeType==3&&e.nodeValue.length===0&&e[i]){e=e[i]};a=E(e);for(r=0;r<a.length;r++){for(l=0;l<n.length;l++){o=n[l];if('collapsed' in o&&o.collapsed!==t.collapsed){continue};if(s.is(a[r],o.selector)){return a[r]}}};return e};function y(e,t){var i,r=s.getRoot();if(!n[0].wrapper){i=s.getParent(e,n[0].block,r)};if(!i){i=s.getParent(e.nodeType==3?e.parentNode:e,function(e){return e!=r&&j(e)})};if(i&&n[0].wrapper){i=E(i,'ul,ol').reverse()[0]||i};if(!i){i=e;while(i[t]&&!d(i[t])){i=i[t];if(p(i,'br')){break}}};return i||e};o=C(o);r=C(r);if(f(o.parentNode)||f(o)){o=f(o)?o:o.parentNode;o=o.nextSibling||o;if(o.nodeType==3){u=0}};if(f(r.parentNode)||f(r)){r=f(r)?r:r.parentNode;r=r.previousSibling||r;if(r.nodeType==3){c=r.length}};if(n[0].inline){if(t.collapsed){h=k(o,u,!0);if(h){o=h.container;u=h.offset};h=k(r,c);if(h){r=h.container;c=h.offset}};l=w(r,c);if(l.node){while(l.node&&l.offset===0&&l.node.previousSibling){l=w(l.node.previousSibling)};if(l.node&&l.offset>0&&l.node.nodeType===3&&l.node.nodeValue.charAt(l.offset-1)===' '){if(l.offset>1){r=l.node;r.splitText(l.offset-1)}}}};if(n[0].inline||n[0].block_expand){if(!n[0].inline||(o.nodeType!=3||u===0)){o=v(!0)};if(!n[0].inline||(r.nodeType!=3||c===r.nodeValue.length)){r=v()}};if(n[0].selector&&n[0].expand!==m&&!n[0].inline){o=b(o,'previousSibling');r=b(r,'nextSibling')};if(n[0].block||n[0].selector){o=y(o,'previousSibling');r=y(r,'nextSibling');if(n[0].block){if(!d(o)){o=v(!0)};if(!d(r)){r=v()}}};if(o.nodeType==1){u=R(o);o=o.parentNode};if(r.nodeType==1){c=R(r)+1;r=r.parentNode};return{startContainer:o,startOffset:u,endContainer:r,endOffset:c}};function te(e,t){return t.links&&e.tagName=='A'};function M(e,t,n,i){var r,o,a;if(!I(n,e)&&!te(n,e)){return m};if(e.remove!='all'){c(e.styles,function(r,o){r=H(y(r,t),o);if(typeof o==='number'){o=r;i=0};if(e.remove_similar||(!i||p(z(i,o),r))){s.setStyle(n,o,'')};a=1});if(a&&s.getAttrib(n,'style')===''){n.removeAttribute('style');n.removeAttribute('data-mce-style')};c(e.attributes,function(e,r){var o;e=y(e,t);if(typeof r==='number'){r=e;i=0};if(!i||p(s.getAttrib(i,r),e)){if(r=='class'){e=s.getAttrib(n,r);if(e){o='';c(e.split(/\s+/),function(e){if(/mce\-\w+/.test(e)){o+=(o?' ':'')+e}});if(o){s.setAttrib(n,r,o);return}}};if(r=='class'){n.removeAttribute('className')};if(ae.test(r)){n.removeAttribute('data-mce-'+r)};n.removeAttribute(r)}});c(e.classes,function(e){e=y(e,t);if(!i||s.hasClass(i,e)){s.removeClass(n,e)}});o=s.getAttribs(n);for(r=0;r<o.length;r++){if(o[r].nodeName.indexOf('_')!==0){return m}}};if(e.remove!='none'){ne(n,e);return u}};function ne(e,t){var r=e.parentNode,n;function i(e,t,n){e=K(e,t,n);return!e||(e.nodeName=='BR'||d(e))};if(t.block){if(!L){if(d(e)&&!d(r)){if(!i(e,m)&&!i(e.firstChild,u,1)){e.insertBefore(s.create('br'),e.firstChild)};if(!i(e,u)&&!i(e.lastChild,m,1)){e.appendChild(s.create('br'))}}}
else{if(r==s.getRoot()){if(!t.list_block||!p(e,t.list_block)){c(k(e.childNodes),function(e){if(B(L,e.nodeName.toLowerCase())){if(!n){n=P(e,L);s.setAttribs(n,a.settings.forced_root_block_attrs)}
else{n.appendChild(e)}}
else{n=0}})}}}};if(t.selector&&t.inline&&!p(t.inline,e)){return};s.remove(e,1)};function K(e,t,n){if(e){t=t?'nextSibling':'previousSibling';for(e=n?e:e[t];e;e=e[t]){if(e.nodeType==1||!N(e)){return e}}}};function ee(e,t){var n,r,a=new i(s);function o(e,t){for(n=e;n;n=n[t]){if(n.nodeType==3&&n.nodeValue.length!==0){return e};if(n.nodeType==1&&!f(n)){return n}};return e};if(e&&t){e=o(e,'previousSibling');t=o(t,'nextSibling');if(a.compare(e,t)){for(n=e.nextSibling;n&&n!=t;){r=n;n=n.nextSibling;e.appendChild(r)};s.remove(t);c(k(t.childNodes),function(t){e.appendChild(t)});return e}};return t};function Q(t,n){var i,r,o;i=t[n?'startContainer':'endContainer'];r=t[n?'startOffset':'endOffset'];if(i.nodeType==1){o=i.childNodes.length-1;if(!n&&r){r--};i=i.childNodes[r>o?o:r]};if(i.nodeType===3&&n&&r>=i.nodeValue.length){i=new e(i,a.getBody()).next()||i};if(i.nodeType===3&&!n&&r===0){i=new e(i,a.getBody()).prev()||i};return i};function G(t,n,i,r){var u='_mce_caret',y=a.settings.caret_debug;function m(e){var t=s.create('span',{id:u,'data-mce-bogus':!0,style:y?'color:red':''});if(e){t.appendChild(a.getDoc().createTextNode(v))};return t};function p(e,t){while(e){if((e.nodeType===3&&e.nodeValue!==v)||e.childNodes.length>1){return!1};if(t&&e.nodeType===1){t.push(e)};e=e.firstChild};return!0};function o(e){while(e){if(e.id===u){return e};e=e.parentNode}};function f(t){var n;if(t){n=new e(t,t);for(t=n.current();t;t=n.next()){if(t.nodeType===3){return t}}}};function c(e,t){var i,n;if(!e){e=o(l.getStart());if(!e){while((e=s.get(u))){c(e,!1)}}}
else{n=l.getRng(!0);if(p(e)){if(t!==!1){n.setStartBefore(e);n.setEndBefore(e)};s.remove(e)}
else{i=f(e);if(i.nodeValue.charAt(0)===v){i.deleteData(0,1);if(n.startContainer==i&&n.startOffset>0){n.setStart(i,n.startOffset-1)};if(n.endContainer==i&&n.endOffset>0){n.setEnd(i,n.endOffset-1)}};s.remove(e,1)};l.setRng(n)}};function b(){var e,t,s,r,c,u,a;e=l.getRng(!0);r=e.startOffset;u=e.startContainer;a=u.nodeValue;t=o(l.getStart());if(t){s=f(t)};if(a&&r>0&&r<a.length&&/\w/.test(a.charAt(r))&&/\w/.test(a.charAt(r-1))){c=l.getBookmark();e.collapse(!0);e=T(e,g(n));e=D.split(e);C(n,i,e);l.moveToBookmark(c)}
else{if(!t||s.nodeValue!==v){t=m(!0);s=t.firstChild;e.insertNode(t);r=1;C(n,i,t)}
else{C(n,i,t)};l.setCursorLocation(s,r)}};function w(){var o=l.getRng(!0),u,p,y,d,e,t,f=[],a,c;u=o.startContainer;p=o.startOffset;e=u;if(u.nodeType==3){if(p!=u.nodeValue.length){d=!0};e=e.parentNode}
while(e){if(h(e,n,i,r)){t=e;break};if(e.nextSibling){d=!0};f.push(e);e=e.parentNode};if(!t){return};if(d){y=l.getBookmark();o.collapse(!0);o=T(o,g(n),!0);o=D.split(o);O(n,i,o);l.moveToBookmark(y)}
else{c=m();e=c;for(a=f.length-1;a>=0;a--){e.appendChild(s.clone(f[a],!1));e=e.firstChild};e.appendChild(s.doc.createTextNode(v));e=e.firstChild;var b=s.getParent(t,j);if(b&&s.isEmpty(b)){t.parentNode.replaceChild(c,t)}
else{s.insertAfter(c,t)};l.setCursorLocation(e,1);if(s.isEmpty(t)){s.remove(t)}}};function d(){var e;e=o(l.getStart());if(e&&!s.isEmpty(e)){Y(e,function(e){if(e.nodeType==1&&e.id!==u&&!s.isEmpty(e)){s.setAttrib(e,'data-mce-bogus',null)}},'childNodes')}};if(!a._hasCaretEvents){U=function(){var t=[],e;if(p(o(l.getStart()),t)){e=t.length;while(e--){s.setAttrib(t[e],'data-mce-bogus','1')}}};V=function(e){var t=e.keyCode;c();if(t==8&&l.isCollapsed()&&l.getStart().innerHTML==v){c(o(l.getStart()))};if(t==37||t==39){c(o(l.getStart()))};d()};a.on('SetContent',function(e){if(e.selection){d()}});a._hasCaretEvents=!0};if(t=='apply'){b()}
else{w()}};function J(t){var n=t.startContainer,a=t.startOffset,u,r,i,o,c;if(t.startContainer==t.endContainer){if(oe(t.startContainer.childNodes[t.startOffset])){return}};if(n.nodeType==3&&a>=n.nodeValue.length){a=R(n);n=n.parentNode;u=!0};if(n.nodeType==1){o=n.childNodes;n=o[Math.min(a,o.length-1)];r=new e(n,s.getParent(n,s.isBlock));if(a>o.length-1||u){r.next()};for(i=r.current();i;i=r.next()){if(i.nodeType==3&&!N(i)){c=s.create('a',{'data-mce-bogus':'all'},v);i.parentNode.insertBefore(c,i);t.setStart(i,0);l.setRng(t);s.remove(c);return}}}}}});n('tinymce/UndoManager',['tinymce/util/VK','tinymce/Env','tinymce/util/Tools','tinymce/html/SaxParser'],function(e,t,n,i){var o=n.trim,r;r=new RegExp(['<span[^>]+data-mce-bogus[^>]+>[\u200B\uFEFF]+<\\/span>','\\s?data-mce-selected="[^"]+"'].join('|'),'gi');return function(e){var a=this,s=0,n=[],m,f,u=0;function d(){var t=e.getContent({format:'raw',no_events:1});var l=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,c,n,s,a,u,f=e.schema;t=t.replace(r,'');u=f.getShortEndedElements();while((a=l.exec(t))){n=l.lastIndex;s=a[0].length;if(u[a[1]]){c=n}
else{c=i.findEndTag(f,t,n)};t=t.substring(0,n-s)+t.substring(c);l.lastIndex=n-s};return o(t)};function c(t){e.isNotDirty=!t};function l(e){a.typing=!1;a.add({},e)};e.on('init',function(){a.add()});e.on('BeforeExecCommand',function(e){var t=e.command;if(t!='Undo'&&t!='Redo'&&t!='mceRepaint'){a.beforeChange()}});e.on('ExecCommand',function(e){var t=e.command;if(t!='Undo'&&t!='Redo'&&t!='mceRepaint'){l(e)}});e.on('ObjectResizeStart Cut',function(){a.beforeChange()});e.on('SaveContent ObjectResized blur',l);e.on('DragEnd',l);e.on('KeyUp',function(i){var r=i.keyCode;if(i.isDefaultPrevented()){return};if((r>=33&&r<=36)||(r>=37&&r<=40)||r==45||r==13||i.ctrlKey){l();e.nodeChanged()};if(r==46||r==8||(t.mac&&(r==91||r==93))){e.nodeChanged()};if(f&&a.typing){if(!e.isDirty()){c(n[0]&&d()!=n[0].content);if(!e.isNotDirty){e.fire('change',{level:n[0],lastLevel:null})}};e.fire('TypingUndo');f=!1;e.nodeChanged()}});e.on('KeyDown',function(e){var t=e.keyCode;if(e.isDefaultPrevented()){return};if((t>=33&&t<=36)||(t>=37&&t<=40)||t==45){if(a.typing){l(e)};return};var n=(e.ctrlKey&&!e.altKey)||e.metaKey;if((t<16||t>20)&&t!=224&&t!=91&&!a.typing&&!n){a.beforeChange();a.typing=!0;a.add({},e);f=!0}});e.on('MouseDown',function(e){if(a.typing){l(e)}});e.addShortcut('meta+z','','Undo');e.addShortcut('meta+y,meta+shift+z','','Redo');e.on('AddUndo Undo Redo ClearUndos',function(t){if(!t.isDefaultPrevented()){e.nodeChanged()}});a={data:n,typing:!1,beforeChange:function(){if(!u){m=e.selection.getBookmark(2,!0)}},add:function(t,i){var r,l=e.settings,o;t=t||{};t.content=d();if(u||e.removed){return null};o=n[s];if(e.fire('BeforeAddUndo',{level:t,lastLevel:o,originalEvent:i}).isDefaultPrevented()){return null};if(o&&o.content==t.content){return null};if(n[s]){n[s].beforeBookmark=m};if(l.custom_undo_redo_levels){if(n.length>l.custom_undo_redo_levels){for(r=0;r<n.length-1;r++){n[r]=n[r+1]};n.length--;s=n.length}};t.bookmark=e.selection.getBookmark(2,!0);if(s<n.length-1){n.length=s+1};n.push(t);s=n.length-1;var a={level:t,lastLevel:o,originalEvent:i};e.fire('AddUndo',a);if(s>0){c(!0);e.fire('change',a)};return t},undo:function(){var t;if(a.typing){a.add();a.typing=!1};if(s>0){t=n[--s];if(s===0){c(!1)};e.setContent(t.content,{format:'raw'});e.selection.moveToBookmark(t.beforeBookmark);e.fire('undo',{level:t})};return t},redo:function(){var t;if(s<n.length-1){t=n[++s];e.setContent(t.content,{format:'raw'});e.selection.moveToBookmark(t.bookmark);c(!0);e.fire('redo',{level:t})};return t},clear:function(){n=[];s=0;a.typing=!1;e.fire('ClearUndos')},hasUndo:function(){return s>0||(a.typing&&n[0]&&d()!=n[0].content)},hasRedo:function(){return s<n.length-1&&!this.typing},transact:function(e){a.beforeChange();try{u++;e()}finally{u--};a.add()}};return a}});n('tinymce/EnterKey',['tinymce/dom/TreeWalker','tinymce/dom/RangeUtils','tinymce/Env'],function(e,t,n){var i=n.ie&&n.ie<11;return function(r){var o=r.dom,s=r.selection,a=r.settings,c=r.undoManager,l=r.schema,u=l.getNonEmptyElements(),d=l.getMoveCaretBeforeOnEnterElements();function f(f){var y,x,S,p,b,m,D,C,h,w,v,E,R,g,k;function L(e){return e&&o.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&o.getContentEditable(e)!=='true'};function W(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)};function P(e){var t;if(o.isBlock(e)){t=s.getRng();e.appendChild(o.create('span',null,'\u00a0'));s.select(e);e.lastChild.outerHTML='';s.setRng(t)}};function U(e){var t=e,i=[],n;if(!t){return}
while((t=t.firstChild)){if(o.isBlock(t)){return};if(t.nodeType==1&&!u[t.nodeName.toLowerCase()]){i.push(t)}};n=i.length;while(n--){t=i[n];if(!t.hasChildNodes()||(t.firstChild==t.lastChild&&t.firstChild.nodeValue==='')){o.remove(t)}
else{if(t.nodeName=='A'&&(t.innerText||t.textContent)===' '){o.remove(t)}}}};function T(t){var l,r,i,c=t,a;function f(e){while(e){if(e.nodeType==1||(e.nodeType==3&&e.data&&/[\r\n\s]/.test(e.data))){return e};e=e.nextSibling}};if(!t){return};if(n.ie&&n.ie<9&&m&&m.firstChild){if(m.firstChild==m.lastChild&&m.firstChild.tagName=='BR'){o.remove(m.firstChild)}};if(/^(LI|DT|DD)$/.test(t.nodeName)){var u=f(t.firstChild);if(u&&/^(UL|OL|DL)$/.test(u.nodeName)){t.insertBefore(o.doc.createTextNode('\u00a0'),t.firstChild)}};i=o.createRng();if(!n.ie){t.normalize()};if(t.hasChildNodes()){l=new e(t,t);while((r=l.current())){if(r.nodeType==3){i.setStart(r,0);i.setEnd(r,0);break};if(d[r.nodeName.toLowerCase()]){i.setStartBefore(r);i.setEndBefore(r);break};c=r;r=l.next()};if(!r){i.setStart(c,0);i.setEnd(c,0)}}
else{if(t.nodeName=='BR'){if(t.nextSibling&&o.isBlock(t.nextSibling)){if(!D||D<9){a=o.create('br');t.parentNode.insertBefore(a,t)};i.setStartBefore(t);i.setEndBefore(t)}
else{i.setStartAfter(t);i.setEndAfter(t)}}
else{i.setStart(t,0);i.setEnd(t,0)}};s.setRng(i);o.remove(a);s.scrollIntoView(t)};function B(e){var t=a.forced_root_block;if(t&&t.toLowerCase()===e.tagName.toLowerCase()){o.setAttribs(e,a.forced_root_block_attrs)}};function z(e){e.innerHTML=!i?'<br data-mce-bogus="1">':''};function N(e){var r=p,t,n,s,c=l.getTextInlineElements();if(e||E=='TABLE'){t=o.create(e||g);B(t)}
else{t=m.cloneNode(!1)};s=t;if(a.keep_styles!==!1){do{if(c[r.nodeName]){if(r.id=='_mce_caret'){continue};n=r.cloneNode(!1);o.setAttrib(n,'id','');if(t.hasChildNodes()){n.appendChild(t.firstChild);t.appendChild(n)}
else{s=n;t.appendChild(n)}}}
while((r=r.parentNode));};if(!i){s.innerHTML='<br data-mce-bogus="1">'};return t};function M(t){var i,n,r;if(p.nodeType==3&&(t?b>0:b<p.nodeValue.length)){return!1};if(p.parentNode==m&&k&&!t){return!0};if(t&&p.nodeType==1&&p==m.firstChild){return!0};if(p.nodeName==='TABLE'||(p.previousSibling&&p.previousSibling.nodeName=='TABLE')){return(k&&!t)||(!k&&t)};i=new e(p,m);if(p.nodeType==3){if(t&&b===0){i.prev()}
else if(!t&&b==p.nodeValue.length){i.next()}}
while((n=i.current())){if(n.nodeType===1){if(!n.getAttribute('data-mce-bogus')){r=n.nodeName.toLowerCase();if(u[r]&&r!=='br'){return!1}}}
else if(n.nodeType===3&&!/^[ \t\r\n]*$/.test(n.nodeValue)){return!1};if(t){i.prev()}
else{i.next()}};return!0};function V(e,t){var a,i,s,n,f,u,c=g||'P';i=o.getParent(e,o.isBlock);if(!i||!L(i)){i=i||S;if(i==r.getBody()||W(i)){u=i.nodeName.toLowerCase()}
else{u=i.parentNode.nodeName.toLowerCase()};if(!i.hasChildNodes()){a=o.create(c);B(a);i.appendChild(a);y.setStart(a,0);y.setEnd(a,0);return a};n=e;while(n.parentNode!=i){n=n.parentNode}
while(n&&!o.isBlock(n)){s=n;n=n.previousSibling};if(s&&l.isValidChild(u,c.toLowerCase())){a=o.create(c);B(a);s.parentNode.insertBefore(a,s);n=s;while(n&&!o.isBlock(n)){f=n.nextSibling;a.appendChild(n);n=f};y.setStart(e,t);y.setEnd(e,t)}};return e};function j(){function t(e){var t=v[e?'firstChild':'lastChild'];while(t){if(t.nodeType==1){break};t=t[e?'nextSibling':'previousSibling']};return t===m};function e(){var e=v.parentNode;if(/^(LI|DT|DD)$/.test(e.nodeName)){return e};return v};if(v==r.getBody()){return};var n=v.parentNode.nodeName;if(/^(OL|UL|LI)$/.test(n)){g='LI'};h=g?N(g):o.create('BR');if(t(!0)&&t()){if(n=='LI'){o.insertAfter(h,e())}
else{o.replace(h,v)}}
else if(t(!0)){if(n=='LI'){o.insertAfter(h,e());h.appendChild(o.doc.createTextNode(' '));h.appendChild(v)}
else{v.parentNode.insertBefore(h,v)}}
else if(t()){o.insertAfter(h,e());P(h)}
else{v=e();x=y.cloneRange();x.setStartAfter(m);x.setEndAfter(v);w=x.extractContents();if(g=='LI'&&w.firstChild.nodeName=='LI'){h=w.firstChild;o.insertAfter(w,v)}
else{o.insertAfter(w,v);o.insertAfter(h,v)}};o.remove(m);T(h);c.add()};function A(){r.execCommand('InsertLineBreak',!1,f)};function H(e){do{if(e.nodeType===3){e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,'')};e=e.firstChild}
while(e);};function F(e){var n=o.getRoot(),t,i;t=e;while(t!==n&&o.getContentEditable(t)!=='false'){if(o.getContentEditable(t)==='true'){i=t};t=t.parentNode};return t!==n?i:n};function I(e){var t;if(!i){e.normalize();t=e.lastChild;if(!t||(/^(left|right)$/gi.test(o.getStyle(t,'float',!0)))){o.add(e,'br')}}};function O(){if(/^(H[1-6]|PRE|FIGURE)$/.test(E)&&R!='HGROUP'){h=N(g)}
else{h=N()};if(a.end_container_on_empty_block&&L(v)&&o.isEmpty(m)){h=o.split(v,m)}
else{o.insertAfter(h,m)};T(h)};y=s.getRng(!0);if(f.isDefaultPrevented()){return};if(!y.collapsed){r.execCommand('Delete');return};new t(o).normalize(y);p=y.startContainer;b=y.startOffset;g=(a.force_p_newlines?'p':'')||a.forced_root_block;g=g?g.toUpperCase():'';D=o.doc.documentMode;C=f.shiftKey;if(p.nodeType==1&&p.hasChildNodes()){k=b>p.childNodes.length-1;p=p.childNodes[Math.min(b,p.childNodes.length-1)]||p;if(k&&p.nodeType==3){b=p.nodeValue.length}
else{b=0}};S=F(p);if(!S){return};c.beforeChange();if(!o.isBlock(S)&&S!=o.getRoot()){if(!g||C){A()};return};if((g&&!C)||(!g&&C)){p=V(p,b)};m=o.getParent(p,o.isBlock);v=m?o.getParent(m.parentNode,o.isBlock):null;E=m?m.nodeName.toUpperCase():'';R=v?v.nodeName.toUpperCase():'';if(R=='LI'&&!f.ctrlKey){m=v;E=R};if(/^(LI|DT|DD)$/.test(E)){if(!g&&C){A();return};if(o.isEmpty(m)){j();return}};if(E=='PRE'&&a.br_in_pre!==!1){if(!C){A();return}}
else{if((!g&&!C&&E!='LI')||(g&&C)){A();return}};if(g&&m===r.getBody()){return};g=g||'P';if(M()){O()}
else if(M(!0)){h=m.parentNode.insertBefore(N(),m);P(h);T(m)}
else{x=y.cloneRange();x.setEndAfter(m);w=x.extractContents();H(w);h=w.firstChild;o.insertAfter(w,m);U(h);I(m);if(o.isEmpty(m)){z(m)};if(o.isEmpty(h)){o.remove(h);O()}
else{T(h)}};o.setAttrib(h,'id','');r.fire('NewBlock',{newBlock:h});c.add()};r.on('keydown',function(e){if(e.keyCode==13){if(f(e)!==!1){e.preventDefault()}}})}});n('tinymce/ForceBlocks',[],function(){return function(e){var o=e.settings,i=e.dom,t=e.selection,r=e.schema,n=r.getBlockElements();function a(){var s=t.getStart(),d=e.getBody(),l,C,m,w,u,f,p,b=-0xFFFFFF,y,g,c,v,h;h=o.forced_root_block;if(!s||s.nodeType!==1||!h){return}
while(s&&s!=d){if(n[s.nodeName]){return};s=s.parentNode};l=t.getRng();if(l.setStart){C=l.startContainer;m=l.startOffset;w=l.endContainer;u=l.endOffset;try{g=e.getDoc().activeElement===d}catch(a){}}
else{if(l.item){s=l.item(0);l=e.getDoc().body.createTextRange();l.moveToElementText(s)};g=l.parentElement().ownerDocument===e.getDoc();c=l.duplicate();c.collapse(!0);m=c.move('character',b)*-1;if(!c.collapsed){c=l.duplicate();c.collapse(!1);u=(c.move('character',b)*-1)-m}};s=d.firstChild;v=d.nodeName.toLowerCase();while(s){if(((s.nodeType===3||(s.nodeType==1&&!n[s.nodeName])))&&r.isValidChild(v,h.toLowerCase())){if(s.nodeType===3&&s.nodeValue.length===0){p=s;s=s.nextSibling;i.remove(p);continue};if(!f){f=i.create(h,e.settings.forced_root_block_attrs);s.parentNode.insertBefore(f,s);y=!0};p=s;s=s.nextSibling;f.appendChild(p)}
else{f=null;s=s.nextSibling}};if(y&&g){if(l.setStart){l.setStart(C,m);l.setEnd(w,u);t.setRng(l)}
else{try{l=e.getDoc().body.createTextRange();l.moveToElementText(d);l.collapse(!0);l.moveStart('character',m);if(u>0){l.moveEnd('character',u)};l.select()}catch(a){}};e.nodeChanged()}};if(o.forced_root_block){e.on('NodeChange',a)}}});n('tinymce/EditorCommands',['tinymce/html/Serializer','tinymce/Env','tinymce/util/Tools','tinymce/dom/ElementUtils','tinymce/dom/RangeUtils','tinymce/dom/TreeWalker'],function(e,n,i,r,o,a){var l=i.each,m=i.extend,h=i.map,p=i.inArray,u=i.explode,g=n.gecko,d=n.ie,c=n.ie&&n.ie<11,s=!0,f=!1;return function(i){var v,y,b,w={state:{},exec:{},value:{}},C=i.settings,A;i.on('PreInit',function(){v=i.dom;y=i.selection;C=i.settings;b=i.formatter});function B(e,t,n,r){var c,s,a=0;if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)&&(!r||!r.skip_focus)){i.focus()};r=i.fire('BeforeExecCommand',{command:e,ui:t,value:n});if(r.isDefaultPrevented()){return!1};s=e.toLowerCase();if((c=w.exec[s])){c(s,t,n);i.fire('ExecCommand',{command:e,ui:t,value:n});return!0};l(i.plugins,function(r){if(r.execCommand&&r.execCommand(e,t,n)){i.fire('ExecCommand',{command:e,ui:t,value:n});a=!0;return!1}});if(a){return a};if(i.theme&&i.theme.execCommand&&i.theme.execCommand(e,t,n)){i.fire('ExecCommand',{command:e,ui:t,value:n});return!0};try{a=i.getDoc().execCommand(e,t,n)}catch(o){};if(a){i.fire('ExecCommand',{command:e,ui:t,value:n});return!0};return!1};function E(e){var n;if(i._isHidden()){return};e=e.toLowerCase();if((n=w.state[e])){return n(e)};try{return i.getDoc().queryCommandState(e)}catch(t){};return!1};function O(e){var n;if(i._isHidden()){return};e=e.toLowerCase();if((n=w.value[e])){return n(e)};try{return i.getDoc().queryCommandValue(e)}catch(t){}};function k(e,t){t=t||'exec';l(e,function(e,n){l(n.toLowerCase().split(','),function(n){w[t][n]=e})})};function M(e,t,n){e=e.toLowerCase();w.exec[e]=function(e,r,o,a){return t.call(n||i,r,o,a)}};function P(e){e=e.toLowerCase();if(w.exec[e]){return!0};try{return i.getDoc().queryCommandSupported(e)}catch(t){};return!1};function L(e,t,n){e=e.toLowerCase();w.state[e]=function(){return t.call(n||i)}};function D(e,t,n){e=e.toLowerCase();w.value[e]=function(){return t.call(n||i)}};function H(e){e=e.toLowerCase();return!!w.exec[e]};m(this,{execCommand:B,queryCommandState:E,queryCommandValue:O,queryCommandSupported:P,addCommands:k,addCommand:M,addQueryStateHandler:L,addQueryValueHandler:D,hasCustomCommand:H});function S(e,n,r){if(n===t){n=f};if(r===t){r=null};return i.getDoc().execCommand(e,n,r)};function R(e){return b.match(e)};function x(e,n){b.toggle(e,n?{value:n}:t);i.nodeChanged()};function N(e){A=y.getBookmark(e)};function T(){y.moveToBookmark(A)};k({'mceResetDesignMode,mceBeginUndoLevel':function(){},'mceEndUndoLevel,mceAddUndoLevel':function(){i.undoManager.add()},'Cut,Copy,Paste':function(e){var a=i.getDoc(),o;try{S(e)}catch(t){o=s};if(o||!a.queryCommandSupported(e)){var r=i.translate('Your browser doesn\'t support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.');if(n.mac){r=r.replace(/Ctrl\+/g,'\u2318+')};i.windowManager.alert(r)}},unlink:function(){if(y.isCollapsed()){var e=y.getNode();if(e.tagName=='A'){i.dom.remove(e,!0)};return};b.remove('link')},'JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone':function(e){var t=e.substring(7);if(t=='full'){t='justify'};l('left,center,right,justify'.split(','),function(e){if(t!=e){b.remove('align'+e)}});if(t!='none'){x('align'+t);B('mceRepaint')}},'InsertUnorderedList,InsertOrderedList':function(e){var t,n;S(e);t=v.getParent(y.getNode(),'ol,ul');if(t){n=t.parentNode;if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)){N();v.split(n,t);T()}}},'Bold,Italic,Underline,Strikethrough,Superscript,Subscript':function(e){x(e)},'ForeColor,HiliteColor,FontName':function(e,t,n){x(e,n)},FontSize:function(e,t,n){var i,r;if(n>=1&&n<=7){r=u(C.font_size_style_values);i=u(C.font_size_classes);if(i){n=i[n-1]||n}
else{n=r[n-1]||n}};x(e,n)},RemoveFormat:function(e){b.remove(e)},mceBlockQuote:function(){x('blockquote')},FormatBlock:function(e,t,n){return x(n||'p')},mceCleanup:function(){var e=y.getBookmark();i.setContent(i.getContent({cleanup:s}),{cleanup:s});y.moveToBookmark(e)},mceRemoveNode:function(e,t,n){var r=n||y.getNode();if(r!=i.getBody()){N();i.dom.remove(r,s);T()}},mceSelectNodeDepth:function(e,t,n){var r=0;v.getParent(y.getNode(),function(e){if(e.nodeType==1&&r++==n){y.select(e);return f}},i.getBody())},mceSelectNode:function(e,t,n){y.select(n)},mceInsertContent:function(t,n,o){var E,b,s,m,h,g,u,c,a,f,w,x,S,A=i.schema.getTextInlineElements();function D(e){var n,t,i;n=y.getRng(!0);t=n.startContainer;i=n.startOffset;function r(e){return t[e]&&t[e].nodeType==3};if(t.nodeType==3){if(i>0){e=e.replace(/^&nbsp;/,' ')}
else if(!r('previousSibling')){e=e.replace(/^ /,'&nbsp;')};if(i<t.length){e=e.replace(/&nbsp;(<br>|)$/,' ')}
else if(!r('nextSibling')){e=e.replace(/(&nbsp;| )(<br>|)$/,'&nbsp;')}};return e};function T(){var n,e,t;n=y.getRng(!0);e=n.startContainer;t=n.startOffset;if(e.nodeType==3&&n.collapsed){if(e.data[t]==='\u00a0'){e.deleteData(t,1);if(!/[\u00a0| ]$/.test(o)){o+=' '}}
else if(e.data[t-1]==='\u00a0'){e.deleteData(t-1,1);if(!/[\u00a0| ]$/.test(o)){o=' '+o}}}};function N(e){if(x){for(a=e.firstChild;a;a=a.walk(!0)){if(A[a.name]){a.attr('data-mce-new','true')}}}};function R(){if(x){var t=i.getBody(),e=new r(v);l(v.select('*[data-mce-new]'),function(n){n.removeAttribute('data-mce-new');for(var i=n.parentNode;i&&i!=t;i=i.parentNode){if(e.compare(i,n)){v.remove(n,!0)}}})}};if(typeof o!='string'){x=o.merge;S=o.data;o=o.content};if(/^ | $/.test(o)){o=D(o)};E=i.parser;b=new e({validate:C.validate},i.schema);w='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>';g={content:o,format:'html',selection:!0};i.fire('BeforeSetContent',g);o=g.content;if(o.indexOf('{$caret}')==-1){o+='{$caret}'};o=o.replace(/\{\$caret\}/,w);c=y.getRng();var B=c.startContainer||(c.parentElement?c.parentElement():null),p=i.getBody();if(B===p&&y.isCollapsed()){if(v.isBlock(p.firstChild)&&v.isEmpty(p.firstChild)){c=v.createRng();c.setStart(p.firstChild,0);c.setEnd(p.firstChild,0);y.setRng(c)}};if(!y.isCollapsed()){i.getDoc().execCommand('Delete',!1,null);T()};s=y.getNode();var k={context:s.nodeName.toLowerCase(),data:S};h=E.parse(o,k);N(h);a=h.lastChild;if(a.attr('id')=='mce_marker'){u=a;for(a=a.prev;a;a=a.walk(!0)){if(a.type==3||!v.isBlock(a.name)){if(i.schema.isValidChild(a.parent.name,'span')){a.parent.insert(u,a,a.name==='br')};break}}};if(!k.invalid){o=b.serialize(h);a=s.firstChild;f=s.lastChild;if(!a||(a===f&&a.nodeName==='BR')){v.setHTML(s,o)}
else{y.setContent(o)}}
else{y.setContent(w);s=y.getNode();m=i.getBody();if(s.nodeType==9){s=a=m}
else{a=s}
while(a!==m){s=a;a=a.parentNode};o=s==m?m.innerHTML:v.getOuterHTML(s);o=b.serialize(E.parse(o.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return b.serialize(h)})));if(s==m){v.setHTML(m,o)}
else{v.setOuterHTML(s,o)}};R();u=v.get('mce_marker');y.scrollIntoView(u);c=v.createRng();a=u.previousSibling;if(a&&a.nodeType==3){c.setStart(a,a.nodeValue.length);if(!d){f=u.nextSibling;if(f&&f.nodeType==3){a.appendData(f.data);f.parentNode.removeChild(f)}}}
else{c.setStartBefore(u);c.setEndBefore(u)};v.remove(u);y.setRng(c);i.fire('SetContent',g);i.addVisual()},mceInsertRawHTML:function(e,t,n){y.setContent('tiny_mce_marker');i.setContent(i.getContent().replace(/tiny_mce_marker/g,function(){return n}))},mceToggleFormat:function(e,t,n){x(n)},mceSetContent:function(e,t,n){i.setContent(n)},'Indent,Outdent':function(e){var t,r,n;t=C.indentation;r=/[a-z%]+$/i.exec(t);t=parseInt(t,10);if(!E('InsertUnorderedList')&&!E('InsertOrderedList')){if(!C.forced_root_block&&!v.getParent(y.getNode(),v.isBlock)){b.apply('div')};l(y.getSelectedBlocks(),function(o){if(o.nodeName!='LI'){var a=i.getParam('indent_use_margin',!1)?'margin':'padding';a+=v.getStyle(o,'direction',!0)=='rtl'?'Right':'Left';if(e=='outdent'){n=Math.max(0,parseInt(o.style[a]||0,10)-t);v.setStyle(o,a,n?n+r:'')}
else{n=(parseInt(o.style[a]||0,10)+t)+r;v.setStyle(o,a,n)}}})}
else{S(e)}},mceRepaint:function(){if(g){try{N(s);if(y.getSel()){y.getSel().selectAllChildren(i.getBody())};y.collapse(s);T()}catch(e){}}},InsertHorizontalRule:function(){i.execCommand('mceInsertContent',!1,'<hr />')},mceToggleVisualAid:function(){i.hasVisual=!i.hasVisual;i.addVisual()},mceReplaceContent:function(e,t,n){i.execCommand('mceInsertContent',!1,n.replace(/\{\$selection\}/g,y.getContent({format:'text'})))},mceInsertLink:function(e,t,n){var i;if(typeof n=='string'){n={href:n}};i=v.getParent(y.getNode(),'a');n.href=n.href.replace(' ','%20');if(!i||!n.href){b.remove('link')};if(n.href){b.apply('link',n,i)}},selectAll:function(){var t=v.getRoot(),e;if(y.getRng().setStart){e=v.createRng();e.setStart(t,0);e.setEnd(t,t.childNodes.length);y.setRng(e)}
else{e=y.getRng();if(!e.item){e.moveToElementText(t);e.select()}}},'delete':function(){S('Delete');var e=i.getBody();if(v.isEmpty(e)){i.setContent('');if(e.firstChild&&v.isBlock(e.firstChild)){i.selection.setCursorLocation(e.firstChild,0)}
else{i.selection.setCursorLocation(e,0)}}},mceNewDocument:function(){i.setContent('')},InsertLineBreak:function(e,t,n){var g=n,r,p,m,u=y.getRng(!0);new o(v).normalize(u);var d=u.startOffset,l=u.startContainer;if(l.nodeType==1&&l.hasChildNodes()){var k=d>l.childNodes.length-1;l=l.childNodes[Math.min(d,l.childNodes.length-1)]||l;if(k&&l.nodeType==3){d=l.nodeValue.length}
else{d=0}};var f=v.getParent(l,v.isBlock),C=f?f.nodeName.toUpperCase():'',h=f?v.getParent(f.parentNode,v.isBlock):null,b=h?h.nodeName.toUpperCase():'',E=g&&g.ctrlKey;if(b=='LI'&&!E){f=h;C=b};function x(){var n=new a(l,f),e,t=i.schema.getNonEmptyElements();while((e=n.next())){if(t[e.nodeName.toLowerCase()]||e.length>0){return!0}}};if(l&&l.nodeType==3&&d>=l.nodeValue.length){if(!c&&!x()){r=v.create('br');u.insertNode(r);u.setStartAfter(r);u.setEndAfter(r);p=!0}};r=v.create('br');u.insertNode(r);var w=v.doc.documentMode;if(c&&C=='PRE'&&(!w||w<8)){r.parentNode.insertBefore(v.doc.createTextNode('\r'),r)};m=v.create('span',{},'&nbsp;');r.parentNode.insertBefore(m,r);y.scrollIntoView(m);v.remove(m);if(!p){u.setStartAfter(r);u.setEndAfter(r)}
else{u.setStartBefore(r);u.setEndBefore(r)};y.setRng(u);i.undoManager.add();return s}});k({'JustifyLeft,JustifyCenter,JustifyRight,JustifyFull':function(e){var n='align'+e.substring(7),i=y.isCollapsed()?[v.getParent(y.getNode(),v.isBlock)]:y.getSelectedBlocks(),t=h(i,function(e){return!!b.matchNode(e,n)});return p(t,s)!==-1},'Bold,Italic,Underline,Strikethrough,Superscript,Subscript':function(e){return R(e)},mceBlockQuote:function(){return R('blockquote')},Outdent:function(){var e;if(C.inline_styles){if((e=v.getParent(y.getStart(),v.isBlock))&&parseInt(e.style.paddingLeft,10)>0){return s};if((e=v.getParent(y.getEnd(),v.isBlock))&&parseInt(e.style.paddingLeft,10)>0){return s}};return(E('InsertUnorderedList')||E('InsertOrderedList')||(!C.inline_styles&&!!v.getParent(y.getNode(),'BLOCKQUOTE')))},'InsertUnorderedList,InsertOrderedList':function(e){var t=v.getParent(y.getNode(),'ul,ol');return t&&(e==='insertunorderedlist'&&t.tagName==='UL'||e==='insertorderedlist'&&t.tagName==='OL')}},'state');k({'FontSize,FontName':function(e){var n=0,t;if((t=v.getParent(y.getNode(),'span'))){if(e=='fontsize'){n=t.style.fontSize}
else{n=t.style.fontFamily.replace(/, /g,',').replace(/['"]/g,'').toLowerCase()}};return n}},'value');k({Undo:function(){i.undoManager.undo()},Redo:function(){i.undoManager.redo()}})}});n('tinymce/util/URI',['tinymce/util/Tools'],function(e){var n=e.each,r=e.trim,o='source protocol authority userInfo user password host port relative path directory file query anchor'.split(' '),i={'ftp':21,'http':80,'https':443,'mailto':25};function t(e,i){var a=this,s,l;e=r(e);i=a.settings=i||{};s=i.base_uri;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e)){a.source=e;return};var c=e.indexOf('//')===0;if(e.indexOf('/')===0&&!c){e=(s?s.protocol||'http':'http')+'://mce_host'+e};if(!/^[\w\-]*:?\/\//.test(e)){l=i.base_uri?i.base_uri.path:new t(location.href).directory;if(i.base_uri.protocol===''){e='//mce_host'+a.toAbsPath(l,e)}
else{e=/([^#?]*)([#?]?.*)/.exec(e);e=((s&&s.protocol)||'http')+'://mce_host'+a.toAbsPath(l,e[1])+e[2]}};e=e.replace(/@@/g,'(mce_at)');e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);n(o,function(t,n){var i=e[n];if(i){i=i.replace(/\(mce_at\)/g,'@@')};a[t]=i});if(s){if(!a.protocol){a.protocol=s.protocol};if(!a.userInfo){a.userInfo=s.userInfo};if(!a.port&&a.host==='mce_host'){a.port=s.port};if(!a.host||a.host==='mce_host'){a.host=s.host};a.source=''};if(c){a.protocol=''}};t.prototype={setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e);t.path=e[0];t.directory=e[1];t.file=e[2];t.source='';t.getURI()},toRelative:function(e){var n=this,r;if(e==='./'){return e};e=new t(e,{base_uri:n});if((e.host!='mce_host'&&n.host!=e.host&&e.host)||n.port!=e.port||(n.protocol!=e.protocol&&e.protocol!=='')){return e.getURI()};var i=n.getURI(),o=e.getURI();if(i==o||(i.charAt(i.length-1)=='/'&&i.substr(0,i.length-1)==o)){return i};r=n.toRelPath(n.path,e.path);if(e.query){r+='?'+e.query};if(e.anchor){r+='#'+e.anchor};return r},toAbsolute:function(e,n){e=new t(e,{base_uri:this});return e.getURI(n&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port){return!0};var t=i[this.protocol];if(t&&((this.port||t)==(e.port||t))){return!0}};return!1},toRelPath:function(e,t){var i,o=0,a='',n,r;e=e.substring(0,e.lastIndexOf('/'));e=e.split('/');i=t.split('/');if(e.length>=i.length){for(n=0,r=e.length;n<r;n++){if(n>=i.length||e[n]!=i[n]){o=n+1;break}}};if(e.length<i.length){for(n=0,r=i.length;n<r;n++){if(n>=e.length||e[n]!=i[n]){o=n+1;break}}};if(o===1){return t};for(n=0,r=e.length-(o-1);n<r;n++){a+='../'};for(n=o-1,r=i.length;n<r;n++){if(n!=o-1){a+='/'+i[n]}
else{a+=i[n]}};return a},toAbsPath:function(e,t){var i,a=0,o=[],s,r;s=/\/$/.test(t)?'/':'';e=e.split('/');t=t.split('/');n(e,function(e){if(e){o.push(e)}});e=o;for(i=t.length-1,o=[];i>=0;i--){if(t[i].length===0||t[i]==='.'){continue};if(t[i]==='..'){a++;continue};if(a>0){a--;continue};o.push(t[i])};i=e.length-a;if(i<=0){r=o.reverse().join('/')}
else{r=e.slice(0,i).join('/')+'/'+o.reverse().join('/')};if(r.indexOf('/')!==0){r='/'+r};if(s&&r.lastIndexOf('/')!==r.length-1){r+=s};return r},getURI:function(e){var n,t=this;if(!t.source||e){n='';if(!e){if(t.protocol){n+=t.protocol+'://'}
else{n+='//'};if(t.userInfo){n+=t.userInfo+'@'};if(t.host){n+=t.host};if(t.port){n+=':'+t.port}};if(t.path){n+=t.path};if(t.query){n+='?'+t.query};if(t.anchor){n+='#'+t.anchor};t.source=n};return t.source}};t.parseDataUri=function(e){var n,t;e=decodeURIComponent(e).split(',');t=/data:([^;]+)/.exec(e[0]);if(t){n=t[1]};return{type:n,data:e[1]}};return t});n('tinymce/util/Class',['tinymce/util/Tools'],function(e){var t=e.each,o=e.extend,r,n;function i(){};i.extend=r=function(e){var u=this,s=u.prototype,l,a,c;function i(){var i,t,r,e=this;if(!n){if(e.init){e.init.apply(e,arguments)};t=e.Mixins;if(t){i=t.length;while(i--){r=t[i];if(r.init){r.init.apply(e,arguments)}}}}};function d(){return this};function f(e,t){return function(){var n=this,r=n._super,i;n._super=s[e];i=t.apply(n,arguments);n._super=r;return i}};n=!0;l=new u();n=!1;if(e.Mixins){t(e.Mixins,function(t){t=t;for(var n in t){if(n!=='init'){e[n]=t[n]}}});if(s.Mixins){e.Mixins=s.Mixins.concat(e.Mixins)}};if(e.Methods){t(e.Methods.split(','),function(t){e[t]=d})};if(e.Properties){t(e.Properties.split(','),function(t){var n='_'+t;e[t]=function(e){var t=this,i;if(e!==i){t[n]=e;return t};return t[n]}})};if(e.Statics){t(e.Statics,function(e,t){i[t]=e})};if(e.Defaults&&s.Defaults){e.Defaults=o({},s.Defaults,e.Defaults)};for(a in e){c=e[a];if(typeof c=='function'&&s[a]){l[a]=f(a,c)}
else{l[a]=c}};i.prototype=l;i.constructor=i;i.extend=r;return i};return i});n('tinymce/util/EventDispatcher',['tinymce/util/Tools'],function(e){var n=e.makeMap('focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchend',' ');function t(t){var i=this,a,n={},r;function o(){return!1};function s(){return!0};t=t||{};a=t.scope||i;r=t.toggleEvent||o;function d(e,i){var c,u,f,r;e=e.toLowerCase();i=i||{};i.type=e;if(!i.target){i.target=a};if(!i.preventDefault){i.preventDefault=function(){i.isDefaultPrevented=s};i.stopPropagation=function(){i.isPropagationStopped=s};i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=s};i.isDefaultPrevented=o;i.isPropagationStopped=o;i.isImmediatePropagationStopped=o};if(t.beforeFire){t.beforeFire(i)};c=n[e];if(c){for(u=0,f=c.length;u<f;u++){r=c[u];if(r.once){l(e,r.func)};if(i.isImmediatePropagationStopped()){i.stopPropagation();return i};if(r.func.call(a,i)===!1){i.preventDefault();return i}}};return i};function c(t,a,s,l){var c,f,u;if(a===!1){a=o};if(a){a={func:a};if(l){e.extend(a,l)};f=t.toLowerCase().split(' ');u=f.length;while(u--){t=f[u];c=n[t];if(!c){c=n[t]=[];r(t,!0)};if(s){c.unshift(a)}
else{c.push(a)}}};return i};function l(e,t){var c,o,l,s,a;if(e){s=e.toLowerCase().split(' ');c=s.length;while(c--){e=s[c];o=n[e];if(!e){for(l in n){r(l,!1);delete n[l]};return i};if(o){if(!t){o.length=0}
else{a=o.length;while(a--){if(o[a].func===t){o=o.slice(0,a).concat(o.slice(a+1));n[e]=o}}};if(!o.length){r(e,!1);delete n[e]}}}}
else{for(e in n){r(e,!1)};n={}};return i};function f(e,t,n){return c(e,t,n,{once:!0})};function u(e){e=e.toLowerCase();return!(!n[e]||n[e].length===0)};i.fire=d;i.on=c;i.off=l;i.once=f;i.has=u};t.isNative=function(e){return!!n[e.toLowerCase()]};return t});n('tinymce/data/Binding',[],function(){function e(e){this.create=e.create};e.create=function(t,n){return new e({create:function(e,i){var r;function o(t){e.set(i,t.value)};function a(e){t.set(n,e.value)};e.on('change:'+i,a);t.on('change:'+n,o);r=e._bindings;if(!r){r=e._bindings=[];e.on('destroy',function(){var e=r.length;while(e--){r[e]()}})};r.push(function(){t.off('change:'+n,o)});return t.get(n)}})};return e});n('tinymce/util/Observable',['tinymce/util/EventDispatcher'],function(e){function t(t){if(!t._eventDispatcher){t._eventDispatcher=new e({scope:t,toggleEvent:function(n,i){if(e.isNative(n)&&t.toggleNativeEvent){t.toggleNativeEvent(n,i)}}})};return t._eventDispatcher};return{fire:function(e,n,i){var r=this;if(r.removed&&e!=='remove'){return n};n=t(r).fire(e,n,i);if(i!==!1&&r.parent){var o=r.parent();while(o&&!n.isPropagationStopped()){o.fire(e,n,!1);o=o.parent()}};return n},on:function(e,n,i){return t(this).on(e,n,i)},off:function(e,n){return t(this).off(e,n)},once:function(e,n){return t(this).once(e,n)},hasEventListeners:function(e){return t(this).has(e)}}});n('tinymce/data/ObservableObject',['tinymce/data/Binding','tinymce/util/Observable','tinymce/util/Class','tinymce/util/Tools'],function(e,t,n,i){function o(e){return e.nodeType>0};function r(e,t){var n,a;if(e===t){return!0};if(e===null||t===null){return e===t};if(typeof e!=='object'||typeof t!=='object'){return e===t};if(i.isArray(t)){if(e.length!==t.length){return!1};n=e.length;while(n--){if(!r(e[n],t[n])){return!1}}};if(o(e)||o(t)){return e===t};a={};for(n in t){if(!r(e[n],t[n])){return!1};a[n]=!0};for(n in e){if(!a[n]&&!r(e[n],t[n])){return!1}};return!0};return n.extend({Mixins:[t],init:function(t){var n,i;t=t||{};for(n in t){i=t[n];if(i instanceof e){t[n]=i.create(this,n)}};this.data=t},set:function(t,n){var o,i,a=this.data[t];if(n instanceof e){n=n.create(this,t)};if(typeof t==='object'){for(o in t){this.set(o,t[o])};return this};if(!r(a,n)){this.data[t]=n;i={target:this,name:t,value:n,oldValue:a};this.fire('change:'+t,i);this.fire('change',i)};return this},get:function(e){return this.data[e]},has:function(e){return e in this.data},bind:function(t){return e.create(this,t)},destroy:function(){this.fire('destroy')}})});n('tinymce/ui/Selector',['tinymce/util/Class'],function(e){'use strict';function r(e){var i=[],t=e.length,n;while(t--){n=e[t];if(!n.__checked){i.push(n);n.__checked=1}};t=i.length;while(t--){delete i[t].__checked};return i};var a=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,n=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,o=/^\s*|\s*$/g,t,i=e.extend({init:function(e){var c=this.match;function u(e){if(e){e=e.toLowerCase();return function(t){return e==='*'||t.type===e}}};function f(e){if(e){return function(t){return t._name===e}}};function l(e){if(e){e=e.split('.');return function(t){var n=e.length;while(n--){if(!t.classes.contains(e[n])){return!1}};return!0}}};function s(e,t,n){if(e){return function(i){var r=i[e]?i[e]():'';return!t?!!n:t==='='?r===n:t==='*='?r.indexOf(n)>=0:t==='~='?(' '+r+' ').indexOf(' '+n+' ')>=0:t==='!='?r!=n:t==='^='?r.indexOf(n)===0:t==='$='?r.substr(r.length-n.length)===n:!1}}};function i(e){var n;if(e){e=/(?:not\((.+)\))|(.+)/i.exec(e);if(!e[1]){e=e[2];return function(t,n,i){return e==='first'?n===0:e==='last'?n===i-1:e==='even'?n%2===0:e==='odd'?n%2===1:t[e]?t[e]():!1}};n=t(e[1],[]);return function(e){return!c(e,n)}}};function r(e,t,n){var r;function c(e){if(e){t.push(e)}};r=a.exec(e.replace(o,''));c(u(r[1]));c(f(r[2]));c(l(r[3]));c(s(r[4],r[5],r[6]));c(i(r[7]));t.pseudo=!!r[7];t.direct=n;return t};function t(e,i){var s=[],l,o,a;do{n.exec('');o=n.exec(e);if(o){e=o[3];s.push(o[1]);if(o[2]){l=o[3];break}}}
while(o);if(l){t(l,i)};e=[];for(a=0;a<s.length;a++){if(s[a]!='>'){e.push(r(s[a],[],s[a-1]==='>'))}};i.push(e);return i};this._selectors=t(e,[])},match:function(e,t){var a,h,r,c,f,i,s,l,o,m,u,d,n;t=t||this._selectors;for(a=0,h=t.length;a<h;a++){f=t[a];c=f.length;n=e;d=0;for(r=c-1;r>=0;r--){l=f[r];while(n){if(l.pseudo){u=n.parent().items();o=m=u.length;while(o--){if(u[o]===n){break}}};for(i=0,s=l.length;i<s;i++){if(!l[i](n,o,m)){i=s+1;break}};if(i===s){d++;break}
else{if(r===c-1){break}};n=n.parent()}};if(d===c){return!0}};return!1},find:function(e){var o=[],n,s,l=this._selectors;function a(e,t,n){var s,u,r,l,i,c=t[n];for(s=0,u=e.length;s<u;s++){i=e[s];for(r=0,l=c.length;r<l;r++){if(!c[r](i,s,u)){r=l+1;break}};if(r===l){if(n==t.length-1){o.push(i)}
else{if(i.items){a(i.items(),t,n+1)}}}
else if(c.direct){return};if(i.items){a(i.items(),t,n)}}};if(e.items){for(n=0,s=l.length;n<s;n++){a(e.items(),l[n],0)};if(s>1){o=r(o)}};if(!t){t=i.Collection};return new t(o)}});return i});n('tinymce/ui/Collection',['tinymce/util/Tools','tinymce/ui/Selector','tinymce/util/Class'],function(e,t,n){'use strict';var i,r,o=Array.prototype.push,a=Array.prototype.slice;r={length:0,init:function(e){if(e){this.add(e)}},add:function(t){var n=this;if(!e.isArray(t)){if(t instanceof i){n.add(t.toArray())}
else{o.call(n,t)}}
else{o.apply(n,t)};return n},set:function(e){var t=this,i=t.length,n;t.length=0;t.add(e);for(n=t.length;n<i;n++){delete t[n]};return t},filter:function(e){var s=this,n,a,l=[],o,r;if(typeof e==='string'){e=new t(e);r=function(t){return e.match(t)}}
else{r=e};for(n=0,a=s.length;n<a;n++){o=s[n];if(r(o)){l.push(o)}};return new i(l)},slice:function(){return new i(a.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},each:function(t){e.each(this,t);return this},toArray:function(){return e.toArray(this)},indexOf:function(e){var n=this,t=n.length;while(t--){if(n[t]===e){break}};return t},reverse:function(){return new i(e.toArray(this).reverse())},hasClass:function(e){return this[0]?this[0].classes.contains(e):!1},prop:function(e,t){var i=this,r,n;if(t!==r){i.each(function(n){if(n[e]){n[e](t)}});return i};n=i[0];if(n&&n[e]){return n[e]()}},exec:function(t){var n=this,i=e.toArray(arguments).slice(1);n.each(function(e){if(e[t]){e[t].apply(e,i)}});return n},remove:function(){var e=this.length;while(e--){this[e].remove()};return this},addClass:function(e){return this.each(function(t){t.classes.add(e)})},removeClass:function(e){return this.each(function(t){t.classes.remove(e)})}};e.each('fire on off show hide append prepend before after reflow'.split(' '),function(t){r[t]=function(){var n=e.toArray(arguments);this.each(function(e){if(t in e){e[t].apply(e,n)}});return this}});e.each('text name disabled active selected checked visible parent value data'.split(' '),function(e){r[e]=function(t){return this.prop(e,t)}});i=n.extend(r);t.Collection=i;return i});n('tinymce/ui/DomUtils',['tinymce/util/Tools','tinymce/dom/DOMUtils'],function(e,t){'use strict';var n=0;return{id:function(){return'mceu_'+(n++)},createFragment:function(e){return t.DOM.createFragment(e)},getWindowSize:function(){return t.DOM.getViewPort()},getSize:function(e){var i,n;if(e.getBoundingClientRect){var t=e.getBoundingClientRect();i=Math.max(t.width||(t.right-t.left),e.offsetWidth);n=Math.max(t.height||(t.bottom-t.bottom),e.offsetHeight)}
else{i=e.offsetWidth;n=e.offsetHeight};return{width:i,height:n}},getPos:function(e,n){return t.DOM.getPos(e,n)},getViewPort:function(e){return t.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,n){return t.DOM.addClass(e,n)},removeClass:function(e,n){return t.DOM.removeClass(e,n)},hasClass:function(e,n){return t.DOM.hasClass(e,n)},toggleClass:function(e,n,i){return t.DOM.toggleClass(e,n,i)},css:function(e,n,i){return t.DOM.setStyle(e,n,i)},getRuntimeStyle:function(e,n){return t.DOM.getStyle(e,n,!0)},on:function(e,n,i,r){return t.DOM.bind(e,n,i,r)},off:function(e,n,i){return t.DOM.unbind(e,n,i)},fire:function(e,n,i){return t.DOM.fire(e,n,i)},innerHtml:function(e,n){t.DOM.setHTML(e,n)}}});n('tinymce/ui/BoxUtils',[],function(){'use strict';return{parseBox:function(e){var n,t=10;if(!e){return};if(typeof e==='number'){e=e||0;return{top:e,left:e,bottom:e,right:e}};e=e.split(' ');n=e.length;if(n===1){e[1]=e[2]=e[3]=e[0]}
else if(n===2){e[2]=e[0];e[3]=e[1]}
else if(n===3){e[3]=e[1]};return{top:parseInt(e[0],t)||0,right:parseInt(e[1],t)||0,bottom:parseInt(e[2],t)||0,left:parseInt(e[3],t)||0}},measureBox:function(e,t){function i(t){var n=document.defaultView;if(n){t=t.replace(/[A-Z]/g,function(e){return'-'+e});return n.getComputedStyle(e,null).getPropertyValue(t)};return e.currentStyle[t]};function n(e){var t=parseFloat(i(e),10);return isNaN(t)?0:t};return{top:n(t+'TopWidth'),right:n(t+'RightWidth'),bottom:n(t+'BottomWidth'),left:n(t+'LeftWidth')}}}});n('tinymce/ui/ClassList',['tinymce/util/Tools'],function(e){'use strict';function n(){};function t(e){this.cls=[];this.cls._map={};this.onchange=e||n;this.prefix=''};e.extend(t.prototype,{add:function(e){if(e&&!this.contains(e)){this.cls._map[e]=!0;this.cls.push(e);this._change()};return this},remove:function(e){if(this.contains(e)){for(var t=0;t<this.cls.length;t++){if(this.cls[t]===e){break}};this.cls.splice(t,1);delete this.cls._map[e];this._change()};return this},toggle:function(e,t){var n=this.contains(e);if(n!==t){if(n){this.remove(e)}
else{this.add(e)};this._change()};return this},contains:function(e){return!!this.cls._map[e]},_change:function(){delete this.clsValue;this.onchange.call(this)}});t.prototype.toString=function(){var e;if(this.clsValue){return this.clsValue};e='';for(var t=0;t<this.cls.length;t++){if(t>0){e+=' '};e+=this.prefix+this.cls[t]};return e};return t});n('tinymce/ui/ReflowQueue',[],function(){var e={},t;function n(e,t){var i,n=window.requestAnimationFrame,r=['ms','moz','webkit'];function o(e){window.setTimeout(e,0)};for(i=0;i<r.length&&!n;i++){n=window[r[i]+'RequestAnimationFrame']};if(!n){n=o};n(e,t)};return{add:function(i){var r=i.parent();if(r){if(!r._layout||r._layout.isNative()){return};if(!e[r._id]){e[r._id]=r};if(!t){t=!0;n(function(){var i,n;t=!1;for(i in e){n=e[i];if(n.state.get('rendered')){n.reflow()}};e={}},document.body)}}},remove:function(t){if(e[t._id]){delete e[t._id]}}}});n('tinymce/ui/Control',['tinymce/util/Class','tinymce/util/Tools','tinymce/util/EventDispatcher','tinymce/data/ObservableObject','tinymce/ui/Collection','tinymce/ui/DomUtils','tinymce/dom/DomQuery','tinymce/ui/BoxUtils','tinymce/ui/ClassList','tinymce/ui/ReflowQueue'],function(e,t,n,i,r,a,o,s,c,f){'use strict';var v='onmousewheel' in document,p=!1,m='mce-',l,g=0,d={Statics:{classPrefix:m},isRtl:function(){return l.rtl},classPrefix:m,init:function(e){var n=this,a,r;function l(e){var t;e=e.split(' ');for(t=0;t<e.length;t++){n.classes.add(e[t])}};n.settings=e=t.extend({},n.Defaults,e);n._id=e.id||('mceu_'+(g++));n._aria={role:e.role};n._elmCache={};n.$=o;n.state=new i({visible:!0,active:!1,disabled:!1,value:''});n.data=new i(e.data);n.classes=new c(function(){if(n.state.get('rendered')){n.getEl().className=this.toString()}});n.classes.prefix=n.classPrefix;a=e.classes;if(a){if(n.Defaults){r=n.Defaults.classes;if(r&&a!=r){l(r)}};l(a)};t.each('title text name visible disabled active value'.split(' '),function(t){if(t in e){n[t](e[t])}});n.on('click',function(){if(n.disabled()){return!1}});n.settings=e;n.borderBox=s.parseBox(e.border);n.paddingBox=s.parseBox(e.padding);n.marginBox=s.parseBox(e.margin);if(e.hidden){n.hide()}},Properties:'parent,name',getContainerElm:function(){return document.body},getParentCtrl:function(e){var t,n=this.getRoot().controlIdLookup;while(e&&n){t=n[e.id];if(t){break};e=e.parentNode};return t},initLayoutRect:function(){var e=this,t=e.settings,o,y,l=e.getEl(),n,i,h,m,r,u,f,d;o=e.borderBox=e.borderBox||s.measureBox(l,'border');e.paddingBox=e.paddingBox||s.measureBox(l,'padding');e.marginBox=e.marginBox||s.measureBox(l,'margin');d=a.getSize(l);u=t.minWidth;f=t.minHeight;h=u||d.width;m=f||d.height;n=t.width;i=t.height;r=t.autoResize;r=typeof r!='undefined'?r:!n&&!i;n=n||h;i=i||m;var p=o.left+o.right,c=o.top+o.bottom,v=t.maxWidth||0xFFFF,g=t.maxHeight||0xFFFF;e._layoutRect=y={x:t.x||0,y:t.y||0,w:n,h:i,deltaW:p,deltaH:c,contentW:n-p,contentH:i-c,innerW:n-p,innerH:i-c,startMinWidth:u||0,startMinHeight:f||0,minW:Math.min(h,v),minH:Math.min(m,g),maxW:v,maxH:g,autoResize:r,scrollW:0};e._lastLayoutRect={};return y},layoutRect:function(e){var s=this,t=s._layoutRect,r,n,a,o,i,c;if(!t){t=s.initLayoutRect()};if(e){a=t.deltaW;o=t.deltaH;if(e.x!==i){t.x=e.x};if(e.y!==i){t.y=e.y};if(e.minW!==i){t.minW=e.minW};if(e.minH!==i){t.minH=e.minH};n=e.w;if(n!==i){n=n<t.minW?t.minW:n;n=n>t.maxW?t.maxW:n;t.w=n;t.innerW=n-a};n=e.h;if(n!==i){n=n<t.minH?t.minH:n;n=n>t.maxH?t.maxH:n;t.h=n;t.innerH=n-o};n=e.innerW;if(n!==i){n=n<t.minW-a?t.minW-a:n;n=n>t.maxW-a?t.maxW-a:n;t.innerW=n;t.w=n+a};n=e.innerH;if(n!==i){n=n<t.minH-o?t.minH-o:n;n=n>t.maxH-o?t.maxH-o:n;t.innerH=n;t.h=n+o};if(e.contentW!==i){t.contentW=e.contentW};if(e.contentH!==i){t.contentH=e.contentH};r=s._lastLayoutRect;if(r.x!==t.x||r.y!==t.y||r.w!==t.w||r.h!==t.h){c=l.repaintControls;if(c){if(c.map&&!c.map[s._id]){c.push(s);c.map[s._id]=!0}};r.x=t.x;r.y=t.y;r.w=t.w;r.h=t.h};return s};return t},repaint:function(){var i=this,s,l,o,e,a,c,u,t,r,n;r=!document.createRange?Math.round:function(e){return e};s=i.getEl().style;e=i._layoutRect;t=i._lastRepaintRect||{};a=i.borderBox;c=a.left+a.right;u=a.top+a.bottom;if(e.x!==t.x){s.left=r(e.x)+'px';t.x=e.x};if(e.y!==t.y){s.top=r(e.y)+'px';t.y=e.y};if(e.w!==t.w){n=r(e.w-c);s.width=(n>=0?n:0)+'px';t.w=e.w};if(e.h!==t.h){n=r(e.h-u);s.height=(n>=0?n:0)+'px';t.h=e.h};if(i._hasBody&&e.innerW!==t.innerW){n=r(e.innerW);o=i.getEl('body');if(o){l=o.style;l.width=(n>=0?n:0)+'px'};t.innerW=e.innerW};if(i._hasBody&&e.innerH!==t.innerH){n=r(e.innerH);o=o||i.getEl('body');if(o){l=l||o.style;l.height=(n>=0?n:0)+'px'};t.innerH=e.innerH};i._lastRepaintRect=t;i.fire('repaint',{},!1)},on:function(e,t){var n=this;function i(e){var t,i;if(typeof e!='string'){return e};return function(r){if(!t){n.parentsAndSelf().each(function(n){var r=n.settings.callbacks;if(r&&(t=r[e])){i=n;return!1}})};if(!t){r.action=e;this.fire('execute',r);return};return t.call(i,r)}};u(n).on(e,i(t));return n},off:function(e,t){u(this).off(e,t);return this},fire:function(e,t,n){var i=this;t=t||{};if(!t.control){t.control=i};t=u(i).fire(e,t);if(n!==!1&&i.parent){var r=i.parent();while(r&&!t.isPropagationStopped()){r.fire(e,t,!1);r=r.parent()}};return t},hasEventListeners:function(e){return u(this).has(e)},parents:function(e){var i=this,t,n=new r();for(t=i.parent();t;t=t.parent()){n.add(t)};if(e){n=n.filter(e)};return n},parentsAndSelf:function(e){return new r(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},innerHtml:function(e){this.$el.html(e);return this},getEl:function(e){var t=e?this._id+'-'+e:this._id;if(!this._elmCache[t]){this._elmCache[t]=o('#'+t)[0]};return this._elmCache[t]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){};return this},blur:function(){this.getEl().blur();return this},aria:function(e,t){var n=this,i=n.getEl(n.ariaTarget);if(typeof t==='undefined'){return n._aria[e]};n._aria[e]=t;if(n.state.get('rendered')){i.setAttribute(e=='role'?e:'aria-'+e,t)};return n},encode:function(e,t){if(t!==!1){e=this.translate(e)};return(e||'').replace(/[&<>"]/g,function(e){return'&#'+e.charCodeAt(0)+';'})},translate:function(e){return l.translate?l.translate(e):e},before:function(e){var n=this,t=n.parent();if(t){t.insert(e,t.items().indexOf(n),!0)};return n},after:function(e){var n=this,t=n.parent();if(t){t.insert(e,t.items().indexOf(n))};return n},remove:function(){var e=this,n=e.getEl(),t=e.parent(),r,i;if(e.items){var a=e.items().toArray();i=a.length;while(i--){a[i].remove()}};if(t&&t.items){r=[];t.items().each(function(t){if(t!==e){r.push(t)}});t.items().set(r);t._lastRect=null};if(e._eventsRoot&&e._eventsRoot==e){o(n).off()};var s=e.getRoot().controlIdLookup;if(s){delete s[e._id]};if(n&&n.parentNode){n.parentNode.removeChild(n)};e.state.set('rendered',!1);e.state.destroy();e.fire('remove');return e},renderBefore:function(e){o(e).before(this.renderHtml());this.postRender();return this},renderTo:function(e){o(e||this.getContainerElm()).append(this.renderHtml());this.postRender();return this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var e=this,i=e.settings,s,n,r,t,a;e.$el=o(e.getEl());e.state.set('rendered',!0);for(t in i){if(t.indexOf('on')===0){e.on(t.substr(2),i[t])}};if(e._eventsRoot){for(r=e.parent();!a&&r;r=r.parent()){a=r._eventsRoot};if(a){for(t in a._nativeEvents){e._nativeEvents[t]=!0}}};h(e);if(i.style){s=e.getEl();if(s){s.setAttribute('style',i.style);s.style.cssText=i.style}};if(e.settings.border){n=e.borderBox;e.$el.css({'border-top-width':n.top,'border-right-width':n.right,'border-bottom-width':n.bottom,'border-left-width':n.left})};var l=e.getRoot();if(!l.controlIdLookup){l.controlIdLookup={}};l.controlIdLookup[e._id]=e;for(var c in e._aria){e.aria(c,e._aria[c])};if(e.state.get('visible')===!1){e.getEl().style.display='none'};e.bindStates();e.state.on('change:visible',function(t){var i=t.value,n;if(e.state.get('rendered')){e.getEl().style.display=i===!1?'none':'';e.getEl().getBoundingClientRect()};n=e.parent();if(n){n._lastRect=null};e.fire(i?'show':'hide');f.add(e)});e.fire('postrender',{},!1)},bindStates:function(){},scrollIntoView:function(e){function u(e,t){var i,r,n=e;i=r=0;while(n&&n!=t&&n.nodeType){i+=n.offsetLeft||0;r+=n.offsetTop||0;n=n.offsetParent};return{x:i,y:r}};var r=this.getEl(),t=r.parentNode,i,n,s,l,a,o,c=u(r,t);i=c.x;n=c.y;s=r.offsetWidth;l=r.offsetHeight;a=t.clientWidth;o=t.clientHeight;if(e=='end'){i-=a-s;n-=o-l}
else if(e=='center'){i-=(a/2)-(s/2);n-=(o/2)-(l/2)};t.scrollLeft=i;t.scrollTop=n;return this},getRoot:function(){var e=this,t,n=[];while(e){if(e.rootControl){t=e.rootControl;break};n.push(e);t=e;e=e.parent()};if(!t){t=this};var i=n.length;while(i--){n[i].rootControl=t};return t},reflow:function(){f.remove(this);var e=this.parent();if(e._layout&&!e._layout.isNative()){e.reflow()};return this}};t.each('text title visible disabled active value'.split(' '),function(e){d[e]=function(t){if(arguments.length===0){return this.state.get(e)};if(typeof t!='undefined'){this.state.set(e,t)};return this}});l=e.extend(d);function u(e){if(!e._eventDispatcher){e._eventDispatcher=new n({scope:e,toggleEvent:function(t,i){if(i&&n.isNative(t)){if(!e._nativeEvents){e._nativeEvents={}};e._nativeEvents[t]=!0;if(e.state.get('rendered')){h(e)}}}})};return e._eventDispatcher};function h(e){var n,l,r,t,a,i;function f(t){var n=e.getParentCtrl(t.target);if(n){n.fire(t.type,t)}};function d(){var e=t._lastHoverCtrl;if(e){e.fire('mouseleave',{target:e.getEl()});e.parents().each(function(e){e.fire('mouseleave',{target:e.getEl()})});t._lastHoverCtrl=null}};function u(n){var a=e.getParentCtrl(n.target),o=t._lastHoverCtrl,r=0,i,l,s;if(a!==o){t._lastHoverCtrl=a;l=a.parents().toArray().reverse();l.push(a);if(o){s=o.parents().toArray().reverse();s.push(o);for(r=0;r<s.length;r++){if(l[r]!==s[r]){break}};for(i=s.length-1;i>=r;i--){o=s[i];o.fire('mouseleave',{target:o.getEl()})}};for(i=r;i<l.length;i++){a=l[i];a.fire('mouseenter',{target:a.getEl()})}}};function c(t){t.preventDefault();if(t.type=='mousewheel'){t.deltaY=-1/40*t.wheelDelta;if(t.wheelDeltaX){t.deltaX=-1/40*t.wheelDeltaX}}
else{t.deltaX=0;t.deltaY=t.detail};t=e.fire('wheel',t)};a=e._nativeEvents;if(a){r=e.parents().toArray();r.unshift(e);for(n=0,l=r.length;!t&&n<l;n++){t=r[n]._eventsRoot};if(!t){t=r[r.length-1]||e};e._eventsRoot=t;for(l=n,n=0;n<l;n++){r[n]._eventsRoot=t};var s=t._delegates;if(!s){s=t._delegates={}};for(i in a){if(!a){return!1};if(i==='wheel'&&!p){if(v){o(e.getEl()).on('mousewheel',c)}
else{o(e.getEl()).on('DOMMouseScroll',c)};continue};if(i==='mouseenter'||i==='mouseleave'){if(!t._hasMouseEnter){o(t.getEl()).on('mouseleave',d).on('mouseover',u);t._hasMouseEnter=1}}
else if(!s[i]){o(t.getEl()).on(i,f);s[i]=!0};a[i]=!1}}};return l});n('tinymce/ui/Factory',[],function(){'use strict';var e={},t;return{add:function(t,n){e[t.toLowerCase()]=n},has:function(t){return!!e[t.toLowerCase()]},create:function(n,i){var r,a,o;if(!t){o=tinymce.ui;for(a in o){e[a.toLowerCase()]=o[a]};t=!0};if(typeof n=='string'){i=i||{};i.type=n}
else{i=n;n=i.type};n=n.toLowerCase();r=e[n];if(!r){throw new Error('Could not find control by type: '+n)};r=new r(i);r.type=n;return r}}});n('tinymce/ui/KeyboardNavigation',[],function(){'use strict';return function(e){var l=e.root,n,r;function p(e){return e&&e.nodeType===1};try{n=document.activeElement}catch(t){n=document.body};r=l.getParentCtrl(n);function s(e){e=e||n;if(p(e)){return e.getAttribute('role')};return null};function c(e){var i,t=e||n;while((t=t.parentNode)){if((i=s(t))){return i}}};function h(e){var t=n;if(p(t)){return t.getAttribute('aria-'+e)}};function m(e){var t=e.tagName.toUpperCase();return t=='INPUT'||t=='TEXTAREA'};function b(e){if(m(e)&&!e.hidden){return!0};if(/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell)$/.test(s(e))){return!0};return!1};function o(e){var n=[];function t(e){if(e.nodeType!=1||e.style.display=='none'){return};if(b(e)){n.push(e)};for(var i=0;i<e.childNodes.length;i++){t(e.childNodes[i])}};t(e||l.getEl());return n};function d(e){var i,t;e=e||r;t=e.parents().toArray();t.unshift(e);for(var n=0;n<t.length;n++){i=t[n];if(i.settings.ariaRoot){break}};return i};function x(e){var t=d(e),n=o(t.getEl());if(t.settings.ariaRemember&&'lastAriaIndex' in t){u(t.lastAriaIndex,n)}
else{u(0,n)}};function u(e,t){if(e<0){e=t.length-1}
else if(e>=t.length){e=0};if(t[e]){t[e].focus()};return e};function i(e,t){var r=-1,a=d();t=t||o(a.getEl());for(var i=0;i<t.length;i++){if(t[i]===n){r=i}};r+=e;a.lastAriaIndex=u(r,t)};function w(){var e=c();if(e=='tablist'){i(-1,o(n.parentNode))}
else if(r.parent().submenu){f()}
else{i(-1)}};function C(){var t=s(),e=c();if(e=='tablist'){i(1,o(n.parentNode))}
else if(t=='menuitem'&&e=='menu'&&h('haspopup')){a()}
else{i(1)}};function y(){i(-1)};function v(){var e=s(),t=c();if(e=='menuitem'&&t=='menubar'){a()}
else if(e=='button'&&h('haspopup')){a({key:'down'})}
else{i(1)}};function g(e){var n=c();if(n=='tablist'){var t=o(r.getEl('body'))[0];if(t){t.focus()}}
else{i(e.shiftKey?-1:1)}};function f(){r.fire('cancel')};function a(e){e=e||{};r.fire('click',{target:n,aria:e})};l.on('keydown',function(e){function t(e,t){if(m(n)){return};if(t(e)!==!1){e.preventDefault()}};if(e.isDefaultPrevented()){return};switch(e.keyCode){case 37:t(e,w);break;case 39:t(e,C);break;case 38:t(e,y);break;case 40:t(e,v);break;case 27:f();break;case 14:case 13:case 32:t(e,a);break;case 9:if(g(e)!==!1){e.preventDefault()};break}});l.on('focusin',function(e){n=e.target;r=e.control});return{focusFirst:x}}});n('tinymce/ui/Container',['tinymce/ui/Control','tinymce/ui/Collection','tinymce/ui/Selector','tinymce/ui/Factory','tinymce/ui/KeyboardNavigation','tinymce/util/Tools','tinymce/dom/DomQuery','tinymce/ui/ClassList','tinymce/ui/ReflowQueue'],function(e,t,n,i,r,o,a,s,l){'use strict';var c={};return e.extend({init:function(e){var n=this;n._super(e);e=n.settings;if(e.fixed){n.state.set('fixed',!0)};n._items=new t();if(n.isRtl()){n.classes.add('rtl')};n.bodyClasses=new s(function(){if(n.state.get('rendered')){n.getEl('body').className=this.toString()}});n.bodyClasses.prefix=n.classPrefix;n.classes.add('container');n.bodyClasses.add('container-body');if(e.containerCls){n.classes.add(e.containerCls)};n._layout=i.create((e.layout||'')+'layout');if(n.settings.items){n.add(n.settings.items)}
else{n.add(n.render())};n._hasBody=!0},items:function(){return this._items},find:function(e){e=c[e]=c[e]||new n(e);return e.find(this)},add:function(e){var t=this;t.items().add(t.create(e)).parent(t);return t},focus:function(e){var t=this,n,r,i;if(e){r=t.keyboardNav||t.parents().eq(-1)[0].keyboardNav;if(r){r.focusFirst(t);return}};i=t.find('*');if(t.statusbar){i.add(t.statusbar.items())};i.each(function(e){if(e.settings.autofocus){n=null;return!1};if(e.canFocus){n=n||e}});if(n){n.focus()};return t},replace:function(e,t){var n,r=this.items(),i=r.length;while(i--){if(r[i]===e){r[i]=t;break}};if(i>=0){n=t.getEl();if(n){n.parentNode.removeChild(n)};n=e.getEl();if(n){n.parentNode.removeChild(n)}};t.parent(this)},create:function(t){var a=this,n,r=[];if(!o.isArray(t)){t=[t]};o.each(t,function(t){if(t){if(!(t instanceof e)){if(typeof t=='string'){t={type:t}};n=o.extend({},a.settings.defaults,t);t.type=n.type=n.type||t.type||a.settings.defaultType||(n.defaults?n.defaults.type:null);t=i.create(n)};r.push(t)}});return r},renderNew:function(){var e=this;e.items().each(function(t,n){var i;t.parent(e);if(!t.state.get('rendered')){i=e.getEl('body');if(i.hasChildNodes()&&n<=i.childNodes.length-1){a(i.childNodes[n]).before(t.renderHtml())}
else{a(i).append(t.renderHtml())};t.postRender();l.add(t)}});e._layout.applyClasses(e.items().filter(':visible'));e._lastRect=null;return e},append:function(e){return this.add(e).renderNew()},prepend:function(e){var t=this;t.items().set(t.create(e).concat(t.items().toArray()));return t.renderNew()},insert:function(e,t,n){var r=this,i,a,o;e=r.create(e);i=r.items();if(!n&&t<i.length-1){t+=1};if(t>=0&&t<i.length){a=i.slice(0,t).toArray();o=i.slice(t).toArray();i.set(a.concat(e,o))};return r.renderNew()},fromJSON:function(e){var t=this;for(var n in e){t.find('#'+n).value(e[n])};return t},toJSON:function(){var t=this,e={};t.find('*').each(function(t){var i=t.name(),n=t.value();if(i&&typeof n!='undefined'){e[i]=n}});return e},renderHtml:function(){var e=this,t=e._layout,n=this.settings.role;e.preRender();t.preRender(e);return('<div id="'+e._id+'" class="'+e.classes+'"'+(n?' role="'+this.settings.role+'"':'')+'><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||'')+t.renderHtml(e)+'</div></div>')},postRender:function(){var e=this,t;e.items().exec('postRender');e._super();e._layout.postRender(e);e.state.set('rendered',!0);if(e.settings.style){e.$el.css(e.settings.style)};if(e.settings.border){t=e.borderBox;e.$el.css({'border-top-width':t.top,'border-right-width':t.right,'border-bottom-width':t.bottom,'border-left-width':t.left})};if(!e.parent()){e.keyboardNav=new r({root:e})};return e},initLayoutRect:function(){var e=this,t=e._super();e._layout.recalc(e);return t},recalc:function(){var t=this,e=t._layoutRect,n=t._lastRect;if(!n||n.w!=e.w||n.h!=e.h){t._layout.recalc(t);e=t.layoutRect();t._lastRect={x:e.x,y:e.y,w:e.w,h:e.h};return!0}},reflow:function(){var t;l.remove(this);if(this.visible()){e.repaintControls=[];e.repaintControls.map={};this.recalc();t=e.repaintControls.length;while(t--){e.repaintControls[t].repaint()};if(this.settings.layout!=='flow'&&this.settings.layout!=='stack'){this.repaint()};e.repaintControls=[]};return this}})});n('tinymce/ui/DragHelper',['tinymce/dom/DomQuery'],function(e){'use strict';function n(e){var n,t,o,s,l,r,c,a,i=Math.max;n=e.documentElement;t=e.body;o=i(n.scrollWidth,t.scrollWidth);s=i(n.clientWidth,t.clientWidth);l=i(n.offsetWidth,t.offsetWidth);r=i(n.scrollHeight,t.scrollHeight);c=i(n.clientHeight,t.clientHeight);a=i(n.offsetHeight,t.offsetHeight);return{width:o<l?s:o,height:r<a?c:r}};function t(e){var n,t;if(e.changedTouches){n='screenX screenY pageX pageY clientX clientY'.split(' ');for(t=0;t<n.length;t++){e[n[t]]=e.changedTouches[0][n[t]]}}};return function(i,r){var d,o=r.document||document,m,f,a,s,u,c;r=r||{};function l(){return o.getElementById(r.handle||i)};f=function(i){var p=n(o),f,h;t(i);i.preventDefault();m=i.button;f=l();u=i.screenX;c=i.screenY;if(window.getComputedStyle){h=window.getComputedStyle(f,null).getPropertyValue('cursor')}
else{h=f.runtimeStyle.cursor};d=e('<div>').css({position:'absolute',top:0,left:0,width:p.width,height:p.height,zIndex:0x7FFFFFFF,opacity:0.0001,cursor:h}).appendTo(o.body);e(o).on('mousemove touchmove',s).on('mouseup touchend',a);r.start(i)};s=function(e){t(e);if(e.button!==m){return a(e)};e.deltaX=e.screenX-u;e.deltaY=e.screenY-c;e.preventDefault();r.drag(e)};a=function(n){t(n);e(o).off('mousemove touchmove',s).off('mouseup touchend',a);d.remove();if(r.stop){r.stop(n)}};this.destroy=function(){e(l()).off()};e(l()).on('mousedown touchstart',f)}});n('tinymce/ui/Scrollable',['tinymce/dom/DomQuery','tinymce/ui/DragHelper'],function(e,t){'use strict';return{init:function(){var e=this;e.on('repaint',e.renderScroll)},renderScroll:function(){var n=this,r=2;function i(){var o,i,t;function a(t,a,s,l,c,u){var m,d,b,h,y,v,f,p,g;d=n.getEl('scroll'+t);if(d){p=a.toLowerCase();g=s.toLowerCase();e(n.getEl('absend')).css(p,n.layoutRect()[l]-1);if(!c){e(d).css('display','none');return};e(d).css('display','block');m=n.getEl('body');b=n.getEl('scroll'+t+'t');h=m['client'+s]-(r*2);h-=o&&i?d['client'+u]:0;y=m['scroll'+s];v=h/y;f={};f[p]=m['offset'+a]+r;f[g]=h;e(d).css(f);f={};f[p]=m['scroll'+a]*v;f[g]=h*v;e(b).css(f)}};t=n.getEl('body');o=t.scrollWidth>t.clientWidth;i=t.scrollHeight>t.clientHeight;a('h','Left','Width','contentW',o,'Height');a('v','Top','Height','contentH',i,'Width')};function o(){function i(i,o,a,s,l){var f,c=n._id+'-scroll'+i,u=n.classPrefix;e(n.getEl()).append('<div id="'+c+'" class="'+u+'scrollbar '+u+'scrollbar-'+i+'"><div id="'+c+'t" class="'+u+'scrollbar-thumb"></div></div>');n.draghelper=new t(c+'t',{start:function(){f=n.getEl('body')['scroll'+o];e('#'+c).addClass(u+'active')},drag:function(e){var d,u,m,c,t=n.layoutRect();u=t.contentW>t.innerW;m=t.contentH>t.innerH;c=n.getEl('body')['client'+a]-(r*2);c-=u&&m?n.getEl('scroll'+i)['client'+l]:0;d=c/n.getEl('body')['scroll'+a];n.getEl('body')['scroll'+o]=f+(e['delta'+s]/d)},stop:function(){e('#'+c).removeClass(u+'active')}})};n.classes.add('scroll');i('v','Top','Height','Y','Width');i('h','Left','Width','X','Height')};if(n.settings.autoScroll){if(!n._hasScroll){n._hasScroll=!0;o();n.on('wheel',function(e){var t=n.getEl('body');t.scrollLeft+=(e.deltaX||0)*10;t.scrollTop+=e.deltaY*10;i()});e(n.getEl('body')).on('scroll',i)};i()}}}});n('tinymce/ui/Panel',['tinymce/ui/Container','tinymce/ui/Scrollable'],function(e,t){'use strict';return e.extend({Defaults:{layout:'fit',containerCls:'panel'},Mixins:[t],renderHtml:function(){var e=this,n=e._layout,t=e.settings.html;e.preRender();n.preRender(e);if(typeof t=='undefined'){t=('<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+n.renderHtml(e)+'</div>')}
else{if(typeof t=='function'){t=t.call(e)};e._hasBody=!1};return('<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1" role="group">'+(e._preBodyHtml||'')+t+'</div>')}})});n('tinymce/ui/Movable',['tinymce/ui/DomUtils'],function(e){'use strict';function t(t,n,i){var m,u,r,o,s,l,d,f,c,a;c=e.getViewPort();u=e.getPos(n);r=u.x;o=u.y;if(t.state.get('fixed')&&e.getRuntimeStyle(document.body,'position')=='static'){r-=c.x;o-=c.y};m=t.getEl();a=e.getSize(m);s=a.width;l=a.height;a=e.getSize(n);d=a.width;f=a.height;i=(i||'').split('');if(i[0]==='b'){o+=f};if(i[1]==='r'){r+=d};if(i[0]==='c'){o+=Math.round(f/2)};if(i[1]==='c'){r+=Math.round(d/2)};if(i[3]==='b'){o-=l};if(i[4]==='r'){r-=s};if(i[3]==='c'){o-=Math.round(l/2)};if(i[4]==='c'){r-=Math.round(s/2)};return{x:r,y:o,w:s,h:l}};return{testMoveRel:function(n,i){var o=e.getViewPort();for(var a=0;a<i.length;a++){var r=t(this,n,i[a]);if(this.state.get('fixed')){if(r.x>0&&r.x+r.w<o.w&&r.y>0&&r.y+r.h<o.h){return i[a]}}
else{if(r.x>o.x&&r.x+r.w<o.w+o.x&&r.y>o.y&&r.y+r.h<o.h+o.y){return i[a]}}};return i[0]},moveRel:function(e,n){if(typeof n!='string'){n=this.testMoveRel(e,n)};var i=t(this,e,n);return this.moveTo(i.x,i.y)},moveBy:function(e,t){var n=this,i=n.layoutRect();n.moveTo(i.x+e,i.y+t);return n},moveTo:function(t,n){var i=this;function o(e,t,n){if(e<0){return 0};if(e+n>t){e=t-n;return e<0?0:e};return e};if(i.settings.constrainToViewport){var r=e.getViewPort(window),a=i.layoutRect();t=o(t,r.w+r.x,a.w);n=o(n,r.h+r.y,a.h)};if(i.state.get('rendered')){i.layoutRect({x:t,y:n}).repaint()}
else{i.settings.x=t;i.settings.y=n};i.fire('move',{x:t,y:n});return i}}});n('tinymce/ui/Resizable',['tinymce/ui/DomUtils'],function(e){'use strict';return{resizeToContent:function(){this._layoutRect.autoResize=!0;this._lastRect=null;this.reflow()},resizeTo:function(t,n){if(t<=1||n<=1){var i=e.getWindowSize();t=t<=1?t*i.w:t;n=n<=1?n*i.h:n};this._layoutRect.autoResize=!1;return this.layoutRect({minW:t,minH:n,w:t,h:n}).reflow()},resizeBy:function(e,t){var i=this,n=i.layoutRect();return i.resizeTo(n.w+e,n.h+t)}}});n('tinymce/ui/FloatPanel',['tinymce/ui/Panel','tinymce/ui/Movable','tinymce/ui/Resizable','tinymce/ui/DomUtils','tinymce/dom/DomQuery'],function(e,t,n,i,r){'use strict';var l,u,d,o=[],a=[],f;function g(e,t){while(e){if(e==t){return!0};e=e.parent()}};function v(e){var i=o.length;while(i--){var t=o[i],n=t.getParentCtrl(e.target);if(t.settings.autohide){if(n){if(g(n,t)||t.parent()===n){continue}};e=t.fire('autohide',{target:e.target});if(!e.isDefaultPrevented()){t.hide()}}}};function y(){if(!l){l=function(e){if(e.button==2){return};v(e)};r(document).on('click touchstart',l)}};function b(){if(!u){u=function(){var e;e=o.length;while(e--){m(o[e])}};r(window).on('scroll',u)}};function p(){if(!d){var e=document.documentElement,n=e.clientWidth,t=e.clientHeight;d=function(){if(!document.all||n!=e.clientWidth||t!=e.clientHeight){n=e.clientWidth;t=e.clientHeight;s.hideAll()}};r(window).on('resize',d)}};function m(e){var t=i.getViewPort().y;function n(t,n){var i;for(var r=0;r<o.length;r++){if(o[r]!=e){i=o[r].parent();while(i&&(i=i.parent())){if(i==e){o[r].fixed(t).moveBy(0,n).repaint()}}}}};if(e.settings.autofix){if(!e.state.get('fixed')){e._autoFixY=e.layoutRect().y;if(e._autoFixY<t){e.fixed(!0).layoutRect({y:0}).repaint();n(!0,t-e._autoFixY)}}
else{if(e._autoFixY>t){e.fixed(!1).layoutRect({y:e._autoFixY}).repaint();n(!1,e._autoFixY-t)}}}};function c(e,t){var n,i=s.zIndex||0xFFFF,l;if(e){a.push(t)}
else{n=a.length;while(n--){if(a[n]===t){a.splice(n,1)}}};if(a.length){for(n=0;n<a.length;n++){if(a[n].modal){i++;l=a[n]};a[n].getEl().style.zIndex=i;a[n].zIndex=i;i++}};var o=document.getElementById(t.classPrefix+'modal-block');if(l){r(o).css('z-index',l.zIndex-1)}
else if(o){o.parentNode.removeChild(o);f=!1};s.currentZIndex=i};var s=e.extend({Mixins:[t,n],init:function(e){var t=this;t._super(e);t._eventsRoot=t;t.classes.add('floatpanel');if(e.autohide){y();p();o.push(t)};if(e.autofix){b();t.on('move',function(){m(this)})};t.on('postrender show',function(e){if(e.control==t){var i,n=t.classPrefix;if(t.modal&&!f){i=r('#'+n+'modal-block');if(!i[0]){i=r('<div id="'+n+'modal-block" class="'+n+'reset '+n+'fade"></div>').appendTo(t.getContainerElm())};setTimeout(function(){i.addClass(n+'in');r(t.getEl()).addClass(n+'in')},0);f=!0};c(!0,t)}});t.on('show',function(){t.parents().each(function(e){if(e.state.get('fixed')){t.fixed(!0);return!1}})});if(e.popover){t._preBodyHtml='<div class="'+t.classPrefix+'arrow"></div>';t.classes.add('popover').add('bottom').add(t.isRtl()?'end':'start')}},fixed:function(e){var t=this;if(t.state.get('fixed')!=e){if(t.state.get('rendered')){var n=i.getViewPort();if(e){t.layoutRect().y-=n.y}
else{t.layoutRect().y+=n.y}};t.classes.toggle('fixed',e);t.state.set('fixed',e)};return t},show:function(){var t=this,e,n=t._super();e=o.length;while(e--){if(o[e]===t){break}};if(e===-1){o.push(t)};return n},hide:function(){h(this);c(!1,this);return this._super()},hideAll:function(){s.hideAll()},close:function(){var e=this;if(!e.fire('close').isDefaultPrevented()){e.remove();c(!1,e)};return e},remove:function(){h(this);this._super()},postRender:function(){var e=this;if(e.settings.bodyRole){this.getEl('body').setAttribute('role',e.settings.bodyRole)};return e._super()}});s.hideAll=function(){var e=o.length;while(e--){var t=o[e];if(t&&t.settings.autohide){t.hide();o.splice(e,1)}}};function h(e){var t;t=o.length;while(t--){if(o[t]===e){o.splice(t,1)}};t=a.length;while(t--){if(a[t]===e){a.splice(t,1)}}};return s});n('tinymce/ui/Window',['tinymce/ui/FloatPanel','tinymce/ui/Panel','tinymce/ui/DomUtils','tinymce/dom/DomQuery','tinymce/ui/DragHelper','tinymce/ui/BoxUtils','tinymce/Env'],function(e,t,n,i,r,o,s){'use strict';var a=[],l='';function c(e){var r='width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0',t=i('meta[name=viewport]')[0],n;if(s.overrideViewPort===!1){return};if(!t){t=document.createElement('meta');t.setAttribute('name','viewport');document.getElementsByTagName('head')[0].appendChild(t)};n=t.getAttribute('content');if(n&&typeof l!='undefined'){l=n};t.setAttribute('content',e?r:l)};function f(e){for(var t=0;t<a.length;t++){if(a[t]._fullscreen){return}};i([document.documentElement,document.body]).removeClass(e+'fullscreen')};function u(){var e={w:window.innerWidth,h:window.innerHeight};window.setInterval(function(){var n=window.innerWidth,t=window.innerHeight;if(e.w!=n||e.h!=t){e={w:n,h:t};i(window).trigger('resize')}},0);function t(){var e,i=n.getWindowSize(),t;for(e=0;e<a.length;e++){t=a[e].layoutRect();a[e].moveTo(a[e].settings.x||Math.max(0,i.w/2-t.w/2),a[e].settings.y||Math.max(0,i.h/2-t.h/2))}};i(window).on('resize',t)};var d=e.extend({modal:!0,Defaults:{border:1,layout:'flex',containerCls:'panel',role:'dialog',callbacks:{submit:function(){this.fire('submit',{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var n=this;n._super(e);if(n.isRtl()){n.classes.add('rtl')};n.classes.add('window');n.bodyClasses.add('window-body');n.state.set('fixed',!0);if(e.buttons){n.statusbar=new t({layout:'flex',border:'1 0 0 0',spacing:3,padding:10,align:'center',pack:n.isRtl()?'start':'end',defaults:{type:'button'},items:e.buttons});n.statusbar.classes.add('foot');n.statusbar.parent(n)};n.on('click',function(e){if(e.target.className.indexOf(n.classPrefix+'close')!=-1){n.close()}});n.on('cancel',function(){n.close()});n.aria('describedby',n.describedBy||n._id+'-none');n.aria('label',e.title);n._fullscreen=!1},recalc:function(){var e=this,a=e.statusbar,i,t,r,o;if(e._fullscreen){e.layoutRect(n.getWindowSize());e.layoutRect().contentH=e.layoutRect().innerH};e._super();i=e.layoutRect();if(e.settings.title&&!e._fullscreen){t=i.headerW;if(t>i.w){r=i.x-Math.max(0,t/2);e.layoutRect({w:t,x:r});o=!0}};if(a){a.layoutRect({w:e.layoutRect().innerW}).recalc();t=a.layoutRect().minW+i.deltaW;if(t>i.w){r=i.x-Math.max(0,t-i.w);e.layoutRect({w:t,x:r});o=!0}};if(o){e.recalc()}},initLayoutRect:function(){var t=this,e=t._super(),i=0,r;if(t.settings.title&&!t._fullscreen){r=t.getEl('head');var o=n.getSize(r);e.headerW=o.width;e.headerH=o.height;i+=e.headerH};if(t.statusbar){i+=t.statusbar.layoutRect().h};e.deltaH+=i;e.minH+=i;e.h+=i;var a=n.getWindowSize();e.x=t.settings.x||Math.max(0,a.w/2-e.w/2);e.y=t.settings.y||Math.max(0,a.h/2-e.h/2);return e},renderHtml:function(){var e=this,o=e._layout,t=e._id,r=e.classPrefix,n=e.settings,s='',a='',i=n.html;e.preRender();o.preRender(e);if(n.title){s=('<div id="'+t+'-head" class="'+r+'window-head"><div id="'+t+'-title" class="'+r+'title">'+e.encode(n.title)+'</div><button type="button" class="'+r+'close" aria-hidden="true">\u00d7</button><div id="'+t+'-dragh" class="'+r+'dragh"></div></div>')};if(n.url){i='<iframe src="'+n.url+'" tabindex="-1"></iframe>'};if(typeof i=='undefined'){i=o.renderHtml(e)};if(e.statusbar){a=e.statusbar.renderHtml()};return('<div id="'+t+'" class="'+e.classes+'" hidefocus="1"><div class="'+e.classPrefix+'reset" role="application">'+s+'<div id="'+t+'-body" class="'+e.bodyClasses+'">'+i+'</div>'+a+'</div></div>')},fullscreen:function(e){var t=this,s=document.documentElement,c,a=t.classPrefix,r;if(e!=t._fullscreen){i(window).on('resize',function(){var e;if(t._fullscreen){if(!c){e=new Date().getTime();var i=n.getWindowSize();t.moveTo(0,0).resizeTo(i.w,i.h);if((new Date().getTime())-e>50){c=!0}}
else{if(!t._timer){t._timer=setTimeout(function(){var e=n.getWindowSize();t.moveTo(0,0).resizeTo(e.w,e.h);t._timer=0},50)}}}});r=t.layoutRect();t._fullscreen=e;if(!e){t.borderBox=o.parseBox(t.settings.border);t.getEl('head').style.display='';r.deltaH+=r.headerH;i([s,document.body]).removeClass(a+'fullscreen');t.classes.remove('fullscreen');t.moveTo(t._initial.x,t._initial.y).resizeTo(t._initial.w,t._initial.h)}
else{t._initial={x:r.x,y:r.y,w:r.w,h:r.h};t.borderBox=o.parseBox('0');t.getEl('head').style.display='none';r.deltaH-=r.headerH+2;i([s,document.body]).addClass(a+'fullscreen');t.classes.add('fullscreen');var l=n.getWindowSize();t.moveTo(0,0).resizeTo(l.w,l.h)}};return t.reflow()},postRender:function(){var e=this,t;setTimeout(function(){e.classes.add('in')},0);e._super();if(e.statusbar){e.statusbar.postRender()};e.focus();this.dragHelper=new r(e._id+'-dragh',{start:function(){t={x:e.layoutRect().x,y:e.layoutRect().y}},drag:function(n){e.moveTo(t.x+n.deltaX,t.y+n.deltaY)}});e.on('submit',function(t){if(!t.isDefaultPrevented()){e.close()}});a.push(e);c(!0)},submit:function(){return this.fire('submit',{data:this.toJSON()})},remove:function(){var e=this,t;e.dragHelper.destroy();e._super();if(e.statusbar){this.statusbar.remove()};t=a.length;while(t--){if(a[t]===e){a.splice(t,1)}};c(a.length>0);f(e.classPrefix)},getContentWindow:function(){var e=this.getEl().getElementsByTagName('iframe')[0];return e?e.contentWindow:null}});if(!s.desktop){u()};return d});n('tinymce/ui/MessageBox',['tinymce/ui/Window'],function(e){'use strict';var t=e.extend({init:function(e){e={border:1,padding:20,layout:'flex',pack:'center',align:'center',containerCls:'panel',autoScroll:!0,buttons:{type:'button',text:'Ok',action:'ok'},items:{type:'label',multiline:!0,maxWidth:500,maxHeight:200}};this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(n){var r,o=n.callback||function(){};function i(e,t,n){return{type:'button',text:e,subtype:n?'primary':'',onClick:function(e){e.control.parents()[1].close();o(t)}}};switch(n.buttons){case t.OK_CANCEL:r=[i('Ok',!0,!0),i('Cancel',!1)];break;case t.YES_NO:case t.YES_NO_CANCEL:r=[i('Yes',1,!0),i('No',0)];if(n.buttons==t.YES_NO_CANCEL){r.push(i('Cancel',-1))};break;default:r=[i('Ok',!0,!0)];break};return new e({padding:20,x:n.x,y:n.y,minWidth:300,minHeight:100,layout:'flex',pack:'center',align:'center',buttons:r,title:n.title,role:'alertdialog',items:{type:'label',multiline:!0,maxWidth:500,maxHeight:200,text:n.text},onPostRender:function(){this.aria('describedby',this.items()[0]._id)},onClose:n.onClose,onCancel:function(){o(!1)}}).renderTo(document.body).reflow()},alert:function(e,n){if(typeof e=='string'){e={text:e}};e.callback=n;return t.msgBox(e)},confirm:function(e,n){if(typeof e=='string'){e={text:e}};e.callback=n;e.buttons=t.OK_CANCEL;return t.msgBox(e)}}});return t});n('tinymce/WindowManager',['tinymce/ui/Window','tinymce/ui/MessageBox'],function(e,t){return function(n){var r=this,i=[];function o(){if(i.length){return i[i.length-1]}};r.windows=i;n.on('remove',function(){var e=i.length;while(e--){i[e].close()}});r.open=function(t,r){var o;n.editorManager.setActive(n);t.title=t.title||' ';t.url=t.url||t.file;if(t.url){t.width=parseInt(t.width||320,10);t.height=parseInt(t.height||240,10)};if(t.body){t.items={defaults:t.defaults,type:t.bodyType||'form',items:t.body}};if(!t.url&&!t.buttons){t.buttons=[{text:'Ok',subtype:'primary',onclick:function(){o.find('form')[0].submit()}},{text:'Cancel',onclick:function(){o.close()}}]};o=new e(t);i.push(o);o.on('close',function(){var e=i.length;while(e--){if(i[e]===o){i.splice(e,1)}};if(!i.length){n.focus()}});if(t.data){o.on('postRender',function(){this.find('*').each(function(e){var n=e.name();if(n in t.data){e.value(t.data[n])}})})};o.features=t||{};o.params=r||{};if(i.length===1){n.nodeChanged()};return o.renderTo().reflow()};r.alert=function(e,i,r){t.alert(e,function(){if(i){i.call(r||this)}
else{n.focus()}})};r.confirm=function(e,n,i){t.confirm(e,function(e){n.call(i||this,e)})};r.close=function(){if(o()){o().close()}};r.getParams=function(){return o()?o().params:null};r.setParams=function(e){if(o()){o().params=e}};r.getWindows=function(){return i}}});n('tinymce/dom/NodePath',['tinymce/dom/DOMUtils'],function(e){function n(t,n,i){var r=[];for(;n&&n!=t;n=n.parentNode){r.push(e.nodeIndex(n,i))};return r};function t(e,t){var n,i,r;for(i=e,n=t.length-1;n>=0;n--){r=i.childNodes;if(t[n]>r.length-1){return null};i=r[t[n]]};return i};return{create:n,resolve:t}});n('tinymce/util/Quirks',['tinymce/util/VK','tinymce/dom/RangeUtils','tinymce/dom/TreeWalker','tinymce/dom/NodePath','tinymce/html/Node','tinymce/html/Entities','tinymce/Env','tinymce/util/Tools'],function(e,t,n,i,r,a,o,s){return function(l){var w=s.each,d=l.$,h=e.BACKSPACE,B=e.DELETE,c=l.dom,u=l.selection,p=l.settings,y=l.parser,T=l.serializer,Y=o.gecko,A=o.ie,J=o.webkit,g='data:text/mce-internal,',R=A?'Text':'URL';function m(e,t){try{l.getDoc().execCommand(e,!1,t)}catch(n){}};function v(){var e=l.getDoc().documentMode;return e?e:6};function f(e){return e.isDefaultPrevented()};function x(e){var t,n;if(e.dataTransfer){if(l.selection.isCollapsed()&&e.target.tagName=='IMG'){u.select(e.target)};t=l.selection.getContent();if(t.length>0){n=g+escape(l.id)+','+escape(t);e.dataTransfer.setData(R,n)}}};function E(e){var t;if(e.dataTransfer){t=e.dataTransfer.getData(R);if(t&&t.indexOf(g)>=0){t=t.substr(g.length).split(',');return{id:unescape(t[0]),html:unescape(t[1])}}};return null};function k(e){if(l.queryCommandSupported('mceInsertClipboardContent')){l.execCommand('mceInsertClipboardContent',!1,{content:e})}
else{l.execCommand('mceInsertContent',!1,e)}};function Z(){var w=l.getDoc(),r=l.dom,a=l.selection,u=window.MutationObserver,g,c;if(!u){g=!0;u=function(){var n=[],e;function t(e){var t=e.relatedNode||e.target;n.push({target:t,addedNodes:[t]})};function i(e){var t=e.relatedNode||e.target;n.push({target:t,attributeName:e.attrName})};this.observe=function(n){e=n;e.addEventListener('DOMSubtreeModified',t,!1);e.addEventListener('DOMNodeInsertedIntoDocument',t,!1);e.addEventListener('DOMNodeInserted',t,!1);e.addEventListener('DOMAttrModified',i,!1)};this.disconnect=function(){e.removeEventListener('DOMSubtreeModified',t,!1);e.removeEventListener('DOMNodeInsertedIntoDocument',t,!1);e.removeEventListener('DOMNodeInserted',t,!1);e.removeEventListener('DOMAttrModified',i,!1)};this.takeRecords=function(){return n}}};function b(e){var n=r.schema.getBlockElements(),t=l.getBody();if(e.nodeName!='BR'){return!1};for(e=e;e!=t&&!n[e.nodeName];e=e.parentNode){if(e.nextSibling){return!1}};return!0};function p(e,t){var n;for(n=e.nextSibling;n&&n!=t;n=n.nextSibling){if(n.nodeType==3&&d.trim(n.data).length===0){continue};if(n!==t){return!1}};return n===t};function m(e,t,i){var s,o,a;a=r.schema.getNonEmptyElements();s=new n(i||e,e);while((o=s[t?'next':'prev']())){if(a[o.nodeName]&&!b(o)){return o};if(o.nodeType==3&&o.data.length>0){return o}}};function C(e){var s,i,n,o,c;if(e.collapsed){return};s=r.getParent(t.getNode(e.startContainer,e.startOffset),r.isBlock);i=r.getParent(t.getNode(e.endContainer,e.endOffset),r.isBlock);c=l.schema.getTextBlockElements();if(s==i){return};if(!c[s.nodeName]||!c[i.nodeName]){return};if(r.getContentEditable(s)==='false'||r.getContentEditable(i)==='false'){return};e.deleteContents();n=m(s,!1);o=m(i,!0);if(!r.isEmpty(i)){d(s).append(i.childNodes)};d(i).remove();if(n){if(n.nodeType==1){if(n.nodeName=='BR'){e.setStartBefore(n);e.setEndBefore(n)}
else{e.setStartAfter(n);e.setEndAfter(n)}}
else{e.setStart(n,n.data.length);e.setEnd(n,n.data.length)}}
else if(o){if(o.nodeType==1){e.setStartBefore(o);e.setEndBefore(o)}
else{e.setStart(o,0);e.setEnd(o,0)}};a.setRng(e);return!0};function S(e,n){var i,o,s,a,u,c;if(!e.collapsed){return e};u=e.startContainer;c=e.startOffset;if(u.nodeType==3){if(n){if(c<u.data.length){return e}}
else{if(c>0){return e}}};i=t.getNode(e.startContainer,e.startOffset);s=r.getParent(i,r.isBlock);o=m(l.getBody(),n,i);a=r.getParent(o,r.isBlock);if(!i||!o){return e};if(a&&s!=a){if(!n){if(!p(a,s)){return e};if(o.nodeType==1){if(o.nodeName=='BR'){e.setStartBefore(o)}
else{e.setStartAfter(o)}}
else{e.setStart(o,o.data.length)};if(i.nodeType==1){e.setEnd(i,0)}
else{e.setEndBefore(i)}}
else{if(!p(s,a)){return e};if(i.nodeType==1){if(i.nodeName=='BR'){e.setStartBefore(i)}
else{e.setStartAfter(i)}}
else{e.setStart(i,i.data.length)};if(o.nodeType==1){e.setEnd(o,0)}
else{e.setEndBefore(o)}}};return e};function y(e){var t=a.getRng();t=S(t,e);if(C(t)){return!0}};function v(e,t){var g,o,a,h,m,n,c,f,u;function v(e,n){u=d(n).parents().filter(function(e,t){return!!l.schema.getTextInlineElements()[t.nodeName]});a=e.cloneNode(!1);u=s.map(u,function(e){e=e.cloneNode(!1);if(a.hasChildNodes()){e.appendChild(a.firstChild);a.appendChild(e)}
else{a.appendChild(e)};a.appendChild(e);return e});if(u.length){f=r.create('br');u[0].appendChild(f);r.replace(a,e);t.setStartBefore(f);t.setEndBefore(f);l.selection.setRng(t);return f};return null};function p(e){return e&&l.schema.getTextBlockElements()[e.tagName]};if(!t.collapsed){return};n=t.startContainer;c=t.startOffset;o=r.getParent(n,r.isBlock);if(!p(o)){return};if(n.nodeType==1){n=n.childNodes[c];if(n&&n.tagName!='BR'){return};if(e){m=o.nextSibling}
else{m=o.previousSibling};if(r.isEmpty(o)&&p(m)&&r.isEmpty(m)){if(v(o,n)){r.remove(m);return!0}}}
else if(n.nodeType==3){g=i.create(o,n);h=o.cloneNode(!0);n=i.resolve(h,g);if(e){if(c>=n.data.length){return};n.deleteData(c,1)}
else{if(c<=0){return};n.deleteData(c-1,1)};if(r.isEmpty(h)){return v(o,n)}}};function o(e){var n,t,i;if(y(e)){return};s.each(l.getBody().getElementsByTagName('*'),function(e){if(e.tagName=='SPAN'){e.setAttribute('mce-data-marked',1)};if(!e.hasAttribute('data-mce-style')&&e.hasAttribute('style')){l.dom.setAttrib(e,'style',l.dom.getAttrib(e,'style'))}});n=new u(function(){});n.observe(l.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:['style']});l.getDoc().execCommand(e?'ForwardDelete':'Delete',!1,null);t=l.selection.getRng();i=t.startContainer.parentNode;s.each(n.takeRecords(),function(e){if(!r.isChildOf(e.target,l.getBody())){return};if(e.attributeName=='style'){var n=e.target.getAttribute('data-mce-style');if(n){e.target.setAttribute('style',n)}
else{e.target.removeAttribute('style')}};s.each(e.addedNodes,function(e){if(e.nodeName=='SPAN'&&!e.getAttribute('mce-data-marked')){var o,n;if(e==i){o=t.startOffset;n=e.firstChild};r.remove(e,!0);if(n){t.setStart(n,o);t.setEnd(n,o);l.selection.setRng(t)}}})});n.disconnect();s.each(l.dom.select('span[mce-data-marked]'),function(e){e.removeAttribute('mce-data-marked')})};l.on('keydown',function(e){var t=e.keyCode==B,i=e.ctrlKey||e.metaKey;if(!f(e)&&(t||e.keyCode==h)){var n=l.selection.getRng(),r=n.startContainer,a=n.startOffset;if(t&&e.shiftKey){return};if(v(t,n)){e.preventDefault();return};if(!i&&n.collapsed&&r.nodeType==3){if(t?a<r.data.length:a>0){return}};e.preventDefault();if(i){l.selection.getSel().modify('extend',t?'forward':'backward',e.metaKey?'lineboundary':'word')};o(t)}});l.on('keypress',function(t){if(!f(t)&&!a.isCollapsed()&&t.charCode>31&&!e.metaKeyPressed(t)){var i,s,n,m,c,u;i=l.selection.getRng();u=String.fromCharCode(t.charCode);t.preventDefault();s=d(i.startContainer).parents().filter(function(e,t){return!!l.schema.getTextInlineElements()[t.nodeName]});o(!0);s=s.filter(function(e,t){return!d.contains(l.getBody(),t)});if(s.length){n=r.createFragment();s.each(function(e,t){t=t.cloneNode(!1);if(n.hasChildNodes()){t.appendChild(n.firstChild);n.appendChild(t)}
else{c=t;n.appendChild(t)};n.appendChild(t)});c.appendChild(l.getDoc().createTextNode(u));m=r.getParent(i.startContainer,r.isBlock);if(r.isEmpty(m)){d(m).empty().append(n)}
else{i.insertNode(n)};i.setStart(c.firstChild,1);i.setEnd(c.firstChild,1);l.selection.setRng(i)}
else{l.selection.setContent(u)}}});l.addCommand('Delete',function(){o()});l.addCommand('ForwardDelete',function(){o(!0)});if(g){return};l.on('dragstart',function(e){c=a.getRng();x(e)});l.on('drop',function(e){if(!f(e)){var n=E(e);if(n){e.preventDefault();window.setTimeout(function(){var i=t.getCaretRangeFromPoint(e.x,e.y,w);if(c){a.setRng(c);c=null};o();a.setRng(i);k(n.html)},0)}}});l.on('cut',function(e){if(!f(e)&&e.clipboardData&&!l.selection.isCollapsed()){e.preventDefault();e.clipboardData.clearData();e.clipboardData.setData('text/html',l.selection.getContent());e.clipboardData.setData('text/plain',l.selection.getContent({format:'text'}));window.setTimeout(function(){o(!0)},0)}})};function Q(){function e(e){var t=c.create('body'),n=e.cloneContents();t.appendChild(n);return u.serializer.serialize(t,{format:'html'})};function n(n){if(!n.setStart){if(n.item){return!1};var i=n.duplicate();i.moveToElementText(l.getBody());return t.compareRanges(n,i)};var o=e(n),r=c.createRng();r.selectNode(l.getBody());var a=e(r);return o===a};l.on('keydown',function(e){var r=e.keyCode,i,t;if(!f(e)&&(r==B||r==h)){i=l.selection.isCollapsed();t=l.getBody();if(i&&!c.isEmpty(t)){return};if(!i&&!n(l.selection.getRng())){return};e.preventDefault();l.setContent('');if(t.firstChild&&c.isBlock(t.firstChild)){l.selection.setCursorLocation(t.firstChild,0)}
else{l.selection.setCursorLocation(t,0)};l.nodeChanged()}})};function S(){l.shortcuts.add('meta+a',null,'SelectAll')};function X(){if(!l.settings.content_editable){c.bind(l.getDoc(),'focusin',function(){u.setRng(u.getRng())});c.bind(l.getDoc(),'mousedown mouseup',function(e){if(e.target==l.getDoc().documentElement){l.getBody().focus();if(e.type=='mousedown'){u.placeCaretAt(e.clientX,e.clientY)}
else{u.setRng(u.getRng())}}})}};function N(){l.on('keydown',function(e){if(!f(e)&&e.keyCode===h){if(!l.getBody().getElementsByTagName('hr').length){return};if(u.isCollapsed()&&u.getRng(!0).startOffset===0){var n=u.getNode(),t=n.previousSibling;if(n.nodeName=='HR'){c.remove(n);e.preventDefault();return};if(t&&t.nodeName&&t.nodeName.toLowerCase()==='hr'){c.remove(t);e.preventDefault()}}}})};function G(){if(!window.Range.prototype.getClientRects){l.on('mousedown',function(e){if(!f(e)&&e.target.nodeName==='HTML'){var t=l.getBody();t.blur();setTimeout(function(){t.focus()},0)}})}};function ee(){l.on('click',function(e){var t=e.target;if(/^(IMG|HR)$/.test(t.nodeName)){e.preventDefault();u.getSel().setBaseAndExtent(t,0,t,1);l.nodeChanged()};if(t.nodeName=='A'&&c.hasClass(t,'mce-item-anchor')){e.preventDefault();u.select(t)}})};function te(){function t(){var e=c.getAttribs(u.getStart().cloneNode(!1));return function(){var t=u.getStart();if(t!==l.getBody()){c.setAttrib(t,'style',null);w(e,function(e){t.setAttributeNode(e.cloneNode(!0))})}}};function e(){return!u.isCollapsed()&&c.getParent(u.getStart(),c.isBlock)!=c.getParent(u.getEnd(),c.isBlock)};l.on('keypress',function(n){var i;if(!f(n)&&(n.keyCode==8||n.keyCode==46)&&e()){i=t();l.getDoc().execCommand('delete',!1,null);i();n.preventDefault();return!1}});c.bind(l.getDoc(),'cut',function(n){var i;if(!f(n)&&e()){i=t();setTimeout(function(){i()},0)}})};function ae(){document.body.setAttribute('role','application')};function b(){l.on('keydown',function(e){if(!f(e)&&e.keyCode===h){if(u.isCollapsed()&&u.getRng(!0).startOffset===0){var t=u.getNode().previousSibling;if(t&&t.nodeName&&t.nodeName.toLowerCase()==='table'){e.preventDefault();return!1}}}})};function oe(){if(v()>7){return};m('RespectVisibilityInDesign',!0);l.contentStyles.push('.mceHideBrInPre pre br {display: none}');c.addClass(l.getBody(),'mceHideBrInPre');y.addNodeFilter('pre',function(e){var a=e.length,i,o,n,t;while(a--){i=e[a].getAll('br');o=i.length;while(o--){n=i[o];t=n.prev;if(t&&t.type===3&&t.value.charAt(t.value-1)!='\n'){t.value+='\n'}
else{n.parent.insert(new r('#text',3),n,!0).value='\n'}}}});T.addNodeFilter('pre',function(e){var r=e.length,i,n,o,t;while(r--){i=e[r].getAll('br');n=i.length;while(n--){o=i[n];t=o.prev;if(t&&t.type==3){t.value=t.value.replace(/\r?\n$/,'')}}}})};function re(){c.bind(l.getBody(),'mouseup',function(){var t,e=u.getNode();if(e.nodeName=='IMG'){if((t=c.getStyle(e,'width'))){c.setAttrib(e,'width',t.replace(/[^0-9%]+/g,''));c.setStyle(e,'width','')};if((t=c.getStyle(e,'height'))){c.setAttrib(e,'height',t.replace(/[^0-9%]+/g,''));c.setStyle(e,'height','')}}})};function ne(){l.on('keydown',function(t){var i,r,o,a,n;if(f(t)||t.keyCode!=e.BACKSPACE){return};i=u.getRng();r=i.startContainer;o=i.startOffset;a=c.getRoot();n=r;if(!i.collapsed||o!==0){return}
while(n&&n.parentNode&&n.parentNode.firstChild==n&&n.parentNode!=a){n=n.parentNode};if(n.tagName==='BLOCKQUOTE'){l.formatter.toggle('blockquote',null,n);i=c.createRng();i.setStart(r,0);i.setEnd(r,0);u.setRng(i)}})};function ie(){function e(){l._refreshContentEditable();m('StyleWithCSS',!1);m('enableInlineTableEditing',!1);if(!p.object_resizing){m('enableObjectResizing',!1)}};if(!p.readonly){l.on('BeforeExecCommand MouseDown',e)}};function K(){function e(){w(c.select('a'),function(e){var t=e.parentNode,n=c.getRoot();if(t.lastChild===e){while(t&&!c.isBlock(t)){if(t.parentNode.lastChild!==t||t===n){return};t=t.parentNode};c.add(t,'br',{'data-mce-bogus':1})}})};l.on('SetContent ExecCommand',function(t){if(t.type=='setcontent'||t.command==='mceInsertLink'){e()}})};function se(){if(p.forced_root_block){l.on('init',function(){m('DefaultParagraphSeparator',p.forced_root_block)})}};function V(){l.on('Undo Redo SetContent',function(e){if(!e.initial){l.execCommand('mceRepaint')}})};function O(){l.on('keydown',function(e){var t;if(!f(e)&&e.keyCode==h){t=l.getDoc().selection.createRange();if(t&&t.item){e.preventDefault();l.undoManager.beforeChange();c.remove(t.item(0));l.undoManager.add()}}})};function L(){var e;if(v()>=10){e='';w('p div h1 h2 h3 h4 h5 h6'.split(' '),function(t,n){e+=(n>0?',':'')+t+':empty'});l.contentStyles.push(e+'{padding-right: 1px !important}')}};function P(){if(v()<9){y.addNodeFilter('noscript',function(e){var i=e.length,t,n;while(i--){t=e[i];n=t.firstChild;if(n){t.attr('data-mce-innertext',n.value)}}});T.addNodeFilter('noscript',function(e){var o=e.length,n,t,i;while(o--){n=e[o];t=e[o].firstChild;if(t){t.value=a.decode(t.value)}
else{i=n.attributes.map['data-mce-innertext'];if(i){n.attr('data-mce-innertext',null);t=new r('#text',3);t.value=i;t.raw=!0;n.append(t)}}}})}};function D(){var e=c.doc,s=e.body,i,t,r;function o(e,t){var i=s.createTextRange();try{i.moveToPoint(e,t)}catch(n){i=null};return i};function a(e){var i;if(e.button){i=o(e.x,e.y);if(i){if(i.compareEndPoints('StartToStart',t)>0){i.setEndPoint('StartToStart',t)}
else{i.setEndPoint('EndToEnd',t)};i.select()}}
else{n()}};function n(){var r=e.selection.createRange();if(t&&!r.item&&r.compareEndPoints('StartToEnd',r)===0){t.select()};c.unbind(e,'mouseup',n);c.unbind(e,'mousemove',a);t=i=0};e.documentElement.unselectable=!0;c.bind(e,'mousedown contextmenu',function(s){if(s.target.nodeName==='HTML'){if(i){n()};r=e.documentElement;if(r.scrollHeight>r.clientHeight){return};i=1;t=o(s.x,s.y);if(t){c.bind(e,'mouseup',n);c.bind(e,'mousemove',a);c.getRoot().focus();t.select()}}})};function M(){l.on('keyup focusin mouseup',function(t){if(t.keyCode!=65||!e.metaKeyPressed(t)){u.normalize()}},!0)};function F(){l.contentStyles.push('img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}')};function j(){if(!l.inline){l.on('keydown',function(){if(document.activeElement==document.body){l.getWin().focus()}})}};function C(){if(!l.inline){l.contentStyles.push('body {min-height: 150px}');l.on('click',function(e){var t;if(e.target.nodeName=='HTML'){if(o.ie>11){l.getBody().focus();return};t=l.selection.getRng();l.getBody().focus();l.selection.setRng(t);l.selection.normalize();l.nodeChanged()}})}};function U(){if(o.mac){l.on('keydown',function(t){if(e.metaKeyPressed(t)&&!t.shiftKey&&(t.keyCode==37||t.keyCode==39)){t.preventDefault();l.selection.getSel().modify('move',t.keyCode==37?'backward':'forward','lineboundary')}})}};function z(){m('AutoUrlDetect',!1)};function W(){l.on('click',function(e){var t=e.target;do{if(t.tagName==='A'){e.preventDefault();return}}
while((t=t.parentNode));});l.contentStyles.push('.mce-content-body {-webkit-touch-callout: none}')};function q(){l.on('init',function(){l.dom.bind(l.getBody(),'submit',function(e){e.preventDefault()})})};function I(){y.addNodeFilter('br',function(e){var t=e.length;while(t--){if(e[t].attr('class')=='Apple-interchange-newline'){e[t].remove()}}})};function H(){l.on('dragstart',function(e){x(e)});l.on('drop',function(e){if(!f(e)){var n=E(e);if(n&&n.id!=l.id){e.preventDefault();var i=t.getCaretRangeFromPoint(e.x,e.y,l.getDoc());u.setRng(i);k(n.html)}}})};ne();Q();M();if(J){Z();X();ee();se();q();b();I();if(o.iOS){j();C();W()}
else{S()}};if(A&&o.ie<11){N();ae();oe();re();O();L();P();D()};if(o.ie>=11){C();b()};if(o.ie){S();z();H()};if(Y){N();G();te();ie();K();V();F();U();b()}}});n('tinymce/EditorObservable',['tinymce/util/Observable','tinymce/dom/DOMUtils','tinymce/util/Tools'],function(e,t,n){var r=t.DOM,i;function o(e,t){if(t=='selectionchange'){return e.getDoc()};if(!e.inline&&/^mouse|click|contextmenu|drop|dragover|dragend/.test(t)){return e.getDoc().documentElement};if(e.settings.event_root){if(!e.eventRoot){e.eventRoot=r.select(e.settings.event_root)[0]};return e.eventRoot};return e.getBody()};function s(e,t){var a=o(e,t),n;if(!e.delegates){e.delegates={}};if(e.delegates[t]){return};if(e.settings.event_root){if(!i){i={};e.editorManager.on('removeEditor',function(){var t;if(!e.editorManager.activeEditor){if(i){for(t in i){e.dom.unbind(o(e,t))};i=null}}})};if(i[t]){return};n=function(n){var a=n.target,o=e.editorManager.editors,i=o.length;while(i--){var s=o[i].getBody();if(s===a||r.isChildOf(a,s)){if(!o[i].hidden){o[i].fire(t,n)}}}};i[t]=n;r.bind(a,t,n)}
else{n=function(n){if(!e.hidden){e.fire(t,n)}};r.bind(a,t,n);e.delegates[t]=n}};var a={bindPendingEventDelegates:function(){var e=this;n.each(e._pendingNativeEvents,function(t){s(e,t)})},toggleNativeEvent:function(e,t){var n=this;if(n.settings.readonly){return};if(e=='focus'||e=='blur'){return};if(t){if(n.initialized){s(n,e)}
else{if(!n._pendingNativeEvents){n._pendingNativeEvents=[e]}
else{n._pendingNativeEvents.push(e)}}}
else if(n.initialized){n.dom.unbind(o(n,e),e,n.delegates[e]);delete n.delegates[e]}},unbindAllNativeEvents:function(){var e=this,t;if(e.delegates){for(t in e.delegates){e.dom.unbind(o(e,t),t,e.delegates[t])};delete e.delegates};if(!e.inline){e.getBody().onload=null;e.dom.unbind(e.getWin());e.dom.unbind(e.getDoc())};e.dom.unbind(e.getBody());e.dom.unbind(e.getContainer())}};a=n.extend({},e,a);return a});n('tinymce/Shortcuts',['tinymce/util/Tools','tinymce/Env'],function(e,t){var n=e.each,i=e.explode,o={'f9':120,'f10':121,'f11':122};var r=e.makeMap('alt,ctrl,shift,meta,access');return function(a){var c=this,s={};function l(e,s,l,c){var d,f,u;u={func:l,scope:c||a,desc:a.translate(s)};n(i(e,'+'),function(e){if(e in r){u[e]=!0}
else{if(/^[0-9]{2,}$/.test(e)){u.keyCode=parseInt(e,10)}
else{u.charCode=e.charCodeAt(0);u.keyCode=o[e]||e.toUpperCase().charCodeAt(0)}}});d=[u.keyCode];for(f in r){if(u[f]){d.push(f)}
else{u[f]=!1}};u.id=d.join(',');if(u.access){u.alt=!0;if(t.mac){u.ctrl=!0}
else{u.shift=!0}};if(u.meta){if(t.mac){u.meta=!0}
else{u.ctrl=!0;u.meta=!1}};return u};a.on('keyup keypress keydown',function(e){if((e.altKey||e.ctrlKey||e.metaKey)&&!e.isDefaultPrevented()){n(s,function(t){if(t.ctrl!=e.ctrlKey||t.meta!=e.metaKey){return};if(t.alt!=e.altKey||t.shift!=e.shiftKey){return};if(e.keyCode==t.keyCode||(e.charCode&&e.charCode==t.charCode)){e.preventDefault();if(e.type=='keydown'){t.func.call(t.scope)};return!0}})}});c.add=function(t,r,o,c){var u;u=o;if(typeof o==='string'){o=function(){a.execCommand(u,!1,null)}}
else if(e.isArray(u)){o=function(){a.execCommand(u[0],u[1],u[2])}};n(i(t.toLowerCase()),function(e){var t=l(e,r,o,c);s[t.id]=t});return!0};c.remove=function(e){var t=l(e);if(s[t.id]){delete s[t.id];return!0};return!1}}});n('tinymce/util/Promise',[],function(){if(window.Promise){return window.Promise};var s=e.immediateFn||(typeof setImmediate==='function'&&setImmediate)||function(e){setTimeout(e,1)};function t(e,t){return function(){e.apply(t,arguments)}};var l=Array.isArray||function(e){return Object.prototype.toString.call(e)==='[object Array]'};function e(e){if(typeof this!=='object')throw new TypeError('Promises must be constructed via new');if(typeof e!=='function')throw new TypeError('not a function');this._state=null;this._value=null;this._deferreds=[];r(e,t(a,this),t(n,this))};function o(e){var t=this;if(this._state===null){this._deferreds.push(e);return};s(function(){var i=t._state?e.onFulfilled:e.onRejected;if(i===null){(t._state?e.resolve:e.reject)(t._value);return};var r;try{r=i(t._value)}catch(n){e.reject(n);return};e.resolve(r)})};function a(e){try{if(e===this)throw new TypeError('A promise cannot be resolved with itself.');if(e&&(typeof e==='object'||typeof e==='function')){var s=e.then;if(typeof s==='function'){r(t(s,e),t(a,this),t(n,this));return}};this._state=!0;this._value=e;i.call(this)}catch(o){n.call(this,o)}};function n(e){this._state=!1;this._value=e;i.call(this)};function i(){for(var e=0,t=this._deferreds.length;e<t;e++){o.call(this,this._deferreds[e])};this._deferreds=null};function c(e,t,n,i){this.onFulfilled=typeof e==='function'?e:null;this.onRejected=typeof t==='function'?t:null;this.resolve=n;this.reject=i};function r(e,t,n){var r=!1;try{e(function(e){if(r)return;r=!0;t(e)},function(e){if(r)return;r=!0;n(e)})}catch(i){if(r)return;r=!0;n(i)}};e.prototype['catch']=function(e){return this.then(null,e)};e.prototype.then=function(t,n){var i=this;return new e(function(e,r){o.call(i,new c(t,n,e,r))})};e.all=function(){var t=Array.prototype.slice.call(arguments.length===1&&l(arguments[0])?arguments[0]:arguments);return new e(function(e,n){if(t.length===0)return e([]);var o=t.length;function r(i,a){try{if(a&&(typeof a==='object'||typeof a==='function')){var l=a.then;if(typeof l==='function'){l.call(a,function(e){r(i,e)},n);return}};t[i]=a;if(--o===0){e(t)}}catch(s){n(s)}};for(var i=0;i<t.length;i++){r(i,t[i])}})};e.resolve=function(t){if(t&&typeof t==='object'&&t.constructor===e){return t};return new e(function(e){e(t)})};e.reject=function(t){return new e(function(e,n){n(t)})};e.race=function(t){return new e(function(e,n){for(var i=0,r=t.length;i<r;i++){t[i].then(e,n)}})};return e});n('tinymce/util/Fun',[],function(){function e(e){return function(){return e}};return{constant:e}});n('tinymce/file/Uploader',['tinymce/util/Promise','tinymce/util/Tools','tinymce/util/Fun'],function(e,t,n){return function(i){var r={};function o(e){var n,t;t={'image/jpeg':'jpg','image/jpg':'jpg','image/gif':'gif','image/png':'png'};n=t[e.blob().type.toLowerCase()]||'dat';return e.id()+'.'+n};function l(e,t){if(e){return e.replace(/\/$/,'')+'/'+t.replace(/^\//,'')};return t};function c(e){return{id:e.id,blob:e.blob,base64:e.base64,filename:n.constant(o(e))}};function a(e,t,n){var r,a;r=new XMLHttpRequest();r.open('POST',i.url);r.withCredentials=i.credentials;r.onload=function(){var e;if(r.status!=200){n('HTTP Error: '+r.status);return};e=JSON.parse(r.responseText);if(!e||typeof e.location!='string'){n('Invalid JSON: '+r.responseText);return};t(l(i.basePath,e.location))};a=new FormData();a.append('file',e.blob(),o(e));r.send(a)};function s(n){var o;if(!i.url&&i.handler===a){return new e(function(e){e([])})};function s(t){return new e(function(e){var n=i.handler;n(c(t),function(n){e({url:n,blobInfo:t,status:!0})},function(n){e({url:'',blobInfo:t,status:!1,error:n})})})};o=t.map(n,function(e){var n,t=e.id();if(r[t]){return r[t]};n=s(e).then(function(e){delete r[t];return e})['catch'](function(e){delete r[t];return e});r[t]=n;return n});return e.all(o)};i=t.extend({credentials:!1,handler:a},i);return{upload:s}}});n('tinymce/file/Conversions',['tinymce/util/Promise'],function(e){function o(t){return new e(function(e){var n=new XMLHttpRequest();n.open('GET',t,!0);n.responseType='blob';n.onload=function(){if(this.status==200){e(this.response)}};n.send()})};function t(e){var n,t;e=decodeURIComponent(e).split(',');t=/data:([^;]+)/.exec(e[0]);if(t){n=t[1]};return{type:n,data:e[1]}};function r(n){return new e(function(e){var a,o,r;n=t(n);try{a=atob(n.data)}catch(i){e(new Blob([]));return};o=new Uint8Array(a.length);for(r=0;r<o.length;r++){o[r]=a.charCodeAt(r)};e(new Blob([o],{type:n.type}))})};function i(e){if(e.indexOf('blob:')===0){return o(e)};if(e.indexOf('data:')===0){return r(e)};return null};function n(t){return new e(function(e){var n=new FileReader();n.onloadend=function(){e(n.result)};n.readAsDataURL(t)})};return{uriToBlob:i,blobToDataUri:n,parseDataUri:t}});n('tinymce/file/ImageScanner',['tinymce/util/Promise','tinymce/util/Arr','tinymce/file/Conversions','tinymce/Env'],function(e,t,n,i){var r=0;return function(o){var a={};function s(s){var c,l;function u(e,t){var a,i;if(e.src.indexOf('blob:')===0){i=o.getByUri(e.src);if(i){t({image:e,blobInfo:i})};return};a=n.parseDataUri(e.src).data;i=o.findFirst(function(e){return e.base64()===a});if(i){t({image:e,blobInfo:i})}
else{n.uriToBlob(e.src).then(function(n){var s='blobid'+(r++),i=o.create(s,n,a);o.add(i);t({image:e,blobInfo:i})})}};c=t.filter(s.getElementsByTagName('img'),function(e){var t=e.src;if(!i.fileApi){return!1};if(e.hasAttribute('data-mce-bogus')){return!1};if(e.hasAttribute('data-mce-placeholder')){return!1};if(!t||t==i.transparentSrc){return!1};return t.indexOf('data:')===0||t.indexOf('blob:')===0});l=t.map(c,function(t){var n;if(a[t.src]){return new e(function(e){a[t.src].then(function(n){e({image:t,blobInfo:n.blobInfo})})})};n=new e(function(e){u(t,e)}).then(function(e){delete a[e.image.src];return e})['catch'](function(e){delete a[t.src];return e});a[t.src]=n;return n});return e.all(l)};return{findAll:s}}});n('tinymce/file/BlobCache',['tinymce/util/Arr','tinymce/util/Fun'],function(e,t){return function(){var n=[],i=t.constant;function c(e,t,n){return{id:i(e),blob:i(t),base64:i(n),blobUri:i(URL.createObjectURL(t))}};function l(e){if(!o(e.id())){n.push(e)}};function o(e){return r(function(t){return t.id()===e})};function r(t){return e.filter(n,t)[0]};function s(e){return r(function(t){return t.blobUri()==e})};function a(){e.each(n,function(e){URL.revokeObjectURL(e.blobUri())});n=[]};return{create:c,add:l,get:o,getByUri:s,findFirst:r,destroy:a}}});n('tinymce/EditorUpload',['tinymce/util/Arr','tinymce/file/Uploader','tinymce/file/ImageScanner','tinymce/file/BlobCache'],function(e,t,n,i){return function(r){var s=new i(),o,a;function c(e){return function(t){if(r.selection){return e(t)};return[]}};function d(e,t,n){var i=0;do{i=e.indexOf(t,i);if(i!==-1){e=e.substring(0,i)+n+e.substr(i+t.length);i+=n.length-t.length+1}}
while(i!==-1);return e};function p(e,t,n){e=d(e,'src="'+t+'"','src="'+n+'"');e=d(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"');return e};function h(t,n){e.each(r.undoManager.data,function(e){e.content=p(e.content,t,n)})};function f(n){if(!o){o=new t({url:r.settings.images_upload_url,basePath:r.settings.images_upload_base_path,credentials:r.settings.images_upload_credentials,handler:r.settings.images_upload_handler})};return l().then(c(function(t){var i;i=e.map(t,function(e){return e.blobInfo});return o.upload(i).then(c(function(i){i=e.map(i,function(e,n){var i=t[n].image;h(i.src,e.url);r.$(i).attr({src:e.url,'data-mce-src':r.convertURL(e.url,'src')});return{element:i,status:e.status}});if(n){n(i)};return i}))}))};function u(e){if(r.settings.automatic_uploads!==!1){return f(e)}};function l(){if(!a){a=new n(s)};return a.findAll(r.getBody()).then(c(function(t){e.each(t,function(e){h(e.image.src,e.blobInfo.blobUri());e.image.src=e.blobInfo.blobUri()});return t}))};function g(){s.destroy();a=o=null};function m(t){return t.replace(/src="(blob:[^"]+)"/g,function(t,n){var i=s.getByUri(n);if(!i){i=e.reduce(r.editorManager.editors,function(e,t){return e||t.editorUpload.blobCache.getByUri(n)},null)};if(i){return'src="data:'+i.blob().type+';base64,'+i.base64()+'"'};return t})};r.on('setContent',function(){if(r.settings.automatic_uploads!==!1){u()}
else{l()}});r.on('RawSaveContent',function(e){e.content=m(e.content)});r.on('getContent',function(e){if(e.source_view||e.format=='raw'){return};e.content=m(e.content)});return{blobCache:s,uploadImages:f,uploadImagesAuto:u,scanForImages:l,destroy:g}}});n('tinymce/Editor',['tinymce/dom/DOMUtils','tinymce/dom/DomQuery','tinymce/AddOnManager','tinymce/NodeChange','tinymce/html/Node','tinymce/dom/Serializer','tinymce/html/Serializer','tinymce/dom/Selection','tinymce/Formatter','tinymce/UndoManager','tinymce/EnterKey','tinymce/ForceBlocks','tinymce/EditorCommands','tinymce/util/URI','tinymce/dom/ScriptLoader','tinymce/dom/EventUtils','tinymce/WindowManager','tinymce/html/Schema','tinymce/html/DomParser','tinymce/util/Quirks','tinymce/Env','tinymce/util/Tools','tinymce/EditorObservable','tinymce/Shortcuts','tinymce/EditorUpload'],function(e,n,i,r,a,s,u,h,g,y,D,B,A,T,R,M,P,I,N,H,f,m,O,L,F){var o=e.DOM,v=i.ThemeManager,c=i.PluginManager,w=m.extend,l=m.each,S=m.explode,k=m.inArray,d=m.trim,x=m.resolve,E=M.Event,C=f.gecko,p=f.ie;function b(e,t,r){var o=this,s,a;s=o.documentBaseUrl=r.documentBaseURL;a=r.baseURI;o.settings=t=w({id:e,theme:'modern',delta_width:0,delta_height:0,popup_css:'',plugins:'',document_base_url:s,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:'<!DOCTYPE html>',visual:!0,font_size_style_values:'xx-small,x-small,small,medium,large,x-large,xx-large',font_size_legacy_values:'xx-small,small,medium,large,x-large,xx-large,300%',forced_root_block:'p',hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:'30px',inline_styles:!0,convert_fonts_to_spans:!0,indent:'simple',indent_before:'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist',indent_after:'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist',validate:!0,entity_encoding:'named',url_converter:o.convertURL,url_converter_scope:o,ie7_compat:!0},t);i.language=t.language||'en';i.languageLoad=t.language_load;i.baseURL=r.baseURL;o.id=t.id=e;o.isNotDirty=!0;o.plugins={};o.documentBaseURI=new T(t.document_base_url||s,{base_uri:a});o.baseURI=a;o.contentCSS=[];o.contentStyles=[];o.shortcuts=new L(o);o.loadedCSS={};o.editorCommands=new A(o);if(t.target){o.targetElm=t.target};o.suffix=r.suffix;o.editorManager=r;o.inline=t.inline;if(t.cache_suffix){f.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,'')};if(t.override_viewport===!1){f.overrideViewPort=!1};r.fire('SetupEditor',o);o.execCallback('setup',o);o.$=n.overrideDefaults(function(){return{context:o.inline?o.getBody():o.getDoc(),element:o.getBody()}})};b.prototype={render:function(){var e=this,t=e.settings,r=e.id,i=e.suffix;function a(){o.unbind(window,'ready',a);e.render()};if(!E.domLoaded){o.bind(window,'ready',a);return};if(!e.getElement()){return};if(!f.contentEditable){return};if(!t.inline){e.orgVisibility=e.getElement().style.visibility;e.getElement().style.visibility='hidden'}
else{e.inline=!0};var n=e.getElement().form||o.getParent(r,'form');if(n){e.formElement=n;if(t.hidden_input&&!/TEXTAREA|INPUT/i.test(e.getElement().nodeName)){o.insertAfter(o.create('input',{type:'hidden',name:r}),r);e.hasHiddenInput=!0};e.formEventDelegate=function(t){e.fire(t.type,t)};o.bind(n,'submit reset',e.formEventDelegate);e.on('reset',function(){e.setContent(e.startContent,{format:'raw'})});if(t.submit_patch&&!n.submit.nodeType&&!n.submit.length&&!n._mceOldSubmit){n._mceOldSubmit=n.submit;n.submit=function(){e.editorManager.triggerSave();e.isNotDirty=!0;return n._mceOldSubmit(n)}}};e.windowManager=new P(e);if(t.encoding=='xml'){e.on('GetContent',function(e){if(e.save){e.content=o.encode(e.content)}})};if(t.add_form_submit_trigger){e.on('submit',function(){if(e.initialized){e.save()}})};if(t.add_unload_trigger){e._beforeUnload=function(){if(e.initialized&&!e.destroyed&&!e.isHidden()){e.save({format:'raw',no_events:!0,set_dirty:!1})}};e.editorManager.on('BeforeUnload',e._beforeUnload)};function s(){var r=R.ScriptLoader;if(t.language&&t.language!='en'&&!t.language_url){t.language_url=e.editorManager.baseURL+'/langs/'+t.language+'.js'};if(t.language_url){r.add(t.language_url)};if(t.theme&&typeof t.theme!='function'&&t.theme.charAt(0)!='-'&&!v.urls[t.theme]){var n=t.theme_url;if(n){n=e.documentBaseURI.toAbsolute(n)}
else{n='themes/'+t.theme+'/theme'+i+'.js'};v.load(t.theme,n)};if(m.isArray(t.plugins)){t.plugins=t.plugins.join(' ')};l(t.external_plugins,function(e,n){c.load(n,e);t.plugins+=' '+n});l(t.plugins.split(/[ ,]/),function(e){e=d(e);if(e&&!c.urls[e]){if(e.charAt(0)=='-'){e=e.substr(1,e.length);var t=c.dependencies(e);l(t,function(e){var t={prefix:'plugins/',resource:e,suffix:'/plugin'+i+'.js'};e=c.createUrl(t,e);c.load(e.resource,e)})}
else{c.load(e,{prefix:'plugins/',resource:e,suffix:'/plugin'+i+'.js'})}}});r.loadQueue(function(){if(!e.removed){e.init()}})};s()},init:function(){var e=this,n=e.settings,a=e.getElement(),h,r,C,w,i,R,y,s,u,x,b,A=[];this.editorManager.i18n.setCode(n.language);e.rtl=n.rtl_ui||this.editorManager.i18n.rtl;e.editorManager.add(e);n.aria_label=n.aria_label||o.getAttrib(a,'aria-label',e.getLang('aria.rich_text_area'));if(n.theme){if(typeof n.theme!='function'){n.theme=n.theme.replace(/-/,'');R=v.get(n.theme);e.theme=new R(e,v.urls[n.theme]);if(e.theme.init){e.theme.init(e,v.urls[n.theme]||e.documentBaseUrl.replace(/\/$/,''),e.$)}}
else{e.theme=n.theme}};function N(t){var r=c.get(t),i,n;i=c.urls[t]||e.documentBaseUrl.replace(/\/$/,'');t=d(t);if(r&&k(A,t)===-1){l(c.dependencies(t),function(e){N(e)});n=new r(e,i,e.$);e.plugins[t]=n;if(n.init){n.init(e,i);A.push(t)}}};l(n.plugins.replace(/\-/g,'').split(/[ ,]/),N);if(n.render_ui&&e.theme){e.orgDisplay=a.style.display;if(typeof n.theme!='function'){h=n.width||a.style.width||a.offsetWidth;r=n.height||a.style.height||a.offsetHeight;C=n.min_height||100;x=/^[0-9\.]+(|px)$/i;if(x.test(''+h)){h=Math.max(parseInt(h,10),100)};if(x.test(''+r)){r=Math.max(parseInt(r,10),C)};i=e.theme.renderUI({targetNode:a,width:h,height:r,deltaWidth:n.delta_width,deltaHeight:n.delta_height});if(!n.content_editable){r=(i.iframeHeight||r)+(typeof r=='number'?(i.deltaHeight||0):'');if(r<C){r=C}}}
else{i=n.theme(e,a);if(i.editorContainer.nodeType){i.editorContainer=i.editorContainer.id=i.editorContainer.id||e.id+'_parent'};if(i.iframeContainer.nodeType){i.iframeContainer=i.iframeContainer.id=i.iframeContainer.id||e.id+'_iframecontainer'};r=i.iframeHeight||a.offsetHeight};e.editorContainer=i.editorContainer};if(n.content_css){l(S(n.content_css),function(t){e.contentCSS.push(e.documentBaseURI.toAbsolute(t))})};if(n.content_style){e.contentStyles.push(n.content_style)};if(n.content_editable){a=w=i=null;return e.initContentBody()};e.iframeHTML=n.doctype+'<html><head>';if(n.document_base_url!=e.documentBaseUrl){e.iframeHTML+='<base href="'+e.documentBaseURI.getURI()+'" />'};if(!f.caretAfter&&n.ie7_compat){e.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'};e.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';for(b=0;b<e.contentCSS.length;b++){var T=e.contentCSS[b];e.iframeHTML+=('<link type="text/css" rel="stylesheet" href="'+m._addCacheSuffix(T)+'" />');e.loadedCSS[T]=!0};s=n.body_id||'tinymce';if(s.indexOf('=')!=-1){s=e.getParam('body_id','','hash');s=s[e.id]||s};u=n.body_class||'';if(u.indexOf('=')!=-1){u=e.getParam('body_class','','hash');u=u[e.id]||''};if(n.content_security_policy){e.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+n.content_security_policy+'" />'};e.iframeHTML+='</head><body id="'+s+'" class="mce-content-body '+u+'" data-id="'+e.id+'"><br></body></html>';var E='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';if(document.domain!=location.hostname){if(f.ie&&f.ie<12){y=E}};var g=o.create('iframe',{id:e.id+'_ifr',frameBorder:'0',allowTransparency:'true',title:e.editorManager.translate('Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help'),style:{width:'100%',height:r,display:'block'}});g.onload=function(){g.onload=null;e.fire('load')};o.setAttrib(g,'src',y||'javascript:""');e.contentAreaContainer=i.iframeContainer;e.iframeElement=g;w=o.add(i.iframeContainer,g);if(p){try{e.getDoc()}catch(t){w.src=y=E}};if(i.editorContainer){o.get(i.editorContainer).style.display=e.orgDisplay;e.hidden=o.isHidden(i.editorContainer)};e.getElement().style.display='none';o.setAttrib(e.id,'aria-hidden',!0);if(!y){e.initContentBody()};a=w=i=null},initContentBody:function(t){var n=this,i=n.settings,f=n.getElement(),u=n.getDoc(),c,d;if(!i.inline){n.getElement().style.visibility=n.orgVisibility};if(!t&&!i.content_editable){u.open();u.write(n.iframeHTML);u.close()};if(i.content_editable){n.on('remove',function(){var e=this.getBody();o.removeClass(e,'mce-content-body');o.removeClass(e,'mce-edit-focus');o.setAttrib(e,'contentEditable',null)});o.addClass(f,'mce-content-body');n.contentDocument=u=i.content_document||document;n.contentWindow=i.content_window||window;n.bodyElement=f;i.content_document=i.content_window=null;i.root_name=f.nodeName.toLowerCase()};c=n.getBody();c.disabled=!0;if(!i.readonly){if(n.inline&&o.getStyle(c,'position',!0)=='static'){c.style.position='relative'};c.contentEditable=n.getParam('content_editable_state',!0)};c.disabled=!1;n.editorUpload=new F(n);n.schema=new I(i);n.dom=new e(u,{keep_values:!0,url_converter:n.convertURL,url_converter_scope:n,hex_colors:i.force_hex_style_colors,class_filter:i.class_filter,update_styles:!0,root_element:n.inline?n.getBody():null,collect:i.content_editable,schema:n.schema,onSetAttrib:function(e){n.fire('SetAttrib',e)}});n.parser=new N(i,n.schema);n.parser.addAttributeFilter('src,href,style,tabindex',function(e,t){var a=e.length,r,s=n.dom,i,o;while(a--){r=e[a];i=r.attr(t);o='data-mce-'+t;if(!r.attributes.map[o]){if(i.indexOf('data:')===0||i.indexOf('blob:')===0){continue};if(t==='style'){i=s.serializeStyle(s.parseStyle(i),r.name);if(!i.length){i=null};r.attr(o,i);r.attr(t,i)}
else if(t==='tabindex'){r.attr(o,i);r.attr(t,null)}
else{r.attr(o,n.convertURL(i,t,r.name))}}}});n.parser.addNodeFilter('script',function(e){var i=e.length,t,n;while(i--){t=e[i];n=t.attr('type')||'no/type';if(n.indexOf('mce-')!==0){t.attr('type','mce-'+n)}}});n.parser.addNodeFilter('#cdata',function(e){var n=e.length,t;while(n--){t=e[n];t.type=8;t.name='#comment';t.value='[CDATA['+t.value+']]'}});n.parser.addNodeFilter('p,h1,h2,h3,h4,h5,h6,div',function(e){var i=e.length,t,r=n.schema.getNonEmptyElements();while(i--){t=e[i];if(t.isEmpty(r)){t.append(new a('br',1)).shortEnded=!0}}});n.serializer=new s(i,n);n.selection=new h(n.dom,n.getWin(),n.serializer,n);n.formatter=new g(n);n.undoManager=new y(n);n.forceBlocks=new B(n);n.enterKey=new D(n);n._nodeChangeDispatcher=new r(n);n.fire('PreInit');if(!i.browser_spellcheck&&!i.gecko_spellcheck){u.body.spellcheck=!1;o.setAttrib(c,'spellcheck','false')};n.fire('PostRender');n.quirks=new H(n);if(i.directionality){c.dir=i.directionality};if(i.nowrap){c.style.whiteSpace='nowrap'};if(i.protect){n.on('BeforeSetContent',function(e){l(i.protect,function(t){e.content=e.content.replace(t,function(e){return'<!--mce:protected '+escape(e)+'-->'})})})};n.on('SetContent',function(){n.addVisual(n.getBody())});if(i.padd_empty_editor){n.on('PostProcess',function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,'')})};n.load({initial:!0,format:'html'});n.startContent=n.getContent({format:'raw'});n.initialized=!0;n.bindPendingEventDelegates();n.fire('init');n.focus(!0);n.nodeChanged({initial:!0});n.execCallback('init_instance_callback',n);if(n.contentStyles.length>0){d='';l(n.contentStyles,function(e){d+=e+'\r\n'});n.dom.addStyle(d)};l(n.contentCSS,function(e){if(!n.loadedCSS[e]){n.dom.loadCSS(e);n.loadedCSS[e]=!0}});if(i.auto_focus){setTimeout(function(){var e;if(i.auto_focus===!0){e=n}
else{e=n.editorManager.get(i.auto_focus)};if(!e.destroyed){e.focus()}},100)};f=u=c=null},focus:function(e){var n=this,s=n.selection,a=n.settings.content_editable,i,o,l=n.getDoc(),r;if(!e){i=s.getRng();if(i.item){o=i.item(0)};n._refreshContentEditable();if(!a){if(!f.opera){n.getBody().focus()};n.getWin().focus()};if(C||a){r=n.getBody();if(r.setActive){try{r.setActive()}catch(t){r.focus()}}
else{r.focus()};if(a){s.normalize()}};if(o&&o.ownerDocument==l){i=l.body.createControlRange();i.addElement(o);i.select()}};n.editorManager.setActive(n)},execCallback:function(e){var i=this,n=i.settings[e],t;if(!n){return};if(i.callbackLookup&&(t=i.callbackLookup[e])){n=t.func;t=t.scope};if(typeof n==='string'){t=n.replace(/\.\w+$/,'');t=t?x(t):0;n=x(n);i.callbackLookup=i.callbackLookup||{};i.callbackLookup[e]={func:n,scope:t}};return n.apply(t||i,Array.prototype.slice.call(arguments,1))},translate:function(e){var n=this.settings.language||'en',t=this.editorManager.i18n;if(!e){return''};return t.data[n+'.'+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,i){return t.data[n+'.'+i]||'{#'+i+'}'})},getLang:function(e,n){return(this.editorManager.i18n.data[(this.settings.language||'en')+'.'+e]||(n!==t?n:'{#'+e+'}'))},getParam:function(e,t,n){var i=e in this.settings?this.settings[e]:t,r;if(n==='hash'){r={};if(typeof i==='string'){l(i.indexOf('=')>0?i.split(/[;,](?![^=;,]*(?:[;,]|$))/):i.split(','),function(e){e=e.split('=');if(e.length>1){r[d(e[0])]=d(e[1])}
else{r[d(e[0])]=d(e)}})}
else{r=i};return r};return i},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;if(t.cmd){t.onclick=function(){n.execCommand(t.cmd)}};if(!t.text&&!t.icon){t.icon=e};n.buttons=n.buttons||{};t.tooltip=t.tooltip||t.title;n.buttons[e]=t},addMenuItem:function(e,t){var n=this;if(t.cmd){t.onclick=function(){n.execCommand(t.cmd)}};n.menuItems=n.menuItems||{};n.menuItems[e]=t},addContextToolbar:function(e,t){var n=this,i;n.contextToolbars=n.contextToolbars||[];if(typeof e=='string'){i=e;e=function(e){return n.dom.is(e,i)}};n.contextToolbars.push({predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,i){this.shortcuts.add(e,t,n,i)},execCommand:function(e,t,n,i){return this.editorCommands.execCommand(e,t,n,i)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){var e=this;if(e.hidden){e.hidden=!1;if(e.inline){e.getBody().contentEditable=!0}
else{o.show(e.getContainer());o.hide(e.id)};e.load();e.fire('show')}},hide:function(){var e=this,t=e.getDoc();if(!e.hidden){if(p&&t&&!e.inline){t.execCommand('SelectAll')};e.save();if(e.inline){e.getBody().contentEditable=!1;if(e==e.editorManager.focusedEditor){e.editorManager.focusedEditor=null}}
else{o.hide(e.getContainer());o.setStyle(e.id,'display',e.orgDisplay)};e.hidden=!0;e.fire('hide')}},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire('ProgressState',{state:e,time:t})},load:function(e){var i=this,n=i.getElement(),r;if(n){e=e||{};e.load=!0;r=i.setContent(n.value!==t?n.value:n.innerHTML,e);e.element=n;if(!e.no_events){i.fire('LoadContent',e)};e.element=n=null;return r}},save:function(e){var t=this,i=t.getElement(),n,r;if(!i||!t.initialized){return};e=e||{};e.save=!0;e.element=i;n=e.content=t.getContent(e);if(!e.no_events){t.fire('SaveContent',e)};if(e.format=='raw'){t.fire('RawSaveContent',e)};n=e.content;if(!/TEXTAREA|INPUT/i.test(i.nodeName)){if(!t.inline){i.innerHTML=n};if((r=o.getParent(t.id,'form'))){l(r.elements,function(e){if(e.name==t.id){e.value=n;return!1}})}}
else{i.value=n};e.element=i=null;if(e.set_dirty!==!1){t.isNotDirty=!0};return n},setContent:function(e,t){var n=this,i=n.getBody(),o,r;t=t||{};t.format=t.format||'html';t.set=!0;t.content=e;if(!t.no_events){n.fire('BeforeSetContent',t)};e=t.content;if(e.length===0||/^\s+$/.test(e)){r=p&&p<11?'':'<br data-mce-bogus="1">';if(i.nodeName=='TABLE'){e='<tr><td>'+r+'</td></tr>'}
else if(/^(UL|OL)$/.test(i.nodeName)){e='<li>'+r+'</li>'};o=n.settings.forced_root_block;if(o&&n.schema.isValidChild(i.nodeName.toLowerCase(),o.toLowerCase())){e=r;e=n.dom.createHTML(o,n.settings.forced_root_block_attrs,e)}
else if(!p&&!e){e='<br data-mce-bogus="1">'};n.dom.setHTML(i,e);n.fire('SetContent',t)}
else{if(t.format!=='raw'){e=new u({validate:n.validate},n.schema).serialize(n.parser.parse(e,{isRootContent:!0}))};t.content=d(e);n.dom.setHTML(i,t.content);if(!t.no_events){n.fire('SetContent',t)}};return t.content},getContent:function(e){var i=this,t,n=i.getBody();e=e||{};e.format=e.format||'html';e.get=!0;e.getInner=!0;if(!e.no_events){i.fire('BeforeGetContent',e)};if(e.format=='raw'){t=n.innerHTML}
else if(e.format=='text'){t=n.innerText||n.textContent}
else{t=i.serializer.serialize(n,e)};if(e.format!='text'){e.content=d(t)}
else{e.content=t};if(!e.no_events){i.fire('GetContent',e)};return e.content},insertContent:function(e,t){if(t){e=w({content:e},t)};this.execCommand('mceInsertContent',!1,e)},isDirty:function(){return!this.isNotDirty},getContainer:function(){var e=this;if(!e.container){e.container=o.get(e.editorContainer||e.id+'_parent')};return e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){if(!this.targetElm){this.targetElm=o.get(this.id)};return this.targetElm},getWin:function(){var e=this,t;if(!e.contentWindow){t=e.iframeElement;if(t){e.contentWindow=t.contentWindow}};return e.contentWindow},getDoc:function(){var e=this,t;if(!e.contentDocument){t=e.getWin();if(t){e.contentDocument=t.document}};return e.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(e,t,n){var r=this,i=r.settings;if(i.urlconverter_callback){return r.execCallback('urlconverter_callback',e,n,!0,t)};if(!i.convert_urls||(n&&n.nodeName=='LINK')||e.indexOf('file:')===0||e.length===0){return e};if(i.relative_urls){return r.documentBaseURI.toRelative(e)};e=r.documentBaseURI.toAbsolute(e,i.remove_script_host);return e},addVisual:function(e){var n=this,o=n.settings,i=n.dom,r;e=e||n.getBody();if(n.hasVisual===t){n.hasVisual=o.visual};l(i.select('table,a',e),function(e){var t;switch(e.nodeName){case'TABLE':r=o.visual_table_class||'mce-item-table';t=i.getAttrib(e,'border');if((!t||t=='0')&&n.hasVisual){i.addClass(e,r)}
else{i.removeClass(e,r)};return;case'A':if(!i.getAttrib(e,'href',!1)){t=i.getAttrib(e,'name')||e.id;r=o.visual_anchor_class||'mce-item-anchor';if(t&&n.hasVisual){i.addClass(e,r)}
else{i.removeClass(e,r)}};return}});n.fire('VisualAid',{element:e,hasVisual:n.hasVisual})},remove:function(){var e=this;if(!e.removed){e.save();e.removed=1;e.unbindAllNativeEvents();if(e.hasHiddenInput){o.remove(e.getElement().nextSibling)};if(!e.inline){if(p&&p<10){e.getDoc().execCommand('SelectAll',!1,null)};o.setStyle(e.id,'display',e.orgDisplay);e.getBody().onload=null};e.fire('remove');e.editorManager.remove(e);o.remove(e.getContainer());e.editorUpload.destroy();e.destroy()}},destroy:function(e){var t=this,n;if(t.destroyed){return};if(!e&&!t.removed){t.remove();return};if(!e){t.editorManager.off('beforeunload',t._beforeUnload);if(t.theme&&t.theme.destroy){t.theme.destroy()};t.selection.destroy();t.dom.destroy()};n=t.formElement;if(n){if(n._mceOldSubmit){n.submit=n._mceOldSubmit;n._mceOldSubmit=null};o.unbind(n,'submit reset',t.formEventDelegate)};t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null;t.bodyElement=t.contentDocument=t.contentWindow=null;t.iframeElement=t.targetElm=null;if(t.selection){t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null};t.destroyed=1},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()},_refreshContentEditable:function(){var n=this,e,t;if(n._isHidden()){e=n.getBody();t=e.parentNode;t.removeChild(e);t.appendChild(e);e.focus()}},_isHidden:function(){var e;if(!C){return 0};e=this.selection.getSel();return(!e||!e.rangeCount||e.rangeCount===0)}};w(b.prototype,O);return b});n('tinymce/util/I18n',[],function(){'use strict';var e={},t='en';return{setCode:function(e){if(e){t=e;this.rtl=this.data[e]?this.data[e]._dir==='rtl':!1}},getCode:function(){return t},rtl:!1,add:function(t,n){var i=e[t];if(!i){e[t]=i={}};for(var r in n){i[r]=n[r]};this.setCode(t)},translate:function(n){var i;i=e[t];if(!i){i={}};if(typeof n=='undefined'){return n};if(typeof n!='string'&&n.raw){return n.raw};if(n.push){var r=n.slice(1);n=(i[n[0]]||n[0]).replace(/\{([0-9]+)\}/g,function(e,t){return r[t]})};return(i[n]||n).replace(/{context:\w+}$/,'')},data:e}});n('tinymce/FocusManager',['tinymce/dom/DOMUtils','tinymce/Env'],function(e,t){var o,r,i,n=e.DOM;function a(e){function l(){try{return document.activeElement}catch(e){return document.body}};function d(e,t){if(t&&t.startContainer){if(!e.isChildOf(t.startContainer,e.getRoot())||!e.isChildOf(t.endContainer,e.getRoot())){return};return{startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset}};return t};function f(e,t){var n;if(t.startContainer){n=e.getDoc().createRange();n.setStart(t.startContainer,t.startOffset);n.setEnd(t.endContainer,t.endOffset)}
else{n=t};return n};function s(e){return!!n.getParent(e,a.isEditorUIElement)};function u(a){var c=a.editor;c.on('init',function(){if(c.inline||t.ie){if('onbeforedeactivate' in document&&t.ie<9){c.dom.bind(c.getBody(),'beforedeactivate',function(e){if(e.target!=c.getBody()){return};try{c.lastRng=c.selection.getRng()}catch(t){}})}
else{c.on('nodechange mouseup keyup',function(e){var t=l();if(e.type=='nodechange'&&e.selectionChange){return};if(t&&t.id==c.id+'_ifr'){t=c.getBody()};if(c.dom.isChildOf(t,c.getBody())){c.lastRng=c.selection.getRng()}})};if(t.webkit&&!o){o=function(){var t=e.activeEditor;if(t&&t.selection){var n=t.selection.getRng();if(n&&!n.collapsed){c.lastRng=n}}};n.bind(document,'selectionchange',o)}}});c.on('setcontent',function(){c.lastRng=null});c.on('mousedown',function(){c.selection.lastFocusBookmark=null});c.on('focusin',function(){var t=e.focusedEditor;if(c.selection.lastFocusBookmark){c.selection.setRng(f(c,c.selection.lastFocusBookmark));c.selection.lastFocusBookmark=null};if(t!=c){if(t){t.fire('blur',{focusedEditor:c})};e.setActive(c);e.focusedEditor=c;c.fire('focus',{blurredEditor:t});c.focus(!0)};c.lastRng=null});c.on('focusout',function(){window.setTimeout(function(){var t=e.focusedEditor;if(!s(l())&&t==c){c.fire('blur',{focusedEditor:null});e.focusedEditor=null;if(c.selection){c.selection.lastFocusBookmark=null}}},0)});if(!r){r=function(t){var n=e.activeEditor;if(n&&t.target.ownerDocument==document){if(n.selection&&t.target!=n.getBody()){n.selection.lastFocusBookmark=d(n.dom,n.lastRng)};if(t.target!=document.body&&!s(t.target)&&e.focusedEditor==n){n.fire('blur',{focusedEditor:null});e.focusedEditor=null}}};n.bind(document,'focusin',r)};if(c.inline&&!i){i=function(t){var n=e.activeEditor;if(n.inline&&!n.dom.isChildOf(t.target,n.getBody())){var i=n.selection.getRng();if(!i.collapsed){n.lastRng=i}}};n.bind(document,'mouseup',i)}};function c(t){if(e.focusedEditor==t.editor){e.focusedEditor=null};if(!e.activeEditor){n.unbind(document,'selectionchange',o);n.unbind(document,'focusin',r);n.unbind(document,'mouseup',i);o=r=i=null}};e.on('AddEditor',u);e.on('RemoveEditor',c)};a.isEditorUIElement=function(e){return e.className.toString().indexOf('mce-')!==-1};return a});n('tinymce/EditorManager',['tinymce/Editor','tinymce/dom/DomQuery','tinymce/dom/DOMUtils','tinymce/util/URI','tinymce/Env','tinymce/util/Tools','tinymce/util/Observable','tinymce/util/I18n','tinymce/FocusManager'],function(e,t,n,i,r,o,c,u,f){var a=n.DOM,b=o.explode,l=o.each,g=o.extend,w=0,d,s,p=!1;function m(e){l(s.editors,function(t){t.fire('ResizeWindow',e)})};function h(e,n){if(n!==p){if(n){t(window).on('resize',m)}
else{t(window).off('resize',m)};p=n}};function v(e){var t=s.editors,i;delete t[e.id];for(var n=0;n<t.length;n++){if(t[n]==e){t.splice(n,1);i=!0;break}};if(s.activeEditor==e){s.activeEditor=t[0]};if(s.focusedEditor==e){s.focusedEditor=null};return i};function y(e){if(e&&!(e.getContainer()||e.getBody()).parentNode){v(e);e.unbindAllNativeEvents();e.destroy(!0);e=null};return e};s={$:t,majorVersion:'4',minorVersion:'2.8',releaseDate:'2015-11-13',editors:[],i18n:u,activeEditor:null,setup:function(){var n=this,o,t,a='',r,e;t=document.location.href;if(/^[^:]+:\/\/\/?[^\/]+\//.test(t)){t=t.replace(/[\?#].*$/,'').replace(/[\/\\][^\/]+$/,'');if(!/[\/\\]$/.test(t)){t+='/'}};r=window.tinymce||window.tinyMCEPreInit;if(r){o=r.base||r.baseURL;a=r.suffix}
else{var l=document.getElementsByTagName('script');for(var s=0;s<l.length;s++){e=l[s].src;var c=e.substring(e.lastIndexOf('/'));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(e)){if(c.indexOf('.min')!=-1){a='.min'};o=e.substring(0,e.lastIndexOf('/'));break}};if(!o&&document.currentScript){e=document.currentScript.src;if(e.indexOf('.min')!=-1){a='.min'};o=e.substring(0,e.lastIndexOf('/'))}};n.baseURL=new i(t).toAbsolute(o);n.documentBaseURL=t;n.baseURI=new i(n.baseURL);n.suffix=a;n.focusManager=new f(n)},init:function(t){var r=this,u=[];function i(e){var t=e.id;if(!t){t=e.name;if(t&&!a.get(t)){t=e.name}
else{t=a.uniqueId()};e.setAttribute('id',t)};return t};function n(t,n,i){if(!y(r.get(t))){var o=new e(t,n,r);o.targetElm=o.targetElm||i;u.push(o);o.render()}};function o(e){var n=t[e];if(!n){return};return n.apply(r,Array.prototype.slice.call(arguments,2))};function c(e,t){return t.constructor===RegExp?t.test(e.className):a.hasClass(e,t)};function s(){var e,r;a.unbind(window,'ready',s);o('onpageload');if(t.types){l(t.types,function(e){l(a.select(e.selector),function(r){n(i(r),g({},t,e),r)})});return}
else if(t.selector){l(a.select(t.selector),function(e){n(i(e),t,e)});return}
else if(t.target){n(i(t.target),t)};switch(t.mode){case'exact':e=t.elements||'';if(e.length>0){l(b(e),function(e){var i;if((i=a.get(e))){n(e,t,i)}
else{l(document.forms,function(i){l(i.elements,function(i){if(i.name===e){e='mce_editor_'+w++;a.setAttrib(i,'id',e);n(e,t,i)}})})}})};break;case'textareas':case'specific_textareas':l(a.select('textarea'),function(e){if(t.editor_deselector&&c(e,t.editor_deselector)){return};if(!t.editor_selector||c(e,t.editor_selector)){n(i(e),t,e)}});break};if(t.oninit){e=r=0;l(u,function(t){r++;if(!t.initialized){t.on('init',function(){e++;if(e==r){o('oninit')}})}
else{e++};if(e==r){o('oninit')}})}};r.settings=t;a.bind(window,'ready',s)},get:function(e){if(!arguments.length){return this.editors};return e in this.editors?this.editors[e]:null},add:function(e){var t=this,n=t.editors;n[e.id]=e;n.push(e);h(n,!0);t.activeEditor=e;t.fire('AddEditor',{editor:e});if(!d){d=function(){t.fire('BeforeUnload')};a.bind(window,'beforeunload',d)};return e},createEditor:function(t,n){return this.add(new e(t,n,this))},remove:function(e){var r=this,i,n=r.editors,t;if(!e){for(i=n.length-1;i>=0;i--){r.remove(n[i])};return};if(typeof e=='string'){e=e.selector||e;l(a.select(e),function(e){t=n[e.id];if(t){r.remove(t)}});return};t=e;if(!n[t.id]){return null};if(v(t)){r.fire('RemoveEditor',{editor:t})};if(!n.length){a.unbind(window,'beforeunload',d)};t.remove();h(n,n.length>0);return t},execCommand:function(t,n,i){var r=this,o=r.get(i);switch(t){case'mceAddEditor':if(!r.get(i)){new e(i,r.settings,r).render()};return!0;case'mceRemoveEditor':if(o){o.remove()};return!0;case'mceToggleEditor':if(!o){r.execCommand('mceAddEditor',0,i);return!0};if(o.isHidden()){o.show()}
else{o.hide()};return!0};if(r.activeEditor){return r.activeEditor.execCommand(t,n,i)};return!1},triggerSave:function(){l(this.editors,function(e){e.save()})},addI18n:function(e,t){u.add(e,t)},translate:function(e){return u.translate(e)},setActive:function(e){var t=this.activeEditor;if(this.activeEditor!=e){if(t){t.fire('deactivate',{relatedTarget:e})};e.fire('activate',{relatedTarget:t})};this.activeEditor=e}};g(s,c);s.setup();window.tinymce=window.tinyMCE=s;return s});n('tinymce/LegacyInput',['tinymce/EditorManager','tinymce/util/Tools'],function(e,t){var n=t.each,i=t.explode;e.on('AddEditor',function(e){var t=e.editor;t.on('preInit',function(){var s,a,e,o=t.settings;function r(t,i){n(i,function(n,i){if(n){e.setStyle(t,i,n)}});e.rename(t,'span')};function l(i){e=t.dom;if(o.convert_fonts_to_spans){n(e.select('font,u,strike',i.node),function(t){s[t.nodeName.toLowerCase()](e,t)})}};if(o.inline_styles){a=i(o.font_size_legacy_values);s={font:function(e,t){r(t,{backgroundColor:t.style.backgroundColor,color:t.color,fontFamily:t.face,fontSize:a[parseInt(t.size,10)-1]})},u:function(e,n){if(t.settings.schema==='html4'){r(n,{textDecoration:'underline'})}},strike:function(e,t){r(t,{textDecoration:'line-through'})}};t.on('PreProcess SetContent',l)}})})});n('tinymce/util/XHR',['tinymce/util/Observable','tinymce/util/Tools'],function(e,t){var n={send:function(e){var i,o=0;function r(){if(!e.async||i.readyState==4||o++>10000){if(e.success&&o<10000&&i.status==200){e.success.call(e.success_scope,''+i.responseText,i,e)}
else if(e.error){e.error.call(e.error_scope,o>10000?'TIMED_OUT':'GENERAL',i,e)};i=null}
else{setTimeout(r,10)}};e.scope=e.scope||this;e.success_scope=e.success_scope||e.scope;e.error_scope=e.error_scope||e.scope;e.async=e.async===!1?!1:!0;e.data=e.data||'';i=new XMLHttpRequest();if(i){if(i.overrideMimeType){i.overrideMimeType(e.content_type)};i.open(e.type||(e.data?'POST':'GET'),e.url,e.async);if(e.crossDomain){i.withCredentials=!0};if(e.content_type){i.setRequestHeader('Content-Type',e.content_type)};if(e.requestheaders){t.each(e.requestheaders,function(e){i.setRequestHeader(e.key,e.value)})};i.setRequestHeader('X-Requested-With','XMLHttpRequest');i=n.fire('beforeSend',{xhr:i,settings:e}).xhr;i.send(e.data);if(!e.async){return r()};setTimeout(r,10)}}};t.extend(n,e);return n});n('tinymce/util/JSON',[],function(){function e(t,n){var r,i,a,o;n=n||'"';if(t===null){return'null'};a=typeof t;if(a=='string'){i='\bb\tt\nn\ff\rr""\'\'\\\\';return n+t.replace(/([\u0080-\uFFFF\x00-\x1f"'\\])/g,function(e,t){if(n==='"'&&e==='\''){return e};r=i.indexOf(t);if(r+1){return'\\'+i.charAt(r+1)};e=t.charCodeAt().toString(16);return'\\u0000'.substring(e.length)+e})+n};if(a=='object'){if(t.hasOwnProperty&&Object.prototype.toString.call(t)==='[object Array]'){for(r=0,i='[';r<t.length;r++){i+=(r>0?',':'')+e(t[r],n)};return i+']'};i='{';for(o in t){if(t.hasOwnProperty(o)){i+=typeof t[o]!='function'?(i.length>1?','+n:n)+o+n+':'+e(t[o],n):''}};return i+'}'};return''+t};return{serialize:e,parse:function(e){try{return window[String.fromCharCode(101)+'val']('('+e+')')}catch(t){}}}});n('tinymce/util/JSONRequest',['tinymce/util/JSON','tinymce/util/XHR','tinymce/util/Tools'],function(e,t,n){var r=n.extend;function i(e){this.settings=r({},e);this.count=0};i.sendRPC=function(e){return new i().send(e)};i.prototype={send:function(n){var i=n.error,o=n.success;n=r(this.settings,n);n.success=function(t,r){t=e.parse(t);if(typeof t=='undefined'){t={error:'JSON Parse error.'}};if(t.error){i.call(n.error_scope||n.scope,t.error,r)}
else{o.call(n.success_scope||n.scope,t.result)}};n.error=function(e,t){if(i){i.call(n.error_scope||n.scope,e,t)}};n.data=e.serialize({id:n.id||'c'+(this.count++),method:n.method,params:n.params});n.content_type='application/json';t.send(n)}};return i});n('tinymce/util/JSONP',['tinymce/dom/DOMUtils'],function(e){return{callbacks:{},count:0,send:function(n){var i=this,o=e.DOM,r=n.count!==t?n.count:i.count,a='tinymce_jsonp_'+r;i.callbacks[r]=function(e){o.remove(a);delete i.callbacks[r];n.callback(e)};o.add(o.doc.body,'script',{id:a,src:n.url,type:'text/javascript'});i.count++}}});n('tinymce/util/LocalStorage',[],function(){var l,i,n,o,r,a;try{if(window.localStorage){return localStorage}}catch(e){};r='tinymce';i=document.documentElement;a=!!i.addBehavior;if(a){i.addBehavior('#default#userData')};function c(){o=[];for(var e in n){o.push(e)};l.length=o.length};function u(){var o,u,f,l=0;n={};if(!a){return};function s(e){var i,n;n=e!==t?l+e:u.indexOf(',',l);if(n===-1||n>u.length){return null};i=u.substring(l,n);l=n+1;return i};i.load(r);u=i.getAttribute(r)||'';do{var e=s();if(e===null){break};o=s(parseInt(e,32)||0);if(o!==null){e=s();if(e===null){break};f=s(parseInt(e,32)||0);if(o){n[o]=f}}}
while(o!==null);c()};function s(){var o,t='';if(!a){return};for(var s in n){o=n[s];t+=(t?',':'')+s.length.toString(32)+','+s+','+o.length.toString(32)+','+o};i.setAttribute(r,t);try{i.save(r)}catch(e){};c()};l={key:function(e){return o[e]},getItem:function(e){return e in n?n[e]:null},setItem:function(e,t){n[e]=''+t;s()},removeItem:function(e){delete n[e];s()},clear:function(){n={};s()}};u();return l});n('tinymce/Compat',['tinymce/dom/DOMUtils','tinymce/dom/EventUtils','tinymce/dom/ScriptLoader','tinymce/AddOnManager','tinymce/util/Tools','tinymce/Env'],function(e,t,n,i,r,o){var a=window.tinymce;a.DOM=e.DOM;a.ScriptLoader=n.ScriptLoader;a.PluginManager=i.PluginManager;a.ThemeManager=i.ThemeManager;a.dom=a.dom||{};a.dom.Event=t.Event;r.each(r,function(e,t){a[t]=e});r.each('isOpera isWebKit isIE isGecko isMac'.split(' '),function(e){a[e]=o[e.substr(2).toLowerCase()]});return{}});n('tinymce/ui/Layout',['tinymce/util/Class','tinymce/util/Tools'],function(e,t){'use strict';return e.extend({Defaults:{firstControlClass:'first',lastControlClass:'last'},init:function(e){this.settings=t.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var a=this,o=a.settings,r,i,t,n;r=o.firstControlClass;i=o.lastControlClass;e.each(function(e){e.classes.remove(r).remove(i).add(o.controlClass);if(e.visible()){if(!t){t=e};n=e}});if(t){t.classes.add(r)};if(n){n.classes.add(i)}},renderHtml:function(e){var n=this,t='';n.applyClasses(e.items());e.items().each(function(e){t+=e.renderHtml()});return t},recalc:function(){},postRender:function(){},isNative:function(){return!1}})});n('tinymce/ui/AbsoluteLayout',['tinymce/ui/Layout'],function(e){'use strict';return e.extend({Defaults:{containerClass:'abs-layout',controlClass:'abs-layout-item'},recalc:function(e){e.items().filter(':visible').each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h});if(e.recalc){e.recalc()}})},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}})});n('tinymce/ui/Tooltip',['tinymce/ui/Control','tinymce/ui/Movable'],function(e,t){return e.extend({Mixins:[t],Defaults:{classes:'widget tooltip tooltip-n'},renderHtml:function(){var e=this,t=e.classPrefix;return('<div id="'+e._id+'" class="'+e.classes+'" role="presentation"><div class="'+t+'tooltip-arrow"></div><div class="'+t+'tooltip-inner">'+e.encode(e.state.get('text'))+'</div></div>')},bindStates:function(){var e=this;e.state.on('change:text',function(t){e.getEl().lastChild.innerHTML=e.encode(t.value)});return e._super()},repaint:function(){var n=this,e,t;e=n.getEl().style;t=n._layoutRect;e.left=t.x+'px';e.top=t.y+'px';e.zIndex=0xFFFF+0xFFFF}})});n('tinymce/ui/Widget',['tinymce/ui/Control','tinymce/ui/Tooltip'],function(e,t){'use strict';var n,i=e.extend({init:function(e){var t=this;t._super(e);e=t.settings;t.canFocus=!0;if(e.tooltip&&i.tooltips!==!1){t.on('mouseenter',function(n){var i=t.tooltip().moveTo(-0xFFFF);if(n.control==t){var r=i.text(e.tooltip).show().testMoveRel(t.getEl(),['bc-tc','bc-tl','bc-tr']);i.classes.toggle('tooltip-n',r=='bc-tc');i.classes.toggle('tooltip-nw',r=='bc-tl');i.classes.toggle('tooltip-ne',r=='bc-tr');i.moveRel(t.getEl(),r)}
else{i.hide()}});t.on('mouseleave mousedown click',function(){t.tooltip().hide()})};t.aria('label',e.ariaLabel||e.tooltip)},tooltip:function(){if(!n){n=new t({type:'tooltip'});n.renderTo()};return n},postRender:function(){var e=this,t=e.settings;e._super();if(!e.parent()&&(t.width||t.height)){e.initLayoutRect();e.repaint()};if(t.autofocus){e.focus()}},bindStates:function(){var e=this;function n(t){e.aria('disabled',t);e.classes.toggle('disabled',t)};function t(t){e.aria('pressed',t);e.classes.toggle('active',t)};e.state.on('change:disabled',function(e){n(e.value)});e.state.on('change:active',function(e){t(e.value)});if(e.state.get('disabled')){n(!0)};if(e.state.get('active')){t(!0)};return e._super()},remove:function(){this._super();if(n){n.remove();n=null}}});return i});n('tinymce/ui/Button',['tinymce/ui/Widget'],function(e){'use strict';return e.extend({Defaults:{classes:'widget btn',role:'button'},init:function(e){var t=this,n;t._super(e);e=t.settings;n=t.settings.size;t.on('click mousedown',function(e){e.preventDefault()});t.on('touchstart',function(e){t.fire('click',e);e.preventDefault()});if(e.subtype){t.classes.add(e.subtype)};if(n){t.classes.add('btn-'+n)};if(e.icon){t.icon(e.icon)}},icon:function(e){if(!arguments.length){return this.state.get('icon')};this.state.set('icon',e);return this},repaint:function(){var t=this.getEl().firstChild,e;if(t){e=t.style;e.width=e.height='100%'};this._super()},renderHtml:function(){var t=this,o=t._id,r=t.classPrefix,n=t.state.get('icon'),e,i=t.state.get('text');e=t.settings.image;if(e){n='none';if(typeof e!='string'){e=window.getSelection?e[0]:e[1]};e=' style="background-image: url(\''+e+'\')"'}
else{e=''};if(i){t.classes.add('btn-has-text')};n=t.settings.icon?r+'ico '+r+'i-'+n:'';return('<div id="'+o+'" class="'+t.classes+'" tabindex="-1" aria-labelledby="'+o+'"><button role="presentation" type="button" tabindex="-1">'+(n?'<i class="'+n+'"'+e+'></i>':'')+(i?t.encode(i):'')+'</button></div>')},bindStates:function(){var e=this;function t(t){var n=e.getEl().firstChild.firstChild;for(;n;n=n.nextSibling){if(n.nodeType==3){n.data=e.translate(t)}};e.classes.toggle('btn-has-text',!!t)};e.state.on('change:text',function(e){t(e.value)});e.state.on('change:icon',function(n){var o=n.value,a=e.classPrefix;e.settings.icon=o;o=o?a+'ico '+a+'i-'+e.settings.icon:'';var r=e.getEl().firstChild,i=r.getElementsByTagName('i')[0];if(o){if(!i||i!=r.firstChild){i=document.createElement('i');r.insertBefore(i,r.firstChild)};i.className=o}
else if(i){r.removeChild(i)};t(e.state.get('text'))});return e._super()}})});n('tinymce/ui/ButtonGroup',['tinymce/ui/Container'],function(e){'use strict';return e.extend({Defaults:{defaultType:'button',role:'group'},renderHtml:function(){var e=this,t=e._layout;e.classes.add('btn-group');e.preRender();t.preRender(e);return('<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+(e.settings.html||'')+t.renderHtml(e)+'</div></div>')}})});n('tinymce/ui/Checkbox',['tinymce/ui/Widget'],function(e){'use strict';return e.extend({Defaults:{classes:'checkbox',role:'checkbox',checked:!1},init:function(e){var t=this;t._super(e);t.on('click mousedown',function(e){e.preventDefault()});t.on('click',function(e){e.preventDefault();if(!t.disabled()){t.checked(!t.checked())}});t.checked(t.settings.checked)},checked:function(e){if(!arguments.length){return this.state.get('checked')};this.state.set('checked',e);return this},value:function(e){if(!arguments.length){return this.checked()};return this.checked(e)},renderHtml:function(){var e=this,n=e._id,t=e.classPrefix;return('<div id="'+n+'" class="'+e.classes+'" unselectable="on" aria-labelledby="'+n+'-al" tabindex="-1"><i class="'+t+'ico '+t+'i-checkbox"></i><span id="'+n+'-al" class="'+t+'label">'+e.encode(e.state.get('text'))+'</span></div>')},bindStates:function(){var e=this;function t(t){e.classes.toggle('checked',t);e.aria('checked',t)};e.state.on('change:text',function(t){e.getEl('al').firstChild.data=e.translate(t.value)});e.state.on('change:checked change:value',function(n){e.fire('change');t(n.value)});e.state.on('change:icon',function(t){var i=t.value,o=e.classPrefix;if(typeof i=='undefined'){return e.settings.icon};e.settings.icon=i;i=i?o+'ico '+o+'i-'+e.settings.icon:'';var r=e.getEl().firstChild,n=r.getElementsByTagName('i')[0];if(i){if(!n||n!=r.firstChild){n=document.createElement('i');r.insertBefore(n,r.firstChild)};n.className=i}
else if(n){r.removeChild(n)}});if(e.state.get('checked')){t(!0)};return e._super()}})});n('tinymce/ui/ComboBox',['tinymce/ui/Widget','tinymce/ui/Factory','tinymce/ui/DomUtils','tinymce/dom/DomQuery'],function(e,t,n,i){'use strict';return e.extend({init:function(e){var t=this;t._super(e);e=t.settings;t.classes.add('combobox');t.subinput=!0;t.ariaTarget='inp';e.menu=e.menu||e.values;if(e.menu){e.icon='caret'};t.on('click',function(n){var r=n.target,o=t.getEl();if(!i.contains(o,r)&&r!=o){return}
while(r&&r!=o){if(r.id&&r.id.indexOf('-open')!=-1){t.fire('action');if(e.menu){t.showMenu();if(n.aria){t.menu.items()[0].focus()}}};r=r.parentNode}});t.on('keydown',function(e){if(e.target.nodeName=='INPUT'&&e.keyCode==13){t.parents().reverse().each(function(n){var r=t.state.get('value'),i=t.getEl('inp').value;e.preventDefault();t.state.set('value',i);if(r!=i){t.fire('change')};if(n.hasEventListeners('submit')&&n.toJSON){n.fire('submit',{data:n.toJSON()});return!1}})}});t.on('keyup',function(e){if(e.target.nodeName=='INPUT'){t.state.set('value',e.target.value)}})},showMenu:function(){var e=this,i=e.settings,n;if(!e.menu){n=i.menu||[];if(n.length){n={type:'menu',items:n}}
else{n.type=n.type||'menu'};e.menu=t.create(n).parent(e).renderTo(e.getContainerElm());e.fire('createmenu');e.menu.reflow();e.menu.on('cancel',function(t){if(t.control===e.menu){e.focus()}});e.menu.on('show hide',function(t){t.control.items().each(function(t){t.active(t.value()==e.value())})}).fire('show');e.menu.on('select',function(t){e.value(t.control.value())});e.on('focusin',function(t){if(t.target.tagName.toUpperCase()=='INPUT'){e.menu.hide()}});e.aria('expanded',!0)};e.menu.show();e.menu.layoutRect({w:e.layoutRect().w});e.menu.moveRel(e.getEl(),e.isRtl()?['br-tr','tr-br']:['bl-tl','tl-bl'])},focus:function(){this.getEl('inp').focus()},repaint:function(){var e=this,l=e.getEl(),a=e.getEl('open'),s=e.layoutRect(),t,o;if(a){t=s.w-n.getSize(a).width-10}
else{t=s.w-10};var r=document;if(r.all&&(!r.documentMode||r.documentMode<=8)){o=(e.layoutRect().h-2)+'px'};i(l.firstChild).css({width:t,lineHeight:o});e._super();return e},postRender:function(){var e=this;i(this.getEl('inp')).on('change',function(t){e.state.set('value',t.target.value);e.fire('change',t)});return e._super()},renderHtml:function(){var t=this,a=t._id,e=t.settings,i=t.classPrefix,l=t.state.get('value')||'',n,o,s='',r='';if('spellcheck' in e){r+=' spellcheck="'+e.spellcheck+'"'};if(e.maxLength){r+=' maxlength="'+e.maxLength+'"'};if(e.size){r+=' size="'+e.size+'"'};if(e.subtype){r+=' type="'+e.subtype+'"'};if(t.disabled()){r+=' disabled="disabled"'};n=e.icon;if(n&&n!='caret'){n=i+'ico '+i+'i-'+e.icon};o=t.state.get('text');if(n||o){s=('<div id="'+a+'-open" class="'+i+'btn '+i+'open" tabIndex="-1" role="button"><button id="'+a+'-action" type="button" hidefocus="1" tabindex="-1">'+(n!='caret'?'<i class="'+n+'"></i>':'<i class="'+i+'caret"></i>')+(o?(n?' ':'')+o:'')+'</button></div>');t.classes.add('has-open')};return('<div id="'+a+'" class="'+t.classes+'"><input id="'+a+'-inp" class="'+i+'textbox" value="'+t.encode(l,!1)+'" hidefocus="1"'+r+' placeholder="'+t.encode(e.placeholder)+'" />'+s+'</div>')},value:function(e){if(arguments.length){this.state.set('value',e);return this};if(this.state.get('rendered')){this.state.set('value',this.getEl('inp').value)};return this.state.get('value')},bindStates:function(){var e=this;e.state.on('change:value',function(t){if(e.getEl('inp').value!=t.value){e.getEl('inp').value=t.value}});e.state.on('change:disabled',function(t){e.getEl('inp').disabled=t.value});return e._super()},remove:function(){i(this.getEl('inp')).off();this._super()}})});n('tinymce/ui/ColorBox',['tinymce/ui/ComboBox'],function(e){'use strict';return e.extend({init:function(e){var t=this;e.spellcheck=!1;if(e.onaction){e.icon='none'};t._super(e);t.classes.add('colorbox');t.on('change keyup postrender',function(){t.repaintColor(t.value())})},repaintColor:function(e){var n=this.getEl().getElementsByTagName('i')[0];if(n){try{n.style.background=e}catch(t){}}},bindStates:function(){var e=this;e.state.on('change:value',function(t){if(e._rendered){e.repaintColor(t.value)}});return e._super()}})});n('tinymce/ui/PanelButton',['tinymce/ui/Button','tinymce/ui/FloatPanel'],function(e,t){'use strict';return e.extend({showPanel:function(){var e=this,i=e.settings;e.active(!0);if(!e.panel){var n=i.panel;if(n.type){n={layout:'grid',items:n}};n.role=n.role||'dialog';n.popover=!0;n.autohide=!0;n.ariaRoot=!0;e.panel=new t(n).on('hide',function(){e.active(!1)}).on('cancel',function(t){t.stopPropagation();e.focus();e.hidePanel()}).parent(e).renderTo(e.getContainerElm());e.panel.fire('show');e.panel.reflow()}
else{e.panel.show()};e.panel.moveRel(e.getEl(),i.popoverAlign||(e.isRtl()?['bc-tr','bc-tc']:['bc-tl','bc-tc']))},hidePanel:function(){var e=this;if(e.panel){e.panel.hide()}},postRender:function(){var e=this;e.aria('haspopup',!0);e.on('click',function(t){if(t.control===e){if(e.panel&&e.panel.visible()){e.hidePanel()}
else{e.showPanel();e.panel.focus(!!t.aria)}}});return e._super()},remove:function(){if(this.panel){this.panel.remove();this.panel=null};return this._super()}})});n('tinymce/ui/ColorButton',['tinymce/ui/PanelButton','tinymce/dom/DOMUtils'],function(e,t){'use strict';var n=t.DOM;return e.extend({init:function(e){this._super(e);this.classes.add('colorbutton')},color:function(e){if(e){this._color=e;this.getEl('preview').style.backgroundColor=e;return this};return this._color},resetColor:function(){this._color=null;this.getEl('preview').style.backgroundColor=null;return this},renderHtml:function(){var e=this,r=e._id,t=e.classPrefix,i=e.state.get('text'),n=e.settings.icon?t+'ico '+t+'i-'+e.settings.icon:'',o=e.settings.image?' style="background-image: url(\''+e.settings.image+'\')"':'';return('<div id="'+r+'" class="'+e.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(n?'<i class="'+n+'"'+o+'></i>':'')+'<span id="'+r+'-preview" class="'+t+'preview"></span>'+(i?(n?' ':'')+(i):'')+'</button><button type="button" class="'+t+'open" hidefocus="1" tabindex="-1"> <i class="'+t+'caret"></i></button></div>')},postRender:function(){var e=this,t=e.settings.onclick;e.on('click',function(i){if(i.aria&&i.aria.key=='down'){return};if(i.control==e&&!n.getParent(i.target,'.'+e.classPrefix+'open')){i.stopImmediatePropagation();t.call(e,i)}});delete e.settings.onclick;return e._super()}})});n('tinymce/util/Color',[],function(){var n=Math.min,t=Math.max,e=Math.round;function i(i){var s=this,a=0,o=0,r=0;function f(i,r,o){var l,u,c,f,a,s;l=0;u=0;c=0;i=i/255;r=r/255;o=o/255;a=n(i,n(r,o));s=t(i,t(r,o));if(a==s){c=a;return{h:0,s:0,v:c*100}};f=(i==a)?r-o:((o==a)?i-r:o-i);l=(i==a)?3:((o==a)?1:5);l=60*(l-f/(s-a));u=(s-a)/s;c=s;return{h:e(l),s:e(u*100),v:e(c*100)}};function d(i,s,l){var d,c,u,f;i=(parseInt(i,10)||0)%360;s=parseInt(s,10)/100;l=parseInt(l,10)/100;s=t(0,n(s,1));l=t(0,n(l,1));if(s===0){a=o=r=e(255*l);return};d=i/60;c=l*s;u=c*(1-Math.abs(d%2-1));f=l-c;switch(Math.floor(d)){case 0:a=c;o=u;r=0;break;case 1:a=u;o=c;r=0;break;case 2:a=0;o=c;r=u;break;case 3:a=0;o=u;r=c;break;case 4:a=u;o=0;r=c;break;case 5:a=c;o=0;r=u;break;default:a=o=r=0};a=e(255*(a+f));o=e(255*(o+f));r=e(255*(r+f))};function m(){function e(e){e=parseInt(e,10).toString(16);return e.length>1?e:'0'+e};return'#'+e(a)+e(o)+e(r)};function u(){return{r:a,g:o,b:r}};function c(){return f(a,o,r)};function l(e){var t;if(typeof e=='object'){if('r' in e){a=e.r;o=e.g;r=e.b}
else if('v' in e){d(e.h,e.s,e.v)}}
else{if((t=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))){a=parseInt(t[1],10);o=parseInt(t[2],10);r=parseInt(t[3],10)}
else if((t=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))){a=parseInt(t[1],16);o=parseInt(t[2],16);r=parseInt(t[3],16)}
else if((t=/#([0-F])([0-F])([0-F])/gi.exec(e))){a=parseInt(t[1]+t[1],16);o=parseInt(t[2]+t[2],16);r=parseInt(t[3]+t[3],16)}};a=a<0?0:(a>255?255:a);o=o<0?0:(o>255?255:o);r=r<0?0:(r>255?255:r);return s};if(i){l(i)};s.toRgb=u;s.toHsv=c;s.toHex=m;s.parse=l};return i});n('tinymce/ui/ColorPicker',['tinymce/ui/Widget','tinymce/ui/DragHelper','tinymce/ui/DomUtils','tinymce/util/Color'],function(e,t,n,i){'use strict';return e.extend({Defaults:{classes:'widget colorpicker'},init:function(e){this._super(e)},postRender:function(){var e=this,c=e.color(),r,f,m,a,d;f=e.getEl('h');m=e.getEl('hp');a=e.getEl('sv');d=e.getEl('svp');function u(e,t){var o=n.getPos(e),i,r;i=t.pageX-o.x;r=t.pageY-o.y;i=Math.max(0,Math.min(i/e.clientWidth,1));r=Math.max(0,Math.min(r/e.clientHeight,1));return{x:i,y:r}};function o(t,r){var o=(360-t.h)/360;n.css(m,{top:(o*100)+'%'});if(!r){n.css(d,{left:t.s+'%',top:(100-t.v)+'%'})};a.style.background=new i({s:100,v:100,h:t.h}).toHex();e.color().parse({s:t.s,v:t.v,h:t.h})};function s(t){var n;n=u(a,t);r.s=n.x*100;r.v=(1-n.y)*100;o(r);e.fire('change')};function l(t){var n;n=u(f,t);r=c.toHsv();r.h=(1-n.y)*360;o(r,!0);e.fire('change')};e._repaint=function(){r=c.toHsv();o(r)};e._super();e._svdraghelper=new t(e._id+'-sv',{start:s,drag:s});e._hdraghelper=new t(e._id+'-h',{start:l,drag:l});e._repaint()},rgb:function(){return this.color().toRgb()},value:function(e){var t=this;if(arguments.length){t.color().parse(e);if(t._rendered){t._repaint()}}
else{return t.color().toHex()}},color:function(){if(!this._color){this._color=new i()};return this._color},renderHtml:function(){var i=this,t=i._id,e=i.classPrefix,r,n='#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000';function o(){var t,o,a='',r,i;r='filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=';i=n.split(',');for(t=0,o=i.length-1;t<o;t++){a+=('<div class="'+e+'colorpicker-h-chunk" style="height:'+(100/o)+'%;'+r+i[t]+',endColorstr='+i[t+1]+');-ms-'+r+i[t]+',endColorstr='+i[t+1]+')"></div>')};return a};var a=('background: -ms-linear-gradient(top,'+n+');background: linear-gradient(to bottom,'+n+');');r=('<div id="'+t+'-h" class="'+e+'colorpicker-h" style="'+a+'">'+o()+'<div id="'+t+'-hp" class="'+e+'colorpicker-h-marker"></div></div>');return('<div id="'+t+'" class="'+i.classes+'"><div id="'+t+'-sv" class="'+e+'colorpicker-sv"><div class="'+e+'colorpicker-overlay1"><div class="'+e+'colorpicker-overlay2"><div id="'+t+'-svp" class="'+e+'colorpicker-selector1"><div class="'+e+'colorpicker-selector2"></div></div></div></div></div>'+r+'</div>')}})});n('tinymce/ui/Path',['tinymce/ui/Widget'],function(e){'use strict';return e.extend({init:function(e){var t=this;if(!e.delimiter){e.delimiter='\u00BB'};t._super(e);t.classes.add('path');t.canFocus=!0;t.on('click',function(e){var n,i=e.target;if((n=i.getAttribute('data-index'))){t.fire('select',{value:t.row()[n],index:n})}});t.row(t.settings.row)},focus:function(){var e=this;e.getEl().firstChild.focus();return e},row:function(e){if(!arguments.length){return this.state.get('row')};this.state.set('row',e);return this},renderHtml:function(){var e=this;return('<div id="'+e._id+'" class="'+e.classes+'">'+e._getDataPathHtml(e.state.get('row'))+'</div>')},bindStates:function(){var e=this;e.state.on('change:row',function(t){e.innerHtml(e._getDataPathHtml(t.value))});return e._super()},_getDataPathHtml:function(e){var o=this,a=e||[],t,r,i='',n=o.classPrefix;for(t=0,r=a.length;t<r;t++){i+=((t>0?'<div class="'+n+'divider" aria-hidden="true"> '+o.settings.delimiter+' </div>':'')+'<div role="button" class="'+n+'path-item'+(t==r-1?' '+n+'last':'')+'" data-index="'+t+'" tabindex="-1" id="'+o._id+'-'+t+'" aria-level="'+t+'">'+a[t].name+'</div>')};if(!i){i='<div class="'+n+'path-item">\u00a0</div>'};return i}})});n('tinymce/ui/ElementPath',['tinymce/ui/Path','tinymce/EditorManager'],function(e,t){return e.extend({postRender:function(){var n=this,e=t.activeEditor;function i(e){if(e.nodeType===1){if(e.nodeName=='BR'||!!e.getAttribute('data-mce-bogus')){return!0};if(e.getAttribute('data-mce-type')==='bookmark'){return!0}};return!1};if(e.settings.elementpath!==!1){n.on('select',function(t){e.focus();e.selection.select(this.row()[t.index].element);e.nodeChanged()});e.on('nodeChange',function(t){var s=[],o=t.parents,r=o.length;while(r--){if(o[r].nodeType==1&&!i(o[r])){var a=e.fire('ResolveName',{name:o[r].nodeName.toLowerCase(),target:o[r]});if(!a.isDefaultPrevented()){s.push({name:a.name,element:o[r]})};if(a.isPropagationStopped()){break}}};n.row(s)})};return n._super()}})});n('tinymce/ui/FormItem',['tinymce/ui/Container'],function(e){'use strict';return e.extend({Defaults:{layout:'flex',align:'center',defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;e.classes.add('formitem');t.preRender(e);return('<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?('<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+'</div>'):'')+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||'')+t.renderHtml(e)+'</div></div>')}})});n('tinymce/ui/Form',['tinymce/ui/Container','tinymce/ui/FormItem','tinymce/util/Tools'],function(e,t,n){'use strict';return e.extend({Defaults:{containerCls:'form',layout:'flex',direction:'column',align:'stretch',flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,i=e.items();if(!e.settings.formItemDefaults){e.settings.formItemDefaults={layout:'flex',autoResize:'overflow',defaults:{flex:1}}};i.each(function(i){var r,o=i.settings.label;if(o){r=new t(n.extend({items:{type:'label',id:i._id+'-l',text:o,flex:0,forId:i._id,disabled:i.disabled()}},e.settings.formItemDefaults));r.type='formitem';i.aria('labelledby',i._id+'-l');if(typeof i.settings.flex=='undefined'){i.settings.flex=1};e.replace(i,r);r.add(i)}})},submit:function(){return this.fire('submit',{data:this.toJSON()})},postRender:function(){var e=this;e._super();e.fromJSON(e.settings.data)},bindStates:function(){var e=this;e._super();function t(){var t=0,r=[],i,o,n;if(e.settings.labelGapCalc===!1){return};if(e.settings.labelGapCalc=='children'){n=e.find('formitem')}
else{n=e.items()};n.filter('formitem').each(function(e){var i=e.items()[0],n=i.getEl().clientWidth;t=n>t?n:t;r.push(i)});o=e.settings.labelGap||0;i=r.length;while(i--){r[i].settings.minWidth=t+o}};e.on('show',t);t()}})});n('tinymce/ui/FieldSet',['tinymce/ui/Form'],function(e){'use strict';return e.extend({Defaults:{containerCls:'fieldset',layout:'flex',direction:'column',align:'stretch',flex:1,padding:'25 15 5 15',labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;e.preRender();t.preRender(e);return('<fieldset id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?('<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+'</legend>'):'')+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||'')+t.renderHtml(e)+'</div></fieldset>')}})});n('tinymce/ui/FilePicker',['tinymce/ui/ComboBox','tinymce/util/Tools'],function(e,t){'use strict';return e.extend({init:function(e){var i=this,s=tinymce.activeEditor,o=s.settings,a,r,n;e.spellcheck=!1;n=o.file_picker_types||o.file_browser_callback_types;if(n){n=t.makeMap(n,/[, ]/)};if(!n||n[e.filetype]){r=o.file_picker_callback;if(r&&(!n||n[e.filetype])){a=function(){var n=i.fire('beforecall').meta;n=t.extend({filetype:e.filetype},n);r.call(s,function(e,t){i.value(e).fire('change',{meta:t})},i.value(),n)}}
else{r=o.file_browser_callback;if(r&&(!n||n[e.filetype])){a=function(){r(i.getEl('inp').id,i.value(),e.filetype,window)}}}};if(a){e.icon='browse';e.onaction=a};i._super(e)}})});n('tinymce/ui/FitLayout',['tinymce/ui/AbsoluteLayout'],function(e){'use strict';return e.extend({recalc:function(e){var n=e.layoutRect(),t=e.paddingBox;e.items().filter(':visible').each(function(e){e.layoutRect({x:t.left,y:t.top,w:n.innerW-t.right-t.left,h:n.innerH-t.top-t.bottom});if(e.recalc){e.recalc()}})}})});n('tinymce/ui/FlexLayout',['tinymce/ui/AbsoluteLayout'],function(e){'use strict';return e.extend({recalc:function(e){var o,m,u,i,r,p,A,R,D,y,a,v,s,n,V,B,F=[],l,z,T,t,d,C,I,f,W,k,c,h,N,H,g,E,x,w,b,S,P,L,O=Math.max,U=Math.min;u=e.items().filter(':visible');i=e.layoutRect();r=e.paddingBox;p=e.settings;v=e.isRtl()?(p.direction||'row-reversed'):p.direction;A=p.align;R=e.isRtl()?(p.pack||'end'):p.pack;D=p.spacing||0;if(v=='row-reversed'||v=='column-reverse'){u=u.set(u.toArray().reverse());v=v.split('-')[0]};if(v=='column'){W='y';I='h';f='minH';k='maxH';h='innerH';c='top';N='deltaH';H='contentH';b='left';x='w';g='x';E='innerW';w='minW';S='right';P='deltaW';L='contentW'}
else{W='x';I='w';f='minW';k='maxW';h='innerW';c='left';N='deltaW';H='contentW';b='top';x='h';g='y';E='innerH';w='minH';S='bottom';P='deltaH';L='contentH'};a=i[h]-r[c]-r[c];C=y=0;for(o=0,m=u.length;o<m;o++){s=u[o];n=s.layoutRect();V=s.settings;B=V.flex;a-=(o<m-1?D:0);if(B>0){y+=B;if(n[k]){F.push(s)};n.flex=B};a-=n[f];l=r[b]+n[w]+r[S];if(l>C){C=l}};t={};if(a<0){t[f]=i[f]-a+i[N]}
else{t[f]=i[h]-a+i[N]};t[w]=C+i[P];t[H]=i[h]-a;t[L]=C;t.minW=U(t.minW,i.maxW);t.minH=U(t.minH,i.maxH);t.minW=O(t.minW,i.startMinWidth);t.minH=O(t.minH,i.startMinHeight);if(i.autoResize&&(t.minW!=i.minW||t.minH!=i.minH)){t.w=t.minW;t.h=t.minH;e.layoutRect(t);this.recalc(e);if(e._lastRect===null){var M=e.parent();if(M){M._lastRect=null;M.recalc()}};return};T=a/y;for(o=0,m=F.length;o<m;o++){s=F[o];n=s.layoutRect();z=n[k];l=n[f]+n.flex*T;if(l>z){a-=(n[k]-n[f]);y-=n.flex;n.flex=0;n.maxFlexSize=z}
else{n.maxFlexSize=0}};T=a/y;d=r[c];t={};if(y===0){if(R=='end'){d=a+r[c]}
else if(R=='center'){d=Math.round((i[h]/2)-((i[h]-a)/2))+r[c];if(d<0){d=r[c]}}
else if(R=='justify'){d=r[c];D=Math.floor(a/(u.length-1))}};t[g]=r[b];for(o=0,m=u.length;o<m;o++){s=u[o];n=s.layoutRect();l=n.maxFlexSize||n[f];if(A==='center'){t[g]=Math.round((i[E]/2)-(n[x]/2))}
else if(A==='stretch'){t[x]=O(n[w]||0,i[E]-r[b]-r[S]);t[g]=r[b]}
else if(A==='end'){t[g]=i[E]-n[x]-r.top};if(n.flex>0){l+=n.flex*T};t[I]=l;t[W]=d;s.layoutRect(t);if(s.recalc){s.recalc()};d+=l+D}}})});n('tinymce/ui/FlowLayout',['tinymce/ui/Layout'],function(e){return e.extend({Defaults:{containerClass:'flow-layout',controlClass:'flow-layout-item',endClass:'break'},recalc:function(e){e.items().filter(':visible').each(function(e){if(e.recalc){e.recalc()}})},isNative:function(){return!0}})});n('tinymce/ui/FormatControls',['tinymce/ui/Control','tinymce/ui/Widget','tinymce/ui/FloatPanel','tinymce/util/Tools','tinymce/EditorManager','tinymce/Env'],function(e,t,n,i,r,o){var a=i.each;r.on('AddEditor',function(t){if(t.editor.rtl){e.rtl=!0};s(t.editor)});e.translate=function(e){return r.translate(e)};t.tooltips=!o.iOS;function s(e){var o;function r(t,n){return function(){var i=this;e.on('nodeChange',function(r){var s=e.formatter,o=null;a(r.parents,function(e){a(t,function(t){if(n){if(s.matchNode(e,n,{value:t.value})){o=t.value}}
else{if(s.matchNode(e,t.value)){o=t.value}};if(o){return!1}});if(o){return!1}});i.value(o)})}};function s(e){e=e.replace(/;$/,'').split(';');var t=e.length;while(t--){e[t]=e[t].split('=')};return e};function c(){var s=0,r=[],n=[{title:'Headings',items:[{title:'Heading 1',format:'h1'},{title:'Heading 2',format:'h2'},{title:'Heading 3',format:'h3'},{title:'Heading 4',format:'h4'},{title:'Heading 5',format:'h5'},{title:'Heading 6',format:'h6'}]},{title:'Inline',items:[{title:'Bold',icon:'bold',format:'bold'},{title:'Italic',icon:'italic',format:'italic'},{title:'Underline',icon:'underline',format:'underline'},{title:'Strikethrough',icon:'strikethrough',format:'strikethrough'},{title:'Superscript',icon:'superscript',format:'superscript'},{title:'Subscript',icon:'subscript',format:'subscript'},{title:'Code',icon:'code',format:'code'}]},{title:'Blocks',items:[{title:'Paragraph',format:'p'},{title:'Blockquote',format:'blockquote'},{title:'Div',format:'div'},{title:'Pre',format:'pre'}]},{title:'Alignment',items:[{title:'Left',icon:'alignleft',format:'alignleft'},{title:'Center',icon:'aligncenter',format:'aligncenter'},{title:'Right',icon:'alignright',format:'alignright'},{title:'Justify',icon:'alignjustify',format:'alignjustify'}]}];function t(e){var n=[];if(!e){return};a(e,function(e){var i={text:e.title,icon:e.icon};if(e.items){i.menu=t(e.items)}
else{var o=e.format||'custom'+s++;if(!e.format){e.name=o;r.push(e)};i.format=o;i.cmd=e.cmd};n.push(i)});return n};function o(){var i;if(e.settings.style_formats_merge){if(e.settings.style_formats){i=t(n.concat(e.settings.style_formats))}
else{i=t(n)}}
else{i=t(e.settings.style_formats||n)};return i};e.on('init',function(){a(r,function(t){e.formatter.register(t.name,t)})});return{type:'menu',items:o(),onPostRender:function(t){e.fire('renderFormatsMenu',{control:t.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format){return e.formatter.getCssText(this.settings.format)}},onPostRender:function(){var t=this;t.parent().on('show',function(){var n,i;n=t.settings.format;if(n){t.disabled(!e.formatter.canApply(n));t.active(e.formatter.match(n))};i=t.settings.cmd;if(i){t.active(e.queryCommandState(i))}})},onclick:function(){if(this.settings.format){i(this.settings.format)};if(this.settings.cmd){e.execCommand(this.settings.cmd)}}}}};o=c();function l(t){return function(){var n=this;if(e.formatter){e.formatter.formatChanged(t,function(e){n.active(e)})}
else{e.on('init',function(){e.formatter.formatChanged(t,function(e){n.active(e)})})}}};a({bold:'Bold',italic:'Italic',underline:'Underline',strikethrough:'Strikethrough',subscript:'Subscript',superscript:'Superscript'},function(t,n){e.addButton(n,{tooltip:t,onPostRender:l(n),onclick:function(){i(n)}})});a({outdent:['Decrease indent','Outdent'],indent:['Increase indent','Indent'],cut:['Cut','Cut'],copy:['Copy','Copy'],paste:['Paste','Paste'],help:['Help','mceHelp'],selectall:['Select all','SelectAll'],removeformat:['Clear formatting','RemoveFormat'],visualaid:['Visual aids','mceToggleVisualAid'],newdocument:['New document','mceNewDocument']},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1]})});a({blockquote:['Blockquote','mceBlockQuote'],numlist:['Numbered list','InsertOrderedList'],bullist:['Bullet list','InsertUnorderedList'],subscript:['Subscript','Subscript'],superscript:['Superscript','Superscript'],alignleft:['Align left','JustifyLeft'],aligncenter:['Align center','JustifyCenter'],alignright:['Align right','JustifyRight'],alignjustify:['Justify','JustifyFull'],alignnone:['No alignment','JustifyNone']},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1],onPostRender:l(n)})});function t(t){return function(){var i=this;t=t=='redo'?'hasRedo':'hasUndo';function n(){return e.undoManager?e.undoManager[t]():!1};i.disabled(!n());e.on('Undo Redo AddUndo TypingUndo ClearUndos',function(){i.disabled(!n())})}};function u(){var t=this;e.on('VisualAid',function(e){t.active(e.hasVisual)});t.active(e.hasVisual)};e.addButton('undo',{tooltip:'Undo',onPostRender:t('undo'),cmd:'undo'});e.addButton('redo',{tooltip:'Redo',onPostRender:t('redo'),cmd:'redo'});e.addMenuItem('newdocument',{text:'New document',icon:'newdocument',cmd:'mceNewDocument'});e.addMenuItem('undo',{text:'Undo',icon:'undo',shortcut:'Meta+Z',onPostRender:t('undo'),cmd:'undo'});e.addMenuItem('redo',{text:'Redo',icon:'redo',shortcut:'Meta+Y',onPostRender:t('redo'),cmd:'redo'});e.addMenuItem('visualaid',{text:'Visual aids',selectable:!0,onPostRender:u,cmd:'mceToggleVisualAid'});e.addButton('remove',{tooltip:'Remove',icon:'remove',cmd:'Delete'});a({cut:['Cut','Cut','Meta+X'],copy:['Copy','Copy','Meta+C'],paste:['Paste','Paste','Meta+V'],selectall:['Select all','SelectAll','Meta+A'],bold:['Bold','Bold','Meta+B'],italic:['Italic','Italic','Meta+I'],underline:['Underline','Underline'],strikethrough:['Strikethrough','Strikethrough'],subscript:['Subscript','Subscript'],superscript:['Superscript','Superscript'],removeformat:['Clear formatting','RemoveFormat']},function(t,n){e.addMenuItem(n,{text:t[0],icon:n,shortcut:t[2],cmd:t[1]})});e.on('mousedown',function(){n.hideAll()});function i(t){if(t.control){t=t.control.value()};if(t){e.execCommand('mceToggleFormat',!1,t)}};e.addButton('styleselect',{type:'menubutton',text:'Formats',menu:o});e.addButton('formatselect',function(){var t=[],n=s(e.settings.block_formats||'Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre');a(n,function(n){t.push({text:n[0],value:n[1],textStyle:function(){return e.formatter.getCssText(n[1])}})});return{type:'listbox',text:n[0][0],values:t,fixedWidth:!0,onselect:i,onPostRender:r(t)}});e.addButton('fontselect',function(){var i='Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats',t=[],n=s(e.settings.font_formats||i);a(n,function(e){t.push({text:{raw:e[0]},value:e[1],textStyle:e[1].indexOf('dings')==-1?'font-family:'+e[1]:''})});return{type:'listbox',text:'Font Family',tooltip:'Font Family',values:t,fixedWidth:!0,onPostRender:r(t,'fontname'),onselect:function(t){if(t.control.settings.value){e.execCommand('FontName',!1,t.control.settings.value)}}}});e.addButton('fontsizeselect',function(){var t=[],i='8pt 10pt 12pt 14pt 18pt 24pt 36pt',n=e.settings.fontsize_formats||i;a(n.split(' '),function(e){var i=e,r=e,n=e.split('=');if(n.length>1){i=n[0];r=n[1]};t.push({text:i,value:r})});return{type:'listbox',text:'Font Sizes',tooltip:'Font Sizes',values:t,fixedWidth:!0,onPostRender:r(t,'fontsize'),onclick:function(t){if(t.control.settings.value){e.execCommand('FontSize',!1,t.control.settings.value)}}}});e.addMenuItem('formats',{text:'Formats',menu:o})}});n('tinymce/ui/GridLayout',['tinymce/ui/AbsoluteLayout'],function(e){'use strict';return e.extend({recalc:function(e){var a,p,s,y,r,w,C,n,o,c,t,i,v,g,A,l,m,N,S,d,f,k,E,u=[],h=[],B,T,R,x,H,P;a=e.settings;y=e.items().filter(':visible');r=e.layoutRect();s=a.columns||Math.ceil(Math.sqrt(y.length));p=Math.ceil(y.length/s);N=a.spacingH||a.spacing||0;S=a.spacingV||a.spacing||0;d=a.alignH||a.align;f=a.alignV||a.align;l=e.paddingBox;H='reverseRows' in a?a.reverseRows:e.isRtl();if(d&&typeof d=='string'){d=[d]};if(f&&typeof f=='string'){f=[f]};for(t=0;t<s;t++){u.push(0)};for(i=0;i<p;i++){h.push(0)};for(i=0;i<p;i++){for(t=0;t<s;t++){c=y[i*s+t];if(!c){break};o=c.layoutRect();B=o.minW;T=o.minH;u[t]=B>u[t]?B:u[t];h[i]=T>h[i]?T:h[i]}};R=r.innerW-l.left-l.right;for(k=0,t=0;t<s;t++){k+=u[t]+(t>0?N:0);R-=(t>0?N:0)+u[t]};x=r.innerH-l.top-l.bottom;for(E=0,i=0;i<p;i++){E+=h[i]+(i>0?S:0);x-=(i>0?S:0)+h[i]};k+=l.left+l.right;E+=l.top+l.bottom;n={};n.minW=k+(r.w-r.innerW);n.minH=E+(r.h-r.innerH);n.contentW=n.minW-r.deltaW;n.contentH=n.minH-r.deltaH;n.minW=Math.min(n.minW,r.maxW);n.minH=Math.min(n.minH,r.maxH);n.minW=Math.max(n.minW,r.startMinWidth);n.minH=Math.max(n.minH,r.startMinHeight);if(r.autoResize&&(n.minW!=r.minW||n.minH!=r.minH)){n.w=n.minW;n.h=n.minH;e.layoutRect(n);this.recalc(e);if(e._lastRect===null){var M=e.parent();if(M){M._lastRect=null;M.recalc()}};return};if(r.autoResize){n=e.layoutRect(n);n.contentW=n.minW-r.deltaW;n.contentH=n.minH-r.deltaH};var L;if(a.packV=='start'){L=0}
else{L=x>0?Math.floor(x/p):0};var D=0,b=a.flexWidths;if(b){for(t=0;t<b.length;t++){D+=b[t]}}
else{D=s};var O=R/D;for(t=0;t<s;t++){u[t]+=b?b[t]*O:O};g=l.top;for(i=0;i<p;i++){v=l.left;C=h[i]+L;for(t=0;t<s;t++){if(H){P=i*s+s-1-t}
else{P=i*s+t};c=y[P];if(!c){break};A=c.settings;o=c.layoutRect();w=Math.max(u[t],o.startMinWidth);o.x=v;o.y=g;m=A.alignH||(d?(d[t]||d[0]):null);if(m=='center'){o.x=v+(w/2)-(o.w/2)}
else if(m=='right'){o.x=v+w-o.w}
else if(m=='stretch'){o.w=w};m=A.alignV||(f?(f[t]||f[0]):null);if(m=='center'){o.y=g+(C/2)-(o.h/2)}
else if(m=='bottom'){o.y=g+C-o.h}
else if(m=='stretch'){o.h=C};c.layoutRect(o);v+=w+N;if(c.recalc){c.recalc()}};g+=C+S}}})});n('tinymce/ui/Iframe',['tinymce/ui/Widget'],function(e){'use strict';return e.extend({renderHtml:function(){var e=this;e.classes.add('iframe');e.canFocus=!1;return('<iframe id="'+e._id+'" class="'+e.classes+'" tabindex="-1" src="'+(e.settings.url||'javascript:\'\'')+'" frameborder="0"></iframe>')},src:function(e){this.getEl().src=e},html:function(e,t){var i=this,n=this.getEl().contentWindow.document.body;if(!n){setTimeout(function(){i.html(e)},0)}
else{n.innerHTML=e;if(t){t()}};return this}})});n('tinymce/ui/Label',['tinymce/ui/Widget','tinymce/ui/DomUtils'],function(e,t){'use strict';return e.extend({init:function(e){var t=this;t._super(e);t.classes.add('widget').add('label');t.canFocus=!1;if(e.multiline){t.classes.add('autoscroll')};if(e.strong){t.classes.add('strong')}},initLayoutRect:function(){var n=this,e=n._super();if(n.settings.multiline){var i=t.getSize(n.getEl());if(i.width>e.maxW){e.minW=e.maxW;n.classes.add('multiline')};n.getEl().style.width=e.minW+'px';e.startMinH=e.h=e.minH=Math.min(e.maxH,t.getSize(n.getEl()).height)};return e},repaint:function(){var e=this;if(!e.settings.multiline){e.getEl().style.lineHeight=e.layoutRect().h+'px'};return e._super()},renderHtml:function(){var e=this,t=e.settings.forId;return('<label id="'+e._id+'" class="'+e.classes+'"'+(t?' for="'+t+'"':'')+'>'+e.encode(e.state.get('text'))+'</label>')},bindStates:function(){var e=this;e.state.on('change:text',function(t){e.innerHtml(e.encode(t.value))});return e._super()}})});n('tinymce/ui/Toolbar',['tinymce/ui/Container'],function(e){'use strict';return e.extend({Defaults:{role:'toolbar',layout:'flow'},init:function(e){var t=this;t._super(e);t.classes.add('toolbar')},postRender:function(){var e=this;e.items().each(function(e){e.classes.add('toolbar-item')});return e._super()}})});n('tinymce/ui/MenuBar',['tinymce/ui/Toolbar'],function(e){'use strict';return e.extend({Defaults:{role:'menubar',containerCls:'menubar',ariaRoot:!0,defaults:{type:'menubutton'}}})});n('tinymce/ui/MenuButton',['tinymce/ui/Button','tinymce/ui/Factory','tinymce/ui/MenuBar'],function(e,t,n){'use strict';function r(e,t){while(e){if(t===e){return!0};e=e.parentNode};return!1};var i=e.extend({init:function(e){var t=this;t._renderOpen=!0;t._super(e);e=t.settings;t.classes.add('menubtn');if(e.fixedWidth){t.classes.add('fixed-width')};t.aria('haspopup',!0);t.state.set('menu',e.menu||t.render())},showMenu:function(){var e=this,n;if(e.menu&&e.menu.visible()){return e.hideMenu()};if(!e.menu){n=e.state.get('menu')||[];if(n.length){n={type:'menu',items:n}}
else{n.type=n.type||'menu'};if(!n.renderTo){e.menu=t.create(n).parent(e).renderTo()}
else{e.menu=n.parent(e).show().renderTo()};e.fire('createmenu');e.menu.reflow();e.menu.on('cancel',function(t){if(t.control.parent()===e.menu){t.stopPropagation();e.focus();e.hideMenu()}});e.menu.on('select',function(){e.focus()});e.menu.on('show hide',function(t){if(t.control==e.menu){e.activeMenu(t.type=='show')};e.aria('expanded',t.type=='show')}).fire('show')};e.menu.show();e.menu.layoutRect({w:e.layoutRect().w});e.menu.moveRel(e.getEl(),e.isRtl()?['br-tr','tr-br']:['bl-tl','tl-bl'])},hideMenu:function(){var e=this;if(e.menu){e.menu.items().each(function(e){if(e.hideMenu){e.hideMenu()}});e.menu.hide()}},activeMenu:function(e){this.classes.toggle('active',e)},renderHtml:function(){var e=this,o=e._id,r=e.classPrefix,i=e.settings.icon,t,a=e.state.get('text');t=e.settings.image;if(t){i='none';if(typeof t!='string'){t=window.getSelection?t[0]:t[1]};t=' style="background-image: url(\''+t+'\')"'}
else{t=''};i=e.settings.icon?r+'ico '+r+'i-'+i:'';e.aria('role',e.parent()instanceof n?'menuitem':'button');return('<div id="'+o+'" class="'+e.classes+'" tabindex="-1" aria-labelledby="'+o+'"><button id="'+o+'-open" role="presentation" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+t+'></i>':'')+(a?(i?'\u00a0':'')+e.encode(a):'')+' <i class="'+r+'caret"></i></button></div>')},postRender:function(){var e=this;e.on('click',function(t){if(t.control===e&&r(t.target,e.getEl())){e.showMenu();if(t.aria){e.menu.items()[0].focus()}}});e.on('mouseenter',function(t){var n=t.control,r=e.parent(),o;if(n&&r&&n instanceof i&&n.parent()==r){r.items().filter('MenuButton').each(function(e){if(e.hideMenu&&e!=n){if(e.menu&&e.menu.visible()){o=!0};e.hideMenu()}});if(o){n.focus();n.showMenu()}}});return e._super()},bindStates:function(){var e=this;e.state.on('change:menu',function(){if(e.menu){e.menu.remove()};e.menu=null});return e._super()},remove:function(){this._super();if(this.menu){this.menu.remove()}}});return i});n('tinymce/ui/MenuItem',['tinymce/ui/Widget','tinymce/ui/Factory','tinymce/Env'],function(e,t,n){'use strict';return e.extend({Defaults:{border:0,role:'menuitem'},init:function(e){var t=this,n;t._super(e);e=t.settings;t.classes.add('menu-item');if(e.menu){t.classes.add('menu-item-expand')};if(e.preview){t.classes.add('menu-item-preview')};n=t.state.get('text');if(n==='-'||n==='|'){t.classes.add('menu-item-sep');t.aria('role','separator');t.state.set('text','-')};if(e.selectable){t.aria('role','menuitemcheckbox');t.classes.add('menu-item-checkbox');e.icon='selected'};if(!e.preview&&!e.selectable){t.classes.add('menu-item-normal')};t.on('mousedown',function(e){e.preventDefault()});if(e.menu&&!e.ariaHideMenu){t.aria('haspopup',!0)}},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var n=this,o=n.settings,e,r=n.parent();r.items().each(function(e){if(e!==n){e.hideMenu()}});if(o.menu){e=n.menu;if(!e){e=o.menu;if(e.length){e={type:'menu',items:e}}
else{e.type=e.type||'menu'};if(r.settings.itemDefaults){e.itemDefaults=r.settings.itemDefaults};e=n.menu=t.create(e).parent(n).renderTo();e.reflow();e.on('cancel',function(t){t.stopPropagation();n.focus();e.hide()});e.on('show hide',function(e){e.control.items().each(function(e){e.active(e.settings.selected)})}).fire('show');e.on('hide',function(t){if(t.control===e){n.classes.remove('selected')}});e.submenu=!0}
else{e.show()};e._parentMenu=r;e.classes.add('menu-sub');var i=e.testMoveRel(n.getEl(),n.isRtl()?['tl-tr','bl-br','tr-tl','br-bl']:['tr-tl','br-bl','tl-tr','bl-br']);e.moveRel(n.getEl(),i);e.rel=i;i='menu-sub-'+i;e.classes.remove(e._lastRel).add(i);e._lastRel=i;n.classes.add('selected');n.aria('expanded',!0)}},hideMenu:function(){var e=this;if(e.menu){e.menu.items().each(function(e){if(e.hideMenu){e.hideMenu()}});e.menu.hide();e.aria('expanded',!1)};return e},renderHtml:function(){var e=this,s=e._id,r=e.settings,i=e.classPrefix,a=e.encode(e.state.get('text')),o=e.settings.icon,l='',t=r.shortcut;function c(e){var t,r,i={};if(n.mac){i={alt:'&#x2325;',ctrl:'&#x2318;',shift:'&#x21E7;',meta:'&#x2318;'}}
else{i={meta:'Ctrl'}};e=e.split('+');for(t=0;t<e.length;t++){r=i[e[t].toLowerCase()];if(r){e[t]=r}};return e.join('+')};if(o){e.parent().classes.add('menu-has-icons')};if(r.image){l=' style="background-image: url(\''+r.image+'\')"'};if(t){t=c(t)};o=i+'ico '+i+'i-'+(e.settings.icon||'none');return('<div id="'+s+'" class="'+e.classes+'" tabindex="-1">'+(a!=='-'?'<i class="'+o+'"'+l+'></i>\u00a0':'')+(a!=='-'?'<span id="'+s+'-text" class="'+i+'text">'+a+'</span>':'')+(t?'<div id="'+s+'-shortcut" class="'+i+'menu-shortcut">'+t+'</div>':'')+(r.menu?'<div class="'+i+'caret"></div>':'')+'</div>')},postRender:function(){var e=this,n=e.settings,t=n.textStyle;if(typeof t=='function'){t=t.call(this)};if(t){var i=e.getEl('text');if(i){i.setAttribute('style',t)}};e.on('mouseenter click',function(t){if(t.control===e){if(!n.menu&&t.type==='click'){e.fire('select');e.parent().hideAll()}
else{e.showMenu();if(t.aria){e.menu.focus(!0)}}}});e._super();return e},active:function(e){if(typeof e!='undefined'){this.aria('checked',e)};return this._super(e)},remove:function(){this._super();if(this.menu){this.menu.remove()}}})});n('tinymce/ui/Menu',['tinymce/ui/FloatPanel','tinymce/ui/MenuItem','tinymce/util/Tools'],function(e,t,n){'use strict';return e.extend({Defaults:{defaultType:'menuitem',border:1,layout:'stack',role:'application',bodyRole:'menu',ariaRoot:!0},init:function(e){var r=this;e.autohide=!0;e.constrainToViewport=!0;if(e.itemDefaults){var i=e.items,t=i.length;while(t--){i[t]=n.extend({},e.itemDefaults,i[t])}};r._super(e);r.classes.add('menu')},repaint:function(){this.classes.toggle('menu-align',!0);this._super();this.getEl().style.height='';this.getEl('body').style.height='';return this},cancel:function(){var e=this;e.hideAll();e.fire('select')},hideAll:function(){var e=this;this.find('menuitem').exec('hideMenu');return e._super()},preRender:function(){var e=this;e.items().each(function(t){var n=t.settings;if(n.icon||n.image||n.selectable){e._hasIcons=!0;return!1}});return e._super()}})});n('tinymce/ui/ListBox',['tinymce/ui/MenuButton','tinymce/ui/Menu'],function(e,t){'use strict';return e.extend({init:function(e){var t=this,n,o,i,r;function a(n){for(var r=0;r<n.length;r++){o=n[r].selected||e.value===n[r].value;if(o){i=i||n[r].text;t.state.set('value',n[r].value);return!0};if(n[r].menu){if(a(n[r].menu)){return!0}}}};t._super(e);e=t.settings;t._values=n=e.values;if(n){if(typeof e.value!='undefined'){a(n)};if(!o&&n.length>0){i=n[0].text;t.state.set('value',n[0].value)};t.state.set('menu',n)};t.state.set('text',e.text||i||n[0].text);t.classes.add('listbox');t.on('select',function(n){var i=n.control;if(r){n.lastControl=r};if(e.multiple){i.active(!i.active())}
else{t.value(n.control.value())};r=i})},bindStates:function(){var e=this;function i(e,n){if(e instanceof t){e.items().each(function(e){if(!e.hasMenus()){e.active(e.value()===n)}})}};function n(e,t){var r;if(!e){return};for(var i=0;i<e.length;i++){if(e[i].value===t){return e[i]};if(e[i].menu){r=n(e[i].menu,t);if(r){return r}}}};e.on('show',function(t){i(t.control,e.value())});e.state.on('change:value',function(t){var i=n(e.state.get('menu'),t.value);if(i){e.text(i.text)}
else{e.text(e.settings.text)}});return e._super()}})});n('tinymce/ui/Radio',['tinymce/ui/Checkbox'],function(e){'use strict';return e.extend({Defaults:{classes:'radio',role:'radio'}})});n('tinymce/ui/Rect',[],function(){'use strict';var n=Math.min,e=Math.max,t=Math.round;function i(e,n,i){var o,r,s,a,c,l;o=n.x;r=n.y;s=e.w;a=e.h;c=n.w;l=n.h;i=(i||'').split('');if(i[0]==='b'){r+=l};if(i[1]==='r'){o+=c};if(i[0]==='c'){r+=t(l/2)};if(i[1]==='c'){o+=t(c/2)};if(i[3]==='b'){r-=a};if(i[4]==='r'){o-=s};if(i[3]==='c'){r-=t(a/2)};if(i[4]==='c'){o-=t(s/2)};return{x:o,y:r,w:s,h:a}};function s(e,t,n,r){var o,a;for(a=0;a<r.length;a++){o=i(e,t,r[a]);if(o.x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y){return r[a]}}};function a(e,t,n){return{x:e.x-t,y:e.y-n,w:e.w+t*2,h:e.h+n*2}};function o(t,i){var o,r,s,a;o=e(t.x,i.x);r=e(t.y,i.y);s=n(t.x+t.w,i.x+i.w);a=n(t.y+t.h,i.y+i.h);if(s-o<0||a-r<0){return null};return{x:o,y:r,w:s-o,h:a-r}};function r(t,n,i){var u,f,c,l,o,r,s,a,m,d;o=t.x;r=t.y;s=t.x+t.w;a=t.y+t.h;m=n.x+n.w;d=n.y+n.h;u=e(0,n.x-o);f=e(0,n.y-r);c=e(0,s-m);l=e(0,a-d);o+=u;r+=f;if(i){s+=u;a+=f;o-=c;r-=l};s-=c;a-=l;return{x:o,y:r,w:s-o,h:a-r}};return{inflate:a,relativePosition:i,findBestRelativePosition:s,intersect:o,clamp:r}});n('tinymce/ui/ResizeHandle',['tinymce/ui/Widget','tinymce/ui/DragHelper'],function(e,t){'use strict';return e.extend({renderHtml:function(){var e=this,t=e.classPrefix;e.classes.add('resizehandle');if(e.settings.direction=='both'){e.classes.add('resizehandle-both')};e.canFocus=!1;return('<div id="'+e._id+'" class="'+e.classes+'"><i class="'+t+'ico '+t+'i-resize"></i></div>')},postRender:function(){var e=this;e._super();e.resizeDragHelper=new t(this._id,{start:function(){e.fire('ResizeStart')},drag:function(t){if(e.settings.direction!='both'){t.deltaX=0};e.fire('Resize',t)},stop:function(){e.fire('ResizeEnd')}})},remove:function(){if(this.resizeDragHelper){this.resizeDragHelper.destroy()};return this._super()}})});n('tinymce/ui/Slider',['tinymce/ui/Widget','tinymce/ui/DragHelper','tinymce/ui/DomUtils'],function(e,t,n){'use strict';function r(e,t,n){if(e<t){e=t};if(e>n){e=n};return e};function i(e,t){var s,o,i,r,a;if(e.settings.orientation=='v'){r='top';i='height';o='h'}
else{r='left';i='width';o='w'};s=(e.layoutRect()[o]||100)-n.getSize(e.getEl('handle'))[i];a=(s*((t-e._minValue)/(e._maxValue-e._minValue)))+'px';e.getEl('handle').style[r]=a;e.getEl('handle').style.height=e.layoutRect().h+'px'};return e.extend({init:function(e){var t=this;if(!e.previewFilter){e.previewFilter=function(e){return Math.round(e*100)/100.0}};t._super(e);t.classes.add('slider');if(e.orientation=='v'){t.classes.add('vertical')};t._minValue=e.minValue||0;t._maxValue=e.maxValue||100;t._initValue=t.state.get('value')},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return('<div id="'+t+'" class="'+e.classes+'"><div id="'+t+'-handle" class="'+n+'slider-handle"></div></div>')},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var e=this,d,m,f=0,i,u,h,c,o,a,l,s;u=e._minValue;h=e._maxValue;i=e.value();if(e.settings.orientation=='v'){o='screenY';a='top';l='height';s='h'}
else{o='screenX';a='left';l='width';s='w'};e._super();e._dragHelper=new t(e._id,{handle:e._id+'-handle',start:function(t){d=t[o];m=parseInt(e.getEl('handle').style[a],10);c=(e.layoutRect()[s]||100)-n.getSize(e.getEl('handle'))[l];e.fire('dragstart',{value:i})},drag:function(t){var s=t[o]-d,n=e.getEl('handle');f=r(m+s,0,c);n.style[a]=f+'px';i=u+(f/c)*(h-u);e.value(i);e.tooltip().text(''+e.settings.previewFilter(i)).show().moveRel(n,'bc tc');e.fire('drag',{value:i})},stop:function(){e.tooltip().hide();e.fire('dragend',{value:i})}})},repaint:function(){this._super();i(this,this.value())},bindStates:function(){var e=this;e.state.on('change:value',function(t){i(e,t.value)});return e._super()}})});n('tinymce/ui/Spacer',['tinymce/ui/Widget'],function(e){'use strict';return e.extend({renderHtml:function(){var e=this;e.classes.add('spacer');e.canFocus=!1;return'<div id="'+e._id+'" class="'+e.classes+'"></div>'}})});n('tinymce/ui/SplitButton',['tinymce/ui/MenuButton','tinymce/ui/DomUtils','tinymce/dom/DomQuery'],function(e,t,n){return e.extend({Defaults:{classes:'widget btn splitbtn',role:'button'},repaint:function(){var e=this,o=e.getEl(),r=e.layoutRect(),a,i;e._super();a=o.firstChild;i=o.lastChild;n(a).css({width:r.w-t.getSize(i).width,height:r.h-2});n(i).css({height:r.h-2});return e},activeMenu:function(e){var t=this;n(t.getEl().lastChild).toggleClass(t.classPrefix+'active',e)},renderHtml:function(){var t=this,o=t._id,i=t.classPrefix,e,n=t.state.get('icon'),r=t.state.get('text');e=t.settings.image;if(e){n='none';if(typeof e!='string'){e=window.getSelection?e[0]:e[1]};e=' style="background-image: url(\''+e+'\')"'}
else{e=''};n=t.settings.icon?i+'ico '+i+'i-'+n:'';return('<div id="'+o+'" class="'+t.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(n?'<i class="'+n+'"'+e+'></i>':'')+(r?(n?' ':'')+r:'')+'</button><button type="button" class="'+i+'open" hidefocus="1" tabindex="-1">'+(t._menuBtnText?(n?'\u00a0':'')+t._menuBtnText:'')+' <i class="'+i+'caret"></i></button></div>')},postRender:function(){var e=this,t=e.settings.onclick;e.on('click',function(e){var n=e.target;if(e.control==this){while(n){if((e.aria&&e.aria.key!='down')||(n.nodeName=='BUTTON'&&n.className.indexOf('open')==-1)){e.stopImmediatePropagation();if(t){t.call(this,e)};return};n=n.parentNode}}});delete e.settings.onclick;return e._super()}})});n('tinymce/ui/StackLayout',['tinymce/ui/FlowLayout'],function(e){'use strict';return e.extend({Defaults:{containerClass:'stack-layout',controlClass:'stack-layout-item',endClass:'break'},isNative:function(){return!0}})});n('tinymce/ui/TabPanel',['tinymce/ui/Panel','tinymce/dom/DomQuery','tinymce/ui/DomUtils'],function(e,t,n){'use strict';return e.extend({Defaults:{layout:'absolute',defaults:{type:'panel'}},activateTab:function(e){var n;if(this.activeTabId){n=this.getEl(this.activeTabId);t(n).removeClass(this.classPrefix+'active');n.setAttribute('aria-selected','false')};this.activeTabId='t'+e;n=this.getEl('t'+e);n.setAttribute('aria-selected','true');t(n).addClass(this.classPrefix+'active');this.items()[e].show().fire('showtab');this.reflow();this.items().each(function(t,n){if(e!=n){t.hide()}})},renderHtml:function(){var e=this,n=e._layout,i='',t=e.classPrefix;e.preRender();n.preRender(e);e.items().each(function(n,r){var o=e._id+'-t'+r;n.aria('role','tabpanel');n.aria('labelledby',o);i+=('<div id="'+o+'" class="'+t+'tab" unselectable="on" role="tab" aria-controls="'+n._id+'" aria-selected="false" tabIndex="-1">'+e.encode(n.settings.title)+'</div>')});return('<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1"><div id="'+e._id+'-head" class="'+t+'tabs" role="tablist">'+i+'</div><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+n.renderHtml(e)+'</div></div>')},postRender:function(){var e=this;e._super();e.settings.activeTab=e.settings.activeTab||0;e.activateTab(e.settings.activeTab);this.on('click',function(t){var i=t.target.parentNode;if(t.target.parentNode.id==e._id+'-head'){var n=i.childNodes.length;while(n--){if(i.childNodes[n]==t.target){e.activateTab(n)}}}})},initLayoutRect:function(){var t=this,r,e,i;e=n.getSize(t.getEl('head')).width;e=e<0?0:e;i=0;t.items().each(function(t){e=Math.max(e,t.layoutRect().minW);i=Math.max(i,t.layoutRect().minH)});t.items().each(function(t){t.settings.x=0;t.settings.y=0;t.settings.w=e;t.settings.h=i;t.layoutRect({x:0,y:0,w:e,h:i})});var o=n.getSize(t.getEl('head')).height;t.settings.minWidth=e;t.settings.minHeight=i+o;r=t._super();r.deltaH+=o;r.innerH=r.h-r.deltaH;return r}})});n('tinymce/ui/TextBox',['tinymce/ui/Widget'],function(e){'use strict';return e.extend({init:function(e){var t=this;t._super(e);t.classes.add('textbox');if(e.multiline){t.classes.add('multiline')}
else{t.on('keydown',function(e){var n;if(e.keyCode==13){e.preventDefault();t.parents().reverse().each(function(e){if(e.toJSON){n=e;return!1}});t.fire('submit',{data:n.toJSON()})}});t.on('keyup',function(e){t.state.set('value',e.target.value)})}},repaint:function(){var n=this,i,e,r,s,a=0,t;i=n.getEl().style;e=n._layoutRect;t=n._lastRepaintRect||{};var o=document;if(!n.settings.multiline&&o.all&&(!o.documentMode||o.documentMode<=8)){i.lineHeight=(e.h-a)+'px'};r=n.borderBox;s=r.left+r.right+8;a=r.top+r.bottom+(n.settings.multiline?8:0);if(e.x!==t.x){i.left=e.x+'px';t.x=e.x};if(e.y!==t.y){i.top=e.y+'px';t.y=e.y};if(e.w!==t.w){i.width=(e.w-s)+'px';t.w=e.w};if(e.h!==t.h){i.height=(e.h-a)+'px';t.h=e.h};n._lastRepaintRect=t;n.fire('repaint',{},!1);return n},renderHtml:function(){var n=this,i=n._id,e=n.settings,r=n.encode(n.state.get('value'),!1),t='';if('spellcheck' in e){t+=' spellcheck="'+e.spellcheck+'"'};if(e.maxLength){t+=' maxlength="'+e.maxLength+'"'};if(e.size){t+=' size="'+e.size+'"'};if(e.subtype){t+=' type="'+e.subtype+'"'};if(n.disabled()){t+=' disabled="disabled"'};if(e.multiline){return('<textarea id="'+i+'" class="'+n.classes+'" '+(e.rows?' rows="'+e.rows+'"':'')+' hidefocus="1"'+t+'>'+r+'</textarea>')};return'<input id="'+i+'" class="'+n.classes+'" value="'+r+'" hidefocus="1"'+t+' />'},value:function(e){if(arguments.length){this.state.set('value',e);return this};if(this.state.get('rendered')){this.state.set('value',this.getEl().value)};return this.state.get('value')},postRender:function(){var e=this;e._super();e.$el.on('change',function(t){e.state.set('value',t.target.value);e.fire('change',t)})},bindStates:function(){var e=this;e.state.on('change:value',function(t){if(e.getEl().value!=t.value){e.getEl().value=t.value}});e.state.on('change:disabled',function(t){e.getEl().disabled=t.value});return e._super()},remove:function(){this.$el.off();this._super()}})});n('tinymce/ui/Throbber',['tinymce/dom/DomQuery','tinymce/ui/Control'],function(e,t){'use strict';return function(n,i){var r=this,o,a=t.classPrefix;r.show=function(t,s){r.hide();o=!0;window.setTimeout(function(){if(o){e(n).append('<div class="'+a+'throbber'+(i?' '+a+'throbber-inline':'')+'"></div>');if(s){s()}}},t||0);return r};r.hide=function(){var e=n.lastChild;if(e&&e.className.indexOf('throbber')!=-1){e.parentNode.removeChild(e)};o=!1;return r}}});r(['tinymce/dom/EventUtils','tinymce/dom/Sizzle','tinymce/Env','tinymce/util/Tools','tinymce/dom/DomQuery','tinymce/html/Styles','tinymce/dom/TreeWalker','tinymce/html/Entities','tinymce/dom/DOMUtils','tinymce/dom/ScriptLoader','tinymce/AddOnManager','tinymce/dom/RangeUtils','tinymce/html/Node','tinymce/html/Schema','tinymce/html/SaxParser','tinymce/html/DomParser','tinymce/html/Writer','tinymce/html/Serializer','tinymce/dom/Serializer','tinymce/util/VK','tinymce/dom/ControlSelection','tinymce/dom/BookmarkManager','tinymce/dom/Selection','tinymce/Formatter','tinymce/UndoManager','tinymce/EditorCommands','tinymce/util/URI','tinymce/util/Class','tinymce/util/EventDispatcher','tinymce/util/Observable','tinymce/ui/Selector','tinymce/ui/Collection','tinymce/ui/ReflowQueue','tinymce/ui/Control','tinymce/ui/Factory','tinymce/ui/KeyboardNavigation','tinymce/ui/Container','tinymce/ui/DragHelper','tinymce/ui/Scrollable','tinymce/ui/Panel','tinymce/ui/Movable','tinymce/ui/Resizable','tinymce/ui/FloatPanel','tinymce/ui/Window','tinymce/ui/MessageBox','tinymce/WindowManager','tinymce/EditorObservable','tinymce/Shortcuts','tinymce/util/Promise','tinymce/Editor','tinymce/util/I18n','tinymce/FocusManager','tinymce/EditorManager','tinymce/util/XHR','tinymce/util/JSON','tinymce/util/JSONRequest','tinymce/util/JSONP','tinymce/util/LocalStorage','tinymce/Compat','tinymce/ui/Layout','tinymce/ui/AbsoluteLayout','tinymce/ui/Tooltip','tinymce/ui/Widget','tinymce/ui/Button','tinymce/ui/ButtonGroup','tinymce/ui/Checkbox','tinymce/ui/ComboBox','tinymce/ui/ColorBox','tinymce/ui/PanelButton','tinymce/ui/ColorButton','tinymce/util/Color','tinymce/ui/ColorPicker','tinymce/ui/Path','tinymce/ui/ElementPath','tinymce/ui/FormItem','tinymce/ui/Form','tinymce/ui/FieldSet','tinymce/ui/FilePicker','tinymce/ui/FitLayout','tinymce/ui/FlexLayout','tinymce/ui/FlowLayout','tinymce/ui/FormatControls','tinymce/ui/GridLayout','tinymce/ui/Iframe','tinymce/ui/Label','tinymce/ui/Toolbar','tinymce/ui/MenuBar','tinymce/ui/MenuButton','tinymce/ui/MenuItem','tinymce/ui/Menu','tinymce/ui/ListBox','tinymce/ui/Radio','tinymce/ui/Rect','tinymce/ui/ResizeHandle','tinymce/ui/Slider','tinymce/ui/Spacer','tinymce/ui/SplitButton','tinymce/ui/StackLayout','tinymce/ui/TabPanel','tinymce/ui/TextBox','tinymce/ui/Throbber'])})(this);